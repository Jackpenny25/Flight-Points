function Tx(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function sf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ku={exports:{}},Lo={},Gu={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function jx(){if(fg)return Ue;fg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function k(C,L,q){this.props=C,this.context=L,this.refs=b,this.updater=q||_}k.prototype.isReactComponent={},k.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function T(){}T.prototype=k.prototype;function N(C,L,q){this.props=C,this.context=L,this.refs=b,this.updater=q||_}var O=N.prototype=new T;O.constructor=N,E(O,k.prototype),O.isPureReactComponent=!0;var A=Array.isArray,$=Object.prototype.hasOwnProperty,V={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function z(C,L,q){var ne,be={},se=null,X=null;if(L!=null)for(ne in L.ref!==void 0&&(X=L.ref),L.key!==void 0&&(se=""+L.key),L)$.call(L,ne)&&!U.hasOwnProperty(ne)&&(be[ne]=L[ne]);var oe=arguments.length-2;if(oe===1)be.children=q;else if(1<oe){for(var Ce=Array(oe),Te=0;Te<oe;Te++)Ce[Te]=arguments[Te+2];be.children=Ce}if(C&&C.defaultProps)for(ne in oe=C.defaultProps,oe)be[ne]===void 0&&(be[ne]=oe[ne]);return{$$typeof:t,type:C,key:se,ref:X,props:be,_owner:V.current}}function ie(C,L){return{$$typeof:t,type:C.type,key:L,ref:C.ref,props:C.props,_owner:C._owner}}function ue(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function de(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(q){return L[q]})}var pe=/\/+/g;function le(C,L){return typeof C=="object"&&C!==null&&C.key!=null?de(""+C.key):L.toString(36)}function ge(C,L,q,ne,be){var se=typeof C;(se==="undefined"||se==="boolean")&&(C=null);var X=!1;if(C===null)X=!0;else switch(se){case"string":case"number":X=!0;break;case"object":switch(C.$$typeof){case t:case e:X=!0}}if(X)return X=C,be=be(X),C=ne===""?"."+le(X,0):ne,A(be)?(q="",C!=null&&(q=C.replace(pe,"$&/")+"/"),ge(be,L,q,"",function(Te){return Te})):be!=null&&(ue(be)&&(be=ie(be,q+(!be.key||X&&X.key===be.key?"":(""+be.key).replace(pe,"$&/")+"/")+C)),L.push(be)),1;if(X=0,ne=ne===""?".":ne+":",A(C))for(var oe=0;oe<C.length;oe++){se=C[oe];var Ce=ne+le(se,oe);X+=ge(se,L,q,Ce,be)}else if(Ce=S(C),typeof Ce=="function")for(C=Ce.call(C),oe=0;!(se=C.next()).done;)se=se.value,Ce=ne+le(se,oe++),X+=ge(se,L,q,Ce,be);else if(se==="object")throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return X}function W(C,L,q){if(C==null)return C;var ne=[],be=0;return ge(C,ne,"","",function(se){return L.call(q,se,be++)}),ne}function B(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(q){(C._status===0||C._status===-1)&&(C._status=1,C._result=q)},function(q){(C._status===0||C._status===-1)&&(C._status=2,C._result=q)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var Y={current:null},I={transition:null},K={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:I,ReactCurrentOwner:V};function H(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:W,forEach:function(C,L,q){W(C,function(){L.apply(this,arguments)},q)},count:function(C){var L=0;return W(C,function(){L++}),L},toArray:function(C){return W(C,function(L){return L})||[]},only:function(C){if(!ue(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ue.Component=k,Ue.Fragment=n,Ue.Profiler=a,Ue.PureComponent=N,Ue.StrictMode=i,Ue.Suspense=p,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Ue.act=H,Ue.cloneElement=function(C,L,q){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ne=E({},C.props),be=C.key,se=C.ref,X=C._owner;if(L!=null){if(L.ref!==void 0&&(se=L.ref,X=V.current),L.key!==void 0&&(be=""+L.key),C.type&&C.type.defaultProps)var oe=C.type.defaultProps;for(Ce in L)$.call(L,Ce)&&!U.hasOwnProperty(Ce)&&(ne[Ce]=L[Ce]===void 0&&oe!==void 0?oe[Ce]:L[Ce])}var Ce=arguments.length-2;if(Ce===1)ne.children=q;else if(1<Ce){oe=Array(Ce);for(var Te=0;Te<Ce;Te++)oe[Te]=arguments[Te+2];ne.children=oe}return{$$typeof:t,type:C.type,key:be,ref:se,props:ne,_owner:X}},Ue.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},Ue.createElement=z,Ue.createFactory=function(C){var L=z.bind(null,C);return L.type=C,L},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(C){return{$$typeof:f,render:C}},Ue.isValidElement=ue,Ue.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:B}},Ue.memo=function(C,L){return{$$typeof:m,type:C,compare:L===void 0?null:L}},Ue.startTransition=function(C){var L=I.transition;I.transition={};try{C()}finally{I.transition=L}},Ue.unstable_act=H,Ue.useCallback=function(C,L){return Y.current.useCallback(C,L)},Ue.useContext=function(C){return Y.current.useContext(C)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(C){return Y.current.useDeferredValue(C)},Ue.useEffect=function(C,L){return Y.current.useEffect(C,L)},Ue.useId=function(){return Y.current.useId()},Ue.useImperativeHandle=function(C,L,q){return Y.current.useImperativeHandle(C,L,q)},Ue.useInsertionEffect=function(C,L){return Y.current.useInsertionEffect(C,L)},Ue.useLayoutEffect=function(C,L){return Y.current.useLayoutEffect(C,L)},Ue.useMemo=function(C,L){return Y.current.useMemo(C,L)},Ue.useReducer=function(C,L,q){return Y.current.useReducer(C,L,q)},Ue.useRef=function(C){return Y.current.useRef(C)},Ue.useState=function(C){return Y.current.useState(C)},Ue.useSyncExternalStore=function(C,L,q){return Y.current.useSyncExternalStore(C,L,q)},Ue.useTransition=function(){return Y.current.useTransition()},Ue.version="18.3.1",Ue}var hg;function of(){return hg||(hg=1,Gu.exports=jx()),Gu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function Nx(){if(pg)return Lo;pg=1;var t=of(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,m){var y,v={},S=null,_=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(_=p.ref);for(y in p)i.call(p,y)&&!l.hasOwnProperty(y)&&(v[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:e,type:f,key:S,ref:_,props:v,_owner:a.current}}return Lo.Fragment=n,Lo.jsx=u,Lo.jsxs=u,Lo}var gg;function Ox(){return gg||(gg=1,Ku.exports=Nx()),Ku.exports}var d=Ox(),dl={},Ju={exports:{}},wr={},Yu={exports:{}},Xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Rx(){return mg||(mg=1,(function(t){function e(I,K){var H=I.length;I.push(K);e:for(;0<H;){var C=H-1>>>1,L=I[C];if(0<a(L,K))I[C]=K,I[H]=L,H=C;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var K=I[0],H=I.pop();if(H!==K){I[0]=H;e:for(var C=0,L=I.length,q=L>>>1;C<q;){var ne=2*(C+1)-1,be=I[ne],se=ne+1,X=I[se];if(0>a(be,H))se<L&&0>a(X,be)?(I[C]=X,I[se]=H,C=se):(I[C]=be,I[ne]=H,C=ne);else if(se<L&&0>a(X,H))I[C]=X,I[se]=H,C=se;else break e}}return K}function a(I,K){var H=I.sortIndex-K.sortIndex;return H!==0?H:I.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,v=null,S=3,_=!1,E=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(I){for(var K=n(m);K!==null;){if(K.callback===null)i(m);else if(K.startTime<=I)i(m),K.sortIndex=K.expirationTime,e(p,K);else break;K=n(m)}}function A(I){if(b=!1,O(I),!E)if(n(p)!==null)E=!0,B($);else{var K=n(m);K!==null&&Y(A,K.startTime-I)}}function $(I,K){E=!1,b&&(b=!1,T(z),z=-1),_=!0;var H=S;try{for(O(K),v=n(p);v!==null&&(!(v.expirationTime>K)||I&&!de());){var C=v.callback;if(typeof C=="function"){v.callback=null,S=v.priorityLevel;var L=C(v.expirationTime<=K);K=t.unstable_now(),typeof L=="function"?v.callback=L:v===n(p)&&i(p),O(K)}else i(p);v=n(p)}if(v!==null)var q=!0;else{var ne=n(m);ne!==null&&Y(A,ne.startTime-K),q=!1}return q}finally{v=null,S=H,_=!1}}var V=!1,U=null,z=-1,ie=5,ue=-1;function de(){return!(t.unstable_now()-ue<ie)}function pe(){if(U!==null){var I=t.unstable_now();ue=I;var K=!0;try{K=U(!0,I)}finally{K?le():(V=!1,U=null)}}else V=!1}var le;if(typeof N=="function")le=function(){N(pe)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,W=ge.port2;ge.port1.onmessage=pe,le=function(){W.postMessage(null)}}else le=function(){k(pe,0)};function B(I){U=I,V||(V=!0,le())}function Y(I,K){z=k(function(){I(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,B($))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(I){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var H=S;S=K;try{return I()}finally{S=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=S;S=I;try{return K()}finally{S=H}},t.unstable_scheduleCallback=function(I,K,H){var C=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?C+H:C):H=C,I){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,I={id:y++,callback:K,priorityLevel:I,startTime:H,expirationTime:L,sortIndex:-1},H>C?(I.sortIndex=H,e(m,I),n(p)===null&&I===n(m)&&(b?(T(z),z=-1):b=!0,Y(A,H-C))):(I.sortIndex=L,e(p,I),E||_||(E=!0,B($))),I},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(I){var K=S;return function(){var H=S;S=K;try{return I.apply(this,arguments)}finally{S=H}}}})(Xu)),Xu}var vg;function Px(){return vg||(vg=1,Yu.exports=Rx()),Yu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function Ix(){if(yg)return wr;yg=1;var t=of(),e=Px();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(a[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function S(r){return p.call(v,r)?!0:p.call(y,r)?!1:m.test(r)?v[r]=!0:(y[r]=!0,!1)}function _(r,s,o,c){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function E(r,s,o,c){if(s===null||typeof s>"u"||_(r,s,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,o,c,h,g,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=x}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(T,N);k[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(T,N);k[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(T,N);k[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,s,o,c){var h=k.hasOwnProperty(s)?k[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,o,h,c)&&(o=null),c||h===null?S(s)&&(o===null?r.removeAttribute(s):r.setAttribute(s,""+o)):h.mustUseProperty?r[h.propertyName]=o===null?h.type===3?!1:"":o:(s=h.attributeName,c=h.attributeNamespace,o===null?r.removeAttribute(s):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,c?r.setAttributeNS(c,s,o):r.setAttribute(s,o))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),V=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),de=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),I=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var H=Object.assign,C;function L(r){if(C===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);C=s&&s[1]||""}return`
`+C+r}var q=!1;function ne(r,s){if(!r||q)return"";q=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(F){var c=F}Reflect.construct(r,[],s)}else{try{s.call()}catch(F){c=F}r.call(s.prototype)}else{try{throw Error()}catch(F){c=F}r()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),g=c.stack.split(`
`),x=h.length-1,j=g.length-1;1<=x&&0<=j&&h[x]!==g[j];)j--;for(;1<=x&&0<=j;x--,j--)if(h[x]!==g[j]){if(x!==1||j!==1)do if(x--,j--,0>j||h[x]!==g[j]){var R=`
`+h[x].replace(" at new "," at ");return r.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",r.displayName)),R}while(1<=x&&0<=j);break}}}finally{q=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?L(r):""}function be(r){switch(r.tag){case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return r=ne(r.type,!1),r;case 11:return r=ne(r.type.render,!1),r;case 1:return r=ne(r.type,!0),r;default:return""}}function se(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case V:return"Portal";case ie:return"Profiler";case z:return"StrictMode";case le:return"Suspense";case ge:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case de:return(r.displayName||"Context")+".Consumer";case ue:return(r._context.displayName||"Context")+".Provider";case pe:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case W:return s=r.displayName||null,s!==null?s:se(r.type)||"Memo";case B:s=r._payload,r=r._init;try{return se(r(s))}catch{}}return null}function X(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Te(r){var s=Ce(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function De(r){r._valueTracker||(r._valueTracker=Te(r))}function Me(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ce(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function lt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function nt(r,s){var o=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function fr(r,s){var o=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;o=oe(s.value!=null?s.value:o),r._wrapperState={initialChecked:c,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Gt(r,s){s=s.checked,s!=null&&O(r,"checked",s,!1)}function Lt(r,s){Gt(r,s);var o=oe(s.value),c=s.type;if(o!=null)c==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?bt(r,s.type,o):s.hasOwnProperty("defaultValue")&&bt(r,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Dr(r,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,o||s===r.value||(r.value=s),r.defaultValue=s}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function bt(r,s,o){(s!=="number"||lt(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var lr=Array.isArray;function ee(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+oe(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function he(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ae(r,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(n(92));if(lr(o)){if(1<o.length)throw Error(n(93));o=o[0]}s=o}s==null&&(s=""),o=s}r._wrapperState={initialValue:oe(o)}}function Fe(r,s){var o=oe(s.value),c=oe(s.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),s.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),c!=null&&(r.defaultValue=""+c)}function Ve(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Je(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Je(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,G=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,o,c,h)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ce(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];Object.keys(Oe).forEach(function(r){Se.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Oe[s]=Oe[r]})});function ct(r,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||Oe.hasOwnProperty(r)&&Oe[r]?(""+s).trim():s+"px"}function It(r,s){r=r.style;for(var o in s)if(s.hasOwnProperty(o)){var c=o.indexOf("--")===0,h=ct(o,s[o],c);o==="float"&&(o="cssFloat"),c?r.setProperty(o,h):r[o]=h}}var Nt=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lr(r,s){if(s){if(Nt[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function He(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=null;function Mt(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _r=null,Er=null,Xr=null;function xs(r){if(r=bo(r)){if(typeof _r!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ca(s),_r(r.stateNode,r.type,s))}}function Ie(r){Er?Xr?Xr.push(r):Xr=[r]:Er=r}function _t(){if(Er){var r=Er,s=Xr;if(Xr=Er=null,xs(r),s)for(r=0;r<s.length;r++)xs(s[r])}}function ut(r,s){return r(s)}function Bt(){}var pn=!1;function Xe(r,s,o){if(pn)return r(s,o);pn=!0;try{return ut(r,s,o)}finally{pn=!1,(Er!==null||Xr!==null)&&(Bt(),_t())}}function dt(r,s){var o=r.stateNode;if(o===null)return null;var c=Ca(o);if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var Mr=!1;if(f)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{Mr=!1}function Jt(r,s,o,c,h,g,x,j,R){var F=Array.prototype.slice.call(arguments,3);try{s.apply(o,F)}catch(Q){this.onError(Q)}}var Qr=!1,rr=null,Tn=!1,Ys=null,Bn={onError:function(r){Qr=!0,rr=r}};function fc(r,s,o,c,h,g,x,j,R){Qr=!1,rr=null,Jt.apply(Bn,arguments)}function Xs(r,s,o,c,h,g,x,j,R){if(fc.apply(this,arguments),Qr){if(Qr){var F=rr;Qr=!1,rr=null}else throw Error(n(198));Tn||(Tn=!0,Ys=F)}}function kr(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function we(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ht(r){if(kr(r)!==r)throw Error(n(188))}function Et(r){var s=r.alternate;if(!s){if(s=kr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return ht(h),r;if(g===c)return ht(h),s;g=g.sibling}throw Error(n(188))}if(o.return!==c.return)o=h,c=g;else{for(var x=!1,j=h.child;j;){if(j===o){x=!0,o=h,c=g;break}if(j===c){x=!0,c=h,o=g;break}j=j.sibling}if(!x){for(j=g.child;j;){if(j===o){x=!0,o=g,c=h;break}if(j===c){x=!0,c=g,o=h;break}j=j.sibling}if(!x)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?r:s}function Zr(r){return r=Et(r),r!==null?$r(r):null}function $r(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=$r(r);if(s!==null)return s;r=r.sibling}return null}var Zi=e.unstable_scheduleCallback,Qs=e.unstable_cancelCallback,Vn=e.unstable_shouldYield,oa=e.unstable_requestPaint,pt=e.unstable_now,eo=e.unstable_getCurrentPriorityLevel,to=e.unstable_ImmediatePriority,aa=e.unstable_UserBlockingPriority,Zs=e.unstable_NormalPriority,ei=e.unstable_LowPriority,la=e.unstable_IdlePriority,ti=null,Fr=null;function hc(r){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:bs,jn=Math.log,zr=Math.LN2;function bs(r){return r>>>=0,r===0?32:31-(jn(r)/zr|0)|0}var ri=64,ca=4194304;function ro(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ua(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,x=o&268435455;if(x!==0){var j=x&~h;j!==0?c=ro(j):(g&=x,g!==0&&(c=ro(g)))}else x=o&~h,x!==0?c=ro(x):g!==0&&(c=ro(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,g=s&-s,h>=g||h===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=o&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)o=31-hr(s),h=1<<o,c|=r[o],s&=~h;return c}function qw(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kw(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes;0<g;){var x=31-hr(g),j=1<<x,R=h[x];R===-1?((j&o)===0||(j&c)!==0)&&(h[x]=qw(j,s)):R<=s&&(r.expiredLanes|=j),g&=~j}}function pc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Vf(){var r=ri;return ri<<=1,(ri&4194240)===0&&(ri=64),r}function gc(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function no(r,s,o){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-hr(s),r[s]=o}function Gw(r,s){var o=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<o;){var h=31-hr(o),g=1<<h;s[h]=0,c[h]=-1,r[h]=-1,o&=~g}}function mc(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-hr(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}var Qe=0;function Hf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Wf,vc,qf,Kf,Gf,yc=!1,da=[],Hn=null,Wn=null,qn=null,so=new Map,io=new Map,Kn=[],Jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(r,s){switch(r){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":so.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(s.pointerId)}}function oo(r,s,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=bo(s),s!==null&&vc(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Yw(r,s,o,c,h){switch(s){case"focusin":return Hn=oo(Hn,r,s,o,c,h),!0;case"dragenter":return Wn=oo(Wn,r,s,o,c,h),!0;case"mouseover":return qn=oo(qn,r,s,o,c,h),!0;case"pointerover":var g=h.pointerId;return so.set(g,oo(so.get(g)||null,r,s,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,io.set(g,oo(io.get(g)||null,r,s,o,c,h)),!0}return!1}function Yf(r){var s=Ss(r.target);if(s!==null){var o=kr(s);if(o!==null){if(s=o.tag,s===13){if(s=we(o),s!==null){r.blockedOn=s,Gf(r.priority,function(){qf(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fa(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=xc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);St=c,o.target.dispatchEvent(c),St=null}else return s=bo(o),s!==null&&vc(s),r.blockedOn=o,!1;s.shift()}return!0}function Xf(r,s,o){fa(r)&&o.delete(s)}function Xw(){yc=!1,Hn!==null&&fa(Hn)&&(Hn=null),Wn!==null&&fa(Wn)&&(Wn=null),qn!==null&&fa(qn)&&(qn=null),so.forEach(Xf),io.forEach(Xf)}function ao(r,s){r.blockedOn===s&&(r.blockedOn=null,yc||(yc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xw)))}function lo(r){function s(h){return ao(h,r)}if(0<da.length){ao(da[0],r);for(var o=1;o<da.length;o++){var c=da[o];c.blockedOn===r&&(c.blockedOn=null)}}for(Hn!==null&&ao(Hn,r),Wn!==null&&ao(Wn,r),qn!==null&&ao(qn,r),so.forEach(s),io.forEach(s),o=0;o<Kn.length;o++)c=Kn[o],c.blockedOn===r&&(c.blockedOn=null);for(;0<Kn.length&&(o=Kn[0],o.blockedOn===null);)Yf(o),o.blockedOn===null&&Kn.shift()}var ni=A.ReactCurrentBatchConfig,ha=!0;function Qw(r,s,o,c){var h=Qe,g=ni.transition;ni.transition=null;try{Qe=1,wc(r,s,o,c)}finally{Qe=h,ni.transition=g}}function Zw(r,s,o,c){var h=Qe,g=ni.transition;ni.transition=null;try{Qe=4,wc(r,s,o,c)}finally{Qe=h,ni.transition=g}}function wc(r,s,o,c){if(ha){var h=xc(r,s,o,c);if(h===null)Mc(r,s,c,pa,o),Jf(r,c);else if(Yw(h,r,s,o,c))c.stopPropagation();else if(Jf(r,c),s&4&&-1<Jw.indexOf(r)){for(;h!==null;){var g=bo(h);if(g!==null&&Wf(g),g=xc(r,s,o,c),g===null&&Mc(r,s,c,pa,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else Mc(r,s,c,null,o)}}var pa=null;function xc(r,s,o,c){if(pa=null,r=Mt(c),r=Ss(r),r!==null)if(s=kr(r),s===null)r=null;else if(o=s.tag,o===13){if(r=we(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return pa=r,null}function Qf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eo()){case to:return 1;case aa:return 4;case Zs:case ei:return 16;case la:return 536870912;default:return 16}default:return 16}}var Gn=null,bc=null,ga=null;function Zf(){if(ga)return ga;var r,s=bc,o=s.length,c,h="value"in Gn?Gn.value:Gn.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var x=o-r;for(c=1;c<=x&&s[o-c]===h[g-c];c++);return ga=h.slice(r,1<c?1-c:void 0)}function ma(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function va(){return!0}function eh(){return!1}function Cr(r){function s(o,c,h,g,x){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(o=r[j],this[j]=o?o(g):g[j]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?va:eh,this.isPropagationStopped=eh,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),s}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sc=Cr(si),co=H({},si,{view:0,detail:0}),e0=Cr(co),_c,Ec,uo,ya=H({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==uo&&(uo&&r.type==="mousemove"?(_c=r.screenX-uo.screenX,Ec=r.screenY-uo.screenY):Ec=_c=0,uo=r),_c)},movementY:function(r){return"movementY"in r?r.movementY:Ec}}),th=Cr(ya),t0=H({},ya,{dataTransfer:0}),r0=Cr(t0),n0=H({},co,{relatedTarget:0}),kc=Cr(n0),s0=H({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),i0=Cr(s0),o0=H({},si,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),a0=Cr(o0),l0=H({},si,{data:0}),rh=Cr(l0),c0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=d0[r])?!!s[r]:!1}function Cc(){return f0}var h0=H({},co,{key:function(r){if(r.key){var s=c0[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ma(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?u0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cc,charCode:function(r){return r.type==="keypress"?ma(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ma(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),p0=Cr(h0),g0=H({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=Cr(g0),m0=H({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cc}),v0=Cr(m0),y0=H({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),w0=Cr(y0),x0=H({},ya,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),b0=Cr(x0),S0=[9,13,27,32],Tc=f&&"CompositionEvent"in window,fo=null;f&&"documentMode"in document&&(fo=document.documentMode);var _0=f&&"TextEvent"in window&&!fo,sh=f&&(!Tc||fo&&8<fo&&11>=fo),ih=" ",oh=!1;function ah(r,s){switch(r){case"keyup":return S0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ii=!1;function E0(r,s){switch(r){case"compositionend":return lh(s);case"keypress":return s.which!==32?null:(oh=!0,ih);case"textInput":return r=s.data,r===ih&&oh?null:r;default:return null}}function k0(r,s){if(ii)return r==="compositionend"||!Tc&&ah(r,s)?(r=Zf(),ga=bc=Gn=null,ii=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return sh&&s.locale!=="ko"?null:s.data;default:return null}}var C0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!C0[r.type]:s==="textarea"}function uh(r,s,o,c){Ie(c),s=_a(s,"onChange"),0<s.length&&(o=new Sc("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var ho=null,po=null;function T0(r){jh(r,0)}function wa(r){var s=ui(r);if(Me(s))return r}function j0(r,s){if(r==="change")return s}var dh=!1;if(f){var jc;if(f){var Nc="oninput"in document;if(!Nc){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),Nc=typeof fh.oninput=="function"}jc=Nc}else jc=!1;dh=jc&&(!document.documentMode||9<document.documentMode)}function hh(){ho&&(ho.detachEvent("onpropertychange",ph),po=ho=null)}function ph(r){if(r.propertyName==="value"&&wa(po)){var s=[];uh(s,po,r,Mt(r)),Xe(T0,s)}}function N0(r,s,o){r==="focusin"?(hh(),ho=s,po=o,ho.attachEvent("onpropertychange",ph)):r==="focusout"&&hh()}function O0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wa(po)}function R0(r,s){if(r==="click")return wa(s)}function P0(r,s){if(r==="input"||r==="change")return wa(s)}function I0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var en=typeof Object.is=="function"?Object.is:I0;function go(r,s){if(en(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!p.call(s,h)||!en(r[h],s[h]))return!1}return!0}function gh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function mh(r,s){var o=gh(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gh(o)}}function vh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?vh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function yh(){for(var r=window,s=lt();s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=lt(r.document)}return s}function Oc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function A0(r){var s=yh(),o=r.focusedElem,c=r.selectionRange;if(s!==o&&o&&o.ownerDocument&&vh(o.ownerDocument.documentElement,o)){if(c!==null&&Oc(o)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(r,o.value.length);else if(r=(s=o.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=o.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!r.extend&&g>c&&(h=c,c=g,g=h),h=mh(o,g);var x=mh(o,c);h&&x&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),r.addRange(s)))}}for(s=[],r=o;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)r=s[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var D0=f&&"documentMode"in document&&11>=document.documentMode,oi=null,Rc=null,mo=null,Pc=!1;function wh(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pc||oi==null||oi!==lt(c)||(c=oi,"selectionStart"in c&&Oc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),mo&&go(mo,c)||(mo=c,c=_a(Rc,"onSelect"),0<c.length&&(s=new Sc("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=oi)))}function xa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var ai={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},Ic={},xh={};f&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function ba(r){if(Ic[r])return Ic[r];if(!ai[r])return r;var s=ai[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in xh)return Ic[r]=s[o];return r}var bh=ba("animationend"),Sh=ba("animationiteration"),_h=ba("animationstart"),Eh=ba("transitionend"),kh=new Map,Ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(r,s){kh.set(r,s),l(s,[r])}for(var Ac=0;Ac<Ch.length;Ac++){var Dc=Ch[Ac],L0=Dc.toLowerCase(),M0=Dc[0].toUpperCase()+Dc.slice(1);Jn(L0,"on"+M0)}Jn(bh,"onAnimationEnd"),Jn(Sh,"onAnimationIteration"),Jn(_h,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Eh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$0=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function Th(r,s,o){var c=r.type||"unknown-event";r.currentTarget=o,Xs(c,s,void 0,r),r.currentTarget=null}function jh(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var x=c.length-1;0<=x;x--){var j=c[x],R=j.instance,F=j.currentTarget;if(j=j.listener,R!==g&&h.isPropagationStopped())break e;Th(h,j,F),g=R}else for(x=0;x<c.length;x++){if(j=c[x],R=j.instance,F=j.currentTarget,j=j.listener,R!==g&&h.isPropagationStopped())break e;Th(h,j,F),g=R}}}if(Tn)throw r=Ys,Tn=!1,Ys=null,r}function st(r,s){var o=s[Vc];o===void 0&&(o=s[Vc]=new Set);var c=r+"__bubble";o.has(c)||(Nh(s,r,2,!1),o.add(c))}function Lc(r,s,o){var c=0;s&&(c|=4),Nh(o,r,c,s)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function yo(r){if(!r[Sa]){r[Sa]=!0,i.forEach(function(o){o!=="selectionchange"&&($0.has(o)||Lc(o,!1,r),Lc(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Sa]||(s[Sa]=!0,Lc("selectionchange",!1,s))}}function Nh(r,s,o,c){switch(Qf(s)){case 1:var h=Qw;break;case 4:h=Zw;break;default:h=wc}o=h.bind(null,s,o,r),h=void 0,!Mr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Mc(r,s,o,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var j=c.stateNode.containerInfo;if(j===h||j.nodeType===8&&j.parentNode===h)break;if(x===4)for(x=c.return;x!==null;){var R=x.tag;if((R===3||R===4)&&(R=x.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;x=x.return}for(;j!==null;){if(x=Ss(j),x===null)return;if(R=x.tag,R===5||R===6){c=g=x;continue e}j=j.parentNode}}c=c.return}Xe(function(){var F=g,Q=Mt(o),Z=[];e:{var J=kh.get(r);if(J!==void 0){var ae=Sc,me=r;switch(r){case"keypress":if(ma(o)===0)break e;case"keydown":case"keyup":ae=p0;break;case"focusin":me="focus",ae=kc;break;case"focusout":me="blur",ae=kc;break;case"beforeblur":case"afterblur":ae=kc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=v0;break;case bh:case Sh:case _h:ae=i0;break;case Eh:ae=w0;break;case"scroll":ae=e0;break;case"wheel":ae=b0;break;case"copy":case"cut":case"paste":ae=a0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=nh}var xe=(s&4)!==0,Pt=!xe&&r==="scroll",D=xe?J!==null?J+"Capture":null:J;xe=[];for(var P=F,M;P!==null;){M=P;var te=M.stateNode;if(M.tag===5&&te!==null&&(M=te,D!==null&&(te=dt(P,D),te!=null&&xe.push(wo(P,te,M)))),Pt)break;P=P.return}0<xe.length&&(J=new ae(J,me,null,o,Q),Z.push({event:J,listeners:xe}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",J&&o!==St&&(me=o.relatedTarget||o.fromElement)&&(Ss(me)||me[Nn]))break e;if((ae||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(me=o.relatedTarget||o.toElement,ae=F,me=me?Ss(me):null,me!==null&&(Pt=kr(me),me!==Pt||me.tag!==5&&me.tag!==6)&&(me=null)):(ae=null,me=F),ae!==me)){if(xe=th,te="onMouseLeave",D="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(xe=nh,te="onPointerLeave",D="onPointerEnter",P="pointer"),Pt=ae==null?J:ui(ae),M=me==null?J:ui(me),J=new xe(te,P+"leave",ae,o,Q),J.target=Pt,J.relatedTarget=M,te=null,Ss(Q)===F&&(xe=new xe(D,P+"enter",me,o,Q),xe.target=M,xe.relatedTarget=Pt,te=xe),Pt=te,ae&&me)t:{for(xe=ae,D=me,P=0,M=xe;M;M=li(M))P++;for(M=0,te=D;te;te=li(te))M++;for(;0<P-M;)xe=li(xe),P--;for(;0<M-P;)D=li(D),M--;for(;P--;){if(xe===D||D!==null&&xe===D.alternate)break t;xe=li(xe),D=li(D)}xe=null}else xe=null;ae!==null&&Oh(Z,J,ae,xe,!1),me!==null&&Pt!==null&&Oh(Z,Pt,me,xe,!0)}}e:{if(J=F?ui(F):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var _e=j0;else if(ch(J))if(dh)_e=P0;else{_e=O0;var je=N0}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(_e=R0);if(_e&&(_e=_e(r,F))){uh(Z,_e,o,Q);break e}je&&je(r,J,F),r==="focusout"&&(je=J._wrapperState)&&je.controlled&&J.type==="number"&&bt(J,"number",J.value)}switch(je=F?ui(F):window,r){case"focusin":(ch(je)||je.contentEditable==="true")&&(oi=je,Rc=F,mo=null);break;case"focusout":mo=Rc=oi=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,wh(Z,o,Q);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":wh(Z,o,Q)}var Ne;if(Tc)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ii?ah(r,o)&&(Le="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(sh&&o.locale!=="ko"&&(ii||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ii&&(Ne=Zf()):(Gn=Q,bc="value"in Gn?Gn.value:Gn.textContent,ii=!0)),je=_a(F,Le),0<je.length&&(Le=new rh(Le,r,null,o,Q),Z.push({event:Le,listeners:je}),Ne?Le.data=Ne:(Ne=lh(o),Ne!==null&&(Le.data=Ne)))),(Ne=_0?E0(r,o):k0(r,o))&&(F=_a(F,"onBeforeInput"),0<F.length&&(Q=new rh("onBeforeInput","beforeinput",null,o,Q),Z.push({event:Q,listeners:F}),Q.data=Ne))}jh(Z,s)})}function wo(r,s,o){return{instance:r,listener:s,currentTarget:o}}function _a(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=dt(r,o),g!=null&&c.unshift(wo(r,g,h)),g=dt(r,s),g!=null&&c.push(wo(r,g,h))),r=r.return}return c}function li(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Oh(r,s,o,c,h){for(var g=s._reactName,x=[];o!==null&&o!==c;){var j=o,R=j.alternate,F=j.stateNode;if(R!==null&&R===c)break;j.tag===5&&F!==null&&(j=F,h?(R=dt(o,g),R!=null&&x.unshift(wo(o,R,j))):h||(R=dt(o,g),R!=null&&x.push(wo(o,R,j)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var F0=/\r\n?/g,z0=/\u0000|\uFFFD/g;function Rh(r){return(typeof r=="string"?r:""+r).replace(F0,`
`).replace(z0,"")}function Ea(r,s,o){if(s=Rh(s),Rh(r)!==s&&o)throw Error(n(425))}function ka(){}var $c=null,Fc=null;function zc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Uc=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,Ph=typeof Promise=="function"?Promise:void 0,B0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ph<"u"?function(r){return Ph.resolve(null).then(r).catch(V0)}:Uc;function V0(r){setTimeout(function(){throw r})}function Bc(r,s){var o=s,c=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){r.removeChild(h),lo(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);lo(s)}function Yn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Ih(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}var ci=Math.random().toString(36).slice(2),gn="__reactFiber$"+ci,xo="__reactProps$"+ci,Nn="__reactContainer$"+ci,Vc="__reactEvents$"+ci,H0="__reactListeners$"+ci,W0="__reactHandles$"+ci;function Ss(r){var s=r[gn];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Nn]||o[gn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Ih(r);r!==null;){if(o=r[gn])return o;r=Ih(r)}return s}r=o,o=r.parentNode}return null}function bo(r){return r=r[gn]||r[Nn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ui(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ca(r){return r[xo]||null}var Hc=[],di=-1;function Xn(r){return{current:r}}function it(r){0>di||(r.current=Hc[di],Hc[di]=null,di--)}function tt(r,s){di++,Hc[di]=r.current,r.current=s}var Qn={},nr=Xn(Qn),pr=Xn(!1),_s=Qn;function fi(r,s){var o=r.type.contextTypes;if(!o)return Qn;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in o)h[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function gr(r){return r=r.childContextTypes,r!=null}function Ta(){it(pr),it(nr)}function Ah(r,s,o){if(nr.current!==Qn)throw Error(n(168));tt(nr,s),tt(pr,o)}function Dh(r,s,o){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(n(108,X(r)||"Unknown",h));return H({},o,c)}function ja(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Qn,_s=nr.current,tt(nr,r),tt(pr,pr.current),!0}function Lh(r,s,o){var c=r.stateNode;if(!c)throw Error(n(169));o?(r=Dh(r,s,_s),c.__reactInternalMemoizedMergedChildContext=r,it(pr),it(nr),tt(nr,r)):it(pr),tt(pr,o)}var On=null,Na=!1,Wc=!1;function Mh(r){On===null?On=[r]:On.push(r)}function q0(r){Na=!0,Mh(r)}function Zn(){if(!Wc&&On!==null){Wc=!0;var r=0,s=Qe;try{var o=On;for(Qe=1;r<o.length;r++){var c=o[r];do c=c(!0);while(c!==null)}On=null,Na=!1}catch(h){throw On!==null&&(On=On.slice(r+1)),Zi(to,Zn),h}finally{Qe=s,Wc=!1}}return null}var hi=[],pi=0,Oa=null,Ra=0,Ur=[],Br=0,Es=null,Rn=1,Pn="";function ks(r,s){hi[pi++]=Ra,hi[pi++]=Oa,Oa=r,Ra=s}function $h(r,s,o){Ur[Br++]=Rn,Ur[Br++]=Pn,Ur[Br++]=Es,Es=r;var c=Rn;r=Pn;var h=32-hr(c)-1;c&=~(1<<h),o+=1;var g=32-hr(s)+h;if(30<g){var x=h-h%5;g=(c&(1<<x)-1).toString(32),c>>=x,h-=x,Rn=1<<32-hr(s)+h|o<<h|c,Pn=g+r}else Rn=1<<g|o<<h|c,Pn=r}function qc(r){r.return!==null&&(ks(r,1),$h(r,1,0))}function Kc(r){for(;r===Oa;)Oa=hi[--pi],hi[pi]=null,Ra=hi[--pi],hi[pi]=null;for(;r===Es;)Es=Ur[--Br],Ur[Br]=null,Pn=Ur[--Br],Ur[Br]=null,Rn=Ur[--Br],Ur[Br]=null}var Tr=null,jr=null,gt=!1,tn=null;function Fh(r,s){var o=qr(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=r,s=r.deletions,s===null?(r.deletions=[o],r.flags|=16):s.push(o)}function zh(r,s){switch(r.tag){case 5:var o=r.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Tr=r,jr=Yn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Tr=r,jr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Es!==null?{id:Rn,overflow:Pn}:null,r.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=qr(18,null,null,0),o.stateNode=s,o.return=r,r.child=o,Tr=r,jr=null,!0):!1;default:return!1}}function Gc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Jc(r){if(gt){var s=jr;if(s){var o=s;if(!zh(r,s)){if(Gc(r))throw Error(n(418));s=Yn(o.nextSibling);var c=Tr;s&&zh(r,s)?Fh(c,o):(r.flags=r.flags&-4097|2,gt=!1,Tr=r)}}else{if(Gc(r))throw Error(n(418));r.flags=r.flags&-4097|2,gt=!1,Tr=r}}}function Uh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tr=r}function Pa(r){if(r!==Tr)return!1;if(!gt)return Uh(r),gt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!zc(r.type,r.memoizedProps)),s&&(s=jr)){if(Gc(r))throw Bh(),Error(n(418));for(;s;)Fh(r,s),s=Yn(s.nextSibling)}if(Uh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(s===0){jr=Yn(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}r=r.nextSibling}jr=null}}else jr=Tr?Yn(r.stateNode.nextSibling):null;return!0}function Bh(){for(var r=jr;r;)r=Yn(r.nextSibling)}function gi(){jr=Tr=null,gt=!1}function Yc(r){tn===null?tn=[r]:tn.push(r)}var K0=A.ReactCurrentBatchConfig;function So(r,s,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,r));var h=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(x){var j=h.refs;x===null?delete j[g]:j[g]=x},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,r))}return r}function Ia(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Vh(r){var s=r._init;return s(r._payload)}function Hh(r){function s(D,P){if(r){var M=D.deletions;M===null?(D.deletions=[P],D.flags|=16):M.push(P)}}function o(D,P){if(!r)return null;for(;P!==null;)s(D,P),P=P.sibling;return null}function c(D,P){for(D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function h(D,P){return D=as(D,P),D.index=0,D.sibling=null,D}function g(D,P,M){return D.index=M,r?(M=D.alternate,M!==null?(M=M.index,M<P?(D.flags|=2,P):M):(D.flags|=2,P)):(D.flags|=1048576,P)}function x(D){return r&&D.alternate===null&&(D.flags|=2),D}function j(D,P,M,te){return P===null||P.tag!==6?(P=Uu(M,D.mode,te),P.return=D,P):(P=h(P,M),P.return=D,P)}function R(D,P,M,te){var _e=M.type;return _e===U?Q(D,P,M.props.children,te,M.key):P!==null&&(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===B&&Vh(_e)===P.type)?(te=h(P,M.props),te.ref=So(D,P,M),te.return=D,te):(te=nl(M.type,M.key,M.props,null,D.mode,te),te.ref=So(D,P,M),te.return=D,te)}function F(D,P,M,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=Bu(M,D.mode,te),P.return=D,P):(P=h(P,M.children||[]),P.return=D,P)}function Q(D,P,M,te,_e){return P===null||P.tag!==7?(P=Is(M,D.mode,te,_e),P.return=D,P):(P=h(P,M),P.return=D,P)}function Z(D,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Uu(""+P,D.mode,M),P.return=D,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $:return M=nl(P.type,P.key,P.props,null,D.mode,M),M.ref=So(D,null,P),M.return=D,M;case V:return P=Bu(P,D.mode,M),P.return=D,P;case B:var te=P._init;return Z(D,te(P._payload),M)}if(lr(P)||K(P))return P=Is(P,D.mode,M,null),P.return=D,P;Ia(D,P)}return null}function J(D,P,M,te){var _e=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return _e!==null?null:j(D,P,""+M,te);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $:return M.key===_e?R(D,P,M,te):null;case V:return M.key===_e?F(D,P,M,te):null;case B:return _e=M._init,J(D,P,_e(M._payload),te)}if(lr(M)||K(M))return _e!==null?null:Q(D,P,M,te,null);Ia(D,M)}return null}function ae(D,P,M,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number")return D=D.get(M)||null,j(P,D,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case $:return D=D.get(te.key===null?M:te.key)||null,R(P,D,te,_e);case V:return D=D.get(te.key===null?M:te.key)||null,F(P,D,te,_e);case B:var je=te._init;return ae(D,P,M,je(te._payload),_e)}if(lr(te)||K(te))return D=D.get(M)||null,Q(P,D,te,_e,null);Ia(P,te)}return null}function me(D,P,M,te){for(var _e=null,je=null,Ne=P,Le=P=0,Wt=null;Ne!==null&&Le<M.length;Le++){Ne.index>Le?(Wt=Ne,Ne=null):Wt=Ne.sibling;var Ye=J(D,Ne,M[Le],te);if(Ye===null){Ne===null&&(Ne=Wt);break}r&&Ne&&Ye.alternate===null&&s(D,Ne),P=g(Ye,P,Le),je===null?_e=Ye:je.sibling=Ye,je=Ye,Ne=Wt}if(Le===M.length)return o(D,Ne),gt&&ks(D,Le),_e;if(Ne===null){for(;Le<M.length;Le++)Ne=Z(D,M[Le],te),Ne!==null&&(P=g(Ne,P,Le),je===null?_e=Ne:je.sibling=Ne,je=Ne);return gt&&ks(D,Le),_e}for(Ne=c(D,Ne);Le<M.length;Le++)Wt=ae(Ne,D,Le,M[Le],te),Wt!==null&&(r&&Wt.alternate!==null&&Ne.delete(Wt.key===null?Le:Wt.key),P=g(Wt,P,Le),je===null?_e=Wt:je.sibling=Wt,je=Wt);return r&&Ne.forEach(function(ls){return s(D,ls)}),gt&&ks(D,Le),_e}function xe(D,P,M,te){var _e=K(M);if(typeof _e!="function")throw Error(n(150));if(M=_e.call(M),M==null)throw Error(n(151));for(var je=_e=null,Ne=P,Le=P=0,Wt=null,Ye=M.next();Ne!==null&&!Ye.done;Le++,Ye=M.next()){Ne.index>Le?(Wt=Ne,Ne=null):Wt=Ne.sibling;var ls=J(D,Ne,Ye.value,te);if(ls===null){Ne===null&&(Ne=Wt);break}r&&Ne&&ls.alternate===null&&s(D,Ne),P=g(ls,P,Le),je===null?_e=ls:je.sibling=ls,je=ls,Ne=Wt}if(Ye.done)return o(D,Ne),gt&&ks(D,Le),_e;if(Ne===null){for(;!Ye.done;Le++,Ye=M.next())Ye=Z(D,Ye.value,te),Ye!==null&&(P=g(Ye,P,Le),je===null?_e=Ye:je.sibling=Ye,je=Ye);return gt&&ks(D,Le),_e}for(Ne=c(D,Ne);!Ye.done;Le++,Ye=M.next())Ye=ae(Ne,D,Le,Ye.value,te),Ye!==null&&(r&&Ye.alternate!==null&&Ne.delete(Ye.key===null?Le:Ye.key),P=g(Ye,P,Le),je===null?_e=Ye:je.sibling=Ye,je=Ye);return r&&Ne.forEach(function(Cx){return s(D,Cx)}),gt&&ks(D,Le),_e}function Pt(D,P,M,te){if(typeof M=="object"&&M!==null&&M.type===U&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case $:e:{for(var _e=M.key,je=P;je!==null;){if(je.key===_e){if(_e=M.type,_e===U){if(je.tag===7){o(D,je.sibling),P=h(je,M.props.children),P.return=D,D=P;break e}}else if(je.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===B&&Vh(_e)===je.type){o(D,je.sibling),P=h(je,M.props),P.ref=So(D,je,M),P.return=D,D=P;break e}o(D,je);break}else s(D,je);je=je.sibling}M.type===U?(P=Is(M.props.children,D.mode,te,M.key),P.return=D,D=P):(te=nl(M.type,M.key,M.props,null,D.mode,te),te.ref=So(D,P,M),te.return=D,D=te)}return x(D);case V:e:{for(je=M.key;P!==null;){if(P.key===je)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){o(D,P.sibling),P=h(P,M.children||[]),P.return=D,D=P;break e}else{o(D,P);break}else s(D,P);P=P.sibling}P=Bu(M,D.mode,te),P.return=D,D=P}return x(D);case B:return je=M._init,Pt(D,P,je(M._payload),te)}if(lr(M))return me(D,P,M,te);if(K(M))return xe(D,P,M,te);Ia(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(o(D,P.sibling),P=h(P,M),P.return=D,D=P):(o(D,P),P=Uu(M,D.mode,te),P.return=D,D=P),x(D)):o(D,P)}return Pt}var mi=Hh(!0),Wh=Hh(!1),Aa=Xn(null),Da=null,vi=null,Xc=null;function Qc(){Xc=vi=Da=null}function Zc(r){var s=Aa.current;it(Aa),r._currentValue=s}function eu(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function yi(r,s){Da=r,Xc=vi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(mr=!0),r.firstContext=null)}function Vr(r){var s=r._currentValue;if(Xc!==r)if(r={context:r,memoizedValue:s,next:null},vi===null){if(Da===null)throw Error(n(308));vi=r,Da.dependencies={lanes:0,firstContext:r}}else vi=vi.next=r;return s}var Cs=null;function tu(r){Cs===null?Cs=[r]:Cs.push(r)}function qh(r,s,o,c){var h=s.interleaved;return h===null?(o.next=o,tu(s)):(o.next=h.next,h.next=o),s.interleaved=o,In(r,c)}function In(r,s){r.lanes|=s;var o=r.alternate;for(o!==null&&(o.lanes|=s),o=r,r=r.return;r!==null;)r.childLanes|=s,o=r.alternate,o!==null&&(o.childLanes|=s),o=r,r=r.return;return o.tag===3?o.stateNode:null}var es=!1;function ru(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function An(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ts(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ge&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,In(r,o)}return h=c.interleaved,h===null?(s.next=s,tu(c)):(s.next=h.next,h.next=s),c.interleaved=s,In(r,o)}function La(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,mc(r,o)}}function Gh(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?h=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}function Ma(r,s,o,c){var h=r.updateQueue;es=!1;var g=h.firstBaseUpdate,x=h.lastBaseUpdate,j=h.shared.pending;if(j!==null){h.shared.pending=null;var R=j,F=R.next;R.next=null,x===null?g=F:x.next=F,x=R;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,j=Q.lastBaseUpdate,j!==x&&(j===null?Q.firstBaseUpdate=F:j.next=F,Q.lastBaseUpdate=R))}if(g!==null){var Z=h.baseState;x=0,Q=F=R=null,j=g;do{var J=j.lane,ae=j.eventTime;if((c&J)===J){Q!==null&&(Q=Q.next={eventTime:ae,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var me=r,xe=j;switch(J=s,ae=o,xe.tag){case 1:if(me=xe.payload,typeof me=="function"){Z=me.call(ae,Z,J);break e}Z=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,J=typeof me=="function"?me.call(ae,Z,J):me,J==null)break e;Z=H({},Z,J);break e;case 2:es=!0}}j.callback!==null&&j.lane!==0&&(r.flags|=64,J=h.effects,J===null?h.effects=[j]:J.push(j))}else ae={eventTime:ae,lane:J,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Q===null?(F=Q=ae,R=Z):Q=Q.next=ae,x|=J;if(j=j.next,j===null){if(j=h.shared.pending,j===null)break;J=j,j=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);if(Q===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=F,h.lastBaseUpdate=Q,s=h.shared.interleaved,s!==null){h=s;do x|=h.lane,h=h.next;while(h!==s)}else g===null&&(h.shared.lanes=0);Ns|=x,r.lanes=x,r.memoizedState=Z}}function Jh(r,s,o){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=o,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var _o={},mn=Xn(_o),Eo=Xn(_o),ko=Xn(_o);function Ts(r){if(r===_o)throw Error(n(174));return r}function nu(r,s){switch(tt(ko,s),tt(Eo,r),tt(mn,_o),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:tr(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=tr(s,r)}it(mn),tt(mn,s)}function wi(){it(mn),it(Eo),it(ko)}function Yh(r){Ts(ko.current);var s=Ts(mn.current),o=tr(s,r.type);s!==o&&(tt(Eo,r),tt(mn,o))}function su(r){Eo.current===r&&(it(mn),it(Eo))}var kt=Xn(0);function $a(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var iu=[];function ou(){for(var r=0;r<iu.length;r++)iu[r]._workInProgressVersionPrimary=null;iu.length=0}var Fa=A.ReactCurrentDispatcher,au=A.ReactCurrentBatchConfig,js=0,Ct=null,$t=null,Vt=null,za=!1,Co=!1,To=0,G0=0;function sr(){throw Error(n(321))}function lu(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!en(r[o],s[o]))return!1;return!0}function cu(r,s,o,c,h,g){if(js=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fa.current=r===null||r.memoizedState===null?Q0:Z0,r=o(c,h),Co){g=0;do{if(Co=!1,To=0,25<=g)throw Error(n(301));g+=1,Vt=$t=null,s.updateQueue=null,Fa.current=ex,r=o(c,h)}while(Co)}if(Fa.current=Va,s=$t!==null&&$t.next!==null,js=0,Vt=$t=Ct=null,za=!1,s)throw Error(n(300));return r}function uu(){var r=To!==0;return To=0,r}function vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ct.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Hr(){if($t===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=$t.next;var s=Vt===null?Ct.memoizedState:Vt.next;if(s!==null)Vt=s,$t=r;else{if(r===null)throw Error(n(310));$t=r,r={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Vt===null?Ct.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function jo(r,s){return typeof s=="function"?s(r):s}function du(r){var s=Hr(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var c=$t,h=c.baseQueue,g=o.pending;if(g!==null){if(h!==null){var x=h.next;h.next=g.next,g.next=x}c.baseQueue=h=g,o.pending=null}if(h!==null){g=h.next,c=c.baseState;var j=x=null,R=null,F=g;do{var Q=F.lane;if((js&Q)===Q)R!==null&&(R=R.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:r(c,F.action);else{var Z={lane:Q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};R===null?(j=R=Z,x=c):R=R.next=Z,Ct.lanes|=Q,Ns|=Q}F=F.next}while(F!==null&&F!==g);R===null?x=c:R.next=j,en(c,s.memoizedState)||(mr=!0),s.memoizedState=c,s.baseState=x,s.baseQueue=R,o.lastRenderedState=c}if(r=o.interleaved,r!==null){h=r;do g=h.lane,Ct.lanes|=g,Ns|=g,h=h.next;while(h!==r)}else h===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function fu(r){var s=Hr(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var x=h=h.next;do g=r(g,x.action),x=x.next;while(x!==h);en(g,s.memoizedState)||(mr=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function Xh(){}function Qh(r,s){var o=Ct,c=Hr(),h=s(),g=!en(c.memoizedState,h);if(g&&(c.memoizedState=h,mr=!0),c=c.queue,hu(tp.bind(null,o,c,r),[r]),c.getSnapshot!==s||g||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,No(9,ep.bind(null,o,c,h,s),void 0,null),Ht===null)throw Error(n(349));(js&30)!==0||Zh(o,s,h)}return h}function Zh(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function ep(r,s,o,c){s.value=o,s.getSnapshot=c,rp(s)&&np(r)}function tp(r,s,o){return o(function(){rp(s)&&np(r)})}function rp(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!en(r,o)}catch{return!0}}function np(r){var s=In(r,1);s!==null&&on(s,r,1,-1)}function sp(r){var s=vn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:r},s.queue=r,r=r.dispatch=X0.bind(null,Ct,r),[s.memoizedState,r]}function No(r,s,o,c){return r={tag:r,create:s,destroy:o,deps:c,next:null},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.lastEffect=r.next=r):(o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r)),r}function ip(){return Hr().memoizedState}function Ua(r,s,o,c){var h=vn();Ct.flags|=r,h.memoizedState=No(1|s,o,void 0,c===void 0?null:c)}function Ba(r,s,o,c){var h=Hr();c=c===void 0?null:c;var g=void 0;if($t!==null){var x=$t.memoizedState;if(g=x.destroy,c!==null&&lu(c,x.deps)){h.memoizedState=No(s,o,g,c);return}}Ct.flags|=r,h.memoizedState=No(1|s,o,g,c)}function op(r,s){return Ua(8390656,8,r,s)}function hu(r,s){return Ba(2048,8,r,s)}function ap(r,s){return Ba(4,2,r,s)}function lp(r,s){return Ba(4,4,r,s)}function cp(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function up(r,s,o){return o=o!=null?o.concat([r]):null,Ba(4,4,cp.bind(null,s,r),o)}function pu(){}function dp(r,s){var o=Hr();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&lu(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function fp(r,s){var o=Hr();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&lu(s,c[1])?c[0]:(r=r(),o.memoizedState=[r,s],r)}function hp(r,s,o){return(js&21)===0?(r.baseState&&(r.baseState=!1,mr=!0),r.memoizedState=o):(en(o,s)||(o=Vf(),Ct.lanes|=o,Ns|=o,r.baseState=!0),s)}function J0(r,s){var o=Qe;Qe=o!==0&&4>o?o:4,r(!0);var c=au.transition;au.transition={};try{r(!1),s()}finally{Qe=o,au.transition=c}}function pp(){return Hr().memoizedState}function Y0(r,s,o){var c=is(r);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},gp(r))mp(s,o);else if(o=qh(r,s,o,c),o!==null){var h=ur();on(o,r,c,h),vp(o,s,c)}}function X0(r,s,o){var c=is(r),h={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(gp(r))mp(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,j=g(x,o);if(h.hasEagerState=!0,h.eagerState=j,en(j,x)){var R=s.interleaved;R===null?(h.next=h,tu(s)):(h.next=R.next,R.next=h),s.interleaved=h;return}}catch{}finally{}o=qh(r,s,h,c),o!==null&&(h=ur(),on(o,r,c,h),vp(o,s,c))}}function gp(r){var s=r.alternate;return r===Ct||s!==null&&s===Ct}function mp(r,s){Co=za=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function vp(r,s,o){if((o&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,mc(r,o)}}var Va={readContext:Vr,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},Q0={readContext:Vr,useCallback:function(r,s){return vn().memoizedState=[r,s===void 0?null:s],r},useContext:Vr,useEffect:op,useImperativeHandle:function(r,s,o){return o=o!=null?o.concat([r]):null,Ua(4194308,4,cp.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Ua(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ua(4,2,r,s)},useMemo:function(r,s){var o=vn();return s=s===void 0?null:s,r=r(),o.memoizedState=[r,s],r},useReducer:function(r,s,o){var c=vn();return s=o!==void 0?o(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=Y0.bind(null,Ct,r),[c.memoizedState,r]},useRef:function(r){var s=vn();return r={current:r},s.memoizedState=r},useState:sp,useDebugValue:pu,useDeferredValue:function(r){return vn().memoizedState=r},useTransition:function(){var r=sp(!1),s=r[0];return r=J0.bind(null,r[1]),vn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,o){var c=Ct,h=vn();if(gt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),Ht===null)throw Error(n(349));(js&30)!==0||Zh(c,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,op(tp.bind(null,c,g,r),[r]),c.flags|=2048,No(9,ep.bind(null,c,g,o,s),void 0,null),o},useId:function(){var r=vn(),s=Ht.identifierPrefix;if(gt){var o=Pn,c=Rn;o=(c&~(1<<32-hr(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=To++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=G0++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Z0={readContext:Vr,useCallback:dp,useContext:Vr,useEffect:hu,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:lp,useMemo:fp,useReducer:du,useRef:ip,useState:function(){return du(jo)},useDebugValue:pu,useDeferredValue:function(r){var s=Hr();return hp(s,$t.memoizedState,r)},useTransition:function(){var r=du(jo)[0],s=Hr().memoizedState;return[r,s]},useMutableSource:Xh,useSyncExternalStore:Qh,useId:pp,unstable_isNewReconciler:!1},ex={readContext:Vr,useCallback:dp,useContext:Vr,useEffect:hu,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:lp,useMemo:fp,useReducer:fu,useRef:ip,useState:function(){return fu(jo)},useDebugValue:pu,useDeferredValue:function(r){var s=Hr();return $t===null?s.memoizedState=r:hp(s,$t.memoizedState,r)},useTransition:function(){var r=fu(jo)[0],s=Hr().memoizedState;return[r,s]},useMutableSource:Xh,useSyncExternalStore:Qh,useId:pp,unstable_isNewReconciler:!1};function rn(r,s){if(r&&r.defaultProps){s=H({},s),r=r.defaultProps;for(var o in r)s[o]===void 0&&(s[o]=r[o]);return s}return s}function gu(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:H({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ha={isMounted:function(r){return(r=r._reactInternals)?kr(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=ur(),h=is(r),g=An(c,h);g.payload=s,o!=null&&(g.callback=o),s=ts(r,g,h),s!==null&&(on(s,r,h,c),La(s,r,h))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=ur(),h=is(r),g=An(c,h);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=ts(r,g,h),s!==null&&(on(s,r,h,c),La(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=ur(),c=is(r),h=An(o,c);h.tag=2,s!=null&&(h.callback=s),s=ts(r,h,c),s!==null&&(on(s,r,c,o),La(s,r,c))}};function yp(r,s,o,c,h,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,x):s.prototype&&s.prototype.isPureReactComponent?!go(o,c)||!go(h,g):!0}function wp(r,s,o){var c=!1,h=Qn,g=s.contextType;return typeof g=="object"&&g!==null?g=Vr(g):(h=gr(s)?_s:nr.current,c=s.contextTypes,g=(c=c!=null)?fi(r,h):Qn),s=new s(o,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ha,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=g),s}function xp(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Ha.enqueueReplaceState(s,s.state,null)}function mu(r,s,o,c){var h=r.stateNode;h.props=o,h.state=r.memoizedState,h.refs={},ru(r);var g=s.contextType;typeof g=="object"&&g!==null?h.context=Vr(g):(g=gr(s)?_s:nr.current,h.context=fi(r,g)),h.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(gu(r,s,g,o),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ha.enqueueReplaceState(h,h.state,null),Ma(r,o,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function xi(r,s){try{var o="",c=s;do o+=be(c),c=c.return;while(c);var h=o}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:h,digest:null}}function vu(r,s,o){return{value:r,source:null,stack:o??null,digest:s??null}}function yu(r,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var tx=typeof WeakMap=="function"?WeakMap:Map;function bp(r,s,o){o=An(-1,o),o.tag=3,o.payload={element:null};var c=s.value;return o.callback=function(){Xa||(Xa=!0,Iu=c),yu(r,s)},o}function Sp(r,s,o){o=An(-1,o),o.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;o.payload=function(){return c(h)},o.callback=function(){yu(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){yu(r,s),typeof c!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),o}function _p(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new tx;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(h.add(o),r=gx.bind(null,r,s,o),s.then(r,r))}function Ep(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function kp(r,s,o,c,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=An(-1,1),s.tag=2,ts(o,s,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var rx=A.ReactCurrentOwner,mr=!1;function cr(r,s,o,c){s.child=r===null?Wh(s,null,o,c):mi(s,r.child,o,c)}function Cp(r,s,o,c,h){o=o.render;var g=s.ref;return yi(s,h),c=cu(r,s,o,c,g,h),o=uu(),r!==null&&!mr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Dn(r,s,h)):(gt&&o&&qc(s),s.flags|=1,cr(r,s,c,h),s.child)}function Tp(r,s,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!zu(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=g,jp(r,s,g,c,h)):(r=nl(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&h)===0){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:go,o(x,c)&&r.ref===s.ref)return Dn(r,s,h)}return s.flags|=1,r=as(g,c),r.ref=s.ref,r.return=s,s.child=r}function jp(r,s,o,c,h){if(r!==null){var g=r.memoizedProps;if(go(g,c)&&r.ref===s.ref)if(mr=!1,s.pendingProps=c=g,(r.lanes&h)!==0)(r.flags&131072)!==0&&(mr=!0);else return s.lanes=r.lanes,Dn(r,s,h)}return wu(r,s,o,c,h)}function Np(r,s,o){var c=s.pendingProps,h=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Si,Nr),Nr|=o;else{if((o&1073741824)===0)return r=g!==null?g.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,tt(Si,Nr),Nr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:o,tt(Si,Nr),Nr|=c}else g!==null?(c=g.baseLanes|o,s.memoizedState=null):c=o,tt(Si,Nr),Nr|=c;return cr(r,s,h,o),s.child}function Op(r,s){var o=s.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function wu(r,s,o,c,h){var g=gr(o)?_s:nr.current;return g=fi(s,g),yi(s,h),o=cu(r,s,o,c,g,h),c=uu(),r!==null&&!mr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Dn(r,s,h)):(gt&&c&&qc(s),s.flags|=1,cr(r,s,o,h),s.child)}function Rp(r,s,o,c,h){if(gr(o)){var g=!0;ja(s)}else g=!1;if(yi(s,h),s.stateNode===null)qa(r,s),wp(s,o,c),mu(s,o,c,h),c=!0;else if(r===null){var x=s.stateNode,j=s.memoizedProps;x.props=j;var R=x.context,F=o.contextType;typeof F=="object"&&F!==null?F=Vr(F):(F=gr(o)?_s:nr.current,F=fi(s,F));var Q=o.getDerivedStateFromProps,Z=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function";Z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==c||R!==F)&&xp(s,x,c,F),es=!1;var J=s.memoizedState;x.state=J,Ma(s,c,x,h),R=s.memoizedState,j!==c||J!==R||pr.current||es?(typeof Q=="function"&&(gu(s,o,Q,c),R=s.memoizedState),(j=es||yp(s,o,j,c,J,R,F))?(Z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=R),x.props=c,x.state=R,x.context=F,c=j):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{x=s.stateNode,Kh(r,s),j=s.memoizedProps,F=s.type===s.elementType?j:rn(s.type,j),x.props=F,Z=s.pendingProps,J=x.context,R=o.contextType,typeof R=="object"&&R!==null?R=Vr(R):(R=gr(o)?_s:nr.current,R=fi(s,R));var ae=o.getDerivedStateFromProps;(Q=typeof ae=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==Z||J!==R)&&xp(s,x,c,R),es=!1,J=s.memoizedState,x.state=J,Ma(s,c,x,h);var me=s.memoizedState;j!==Z||J!==me||pr.current||es?(typeof ae=="function"&&(gu(s,o,ae,c),me=s.memoizedState),(F=es||yp(s,o,F,c,J,me,R)||!1)?(Q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,me,R),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,me,R)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=me),x.props=c,x.state=me,x.context=R,c=F):(typeof x.componentDidUpdate!="function"||j===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return xu(r,s,o,c,g,h)}function xu(r,s,o,c,h,g){Op(r,s);var x=(s.flags&128)!==0;if(!c&&!x)return h&&Lh(s,o,!1),Dn(r,s,g);c=s.stateNode,rx.current=s;var j=x&&typeof o.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&x?(s.child=mi(s,r.child,null,g),s.child=mi(s,null,j,g)):cr(r,s,j,g),s.memoizedState=c.state,h&&Lh(s,o,!0),s.child}function Pp(r){var s=r.stateNode;s.pendingContext?Ah(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Ah(r,s.context,!1),nu(r,s.containerInfo)}function Ip(r,s,o,c,h){return gi(),Yc(h),s.flags|=256,cr(r,s,o,c),s.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function Su(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ap(r,s,o){var c=s.pendingProps,h=kt.current,g=!1,x=(s.flags&128)!==0,j;if((j=x)||(j=r!==null&&r.memoizedState===null?!1:(h&2)!==0),j?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),tt(kt,h&1),r===null)return Jc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=c.children,r=c.fallback,g?(c=s.mode,g=s.child,x={mode:"hidden",children:x},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=sl(x,c,0,null),r=Is(r,c,o,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Su(o),s.memoizedState=bu,r):_u(s,x));if(h=r.memoizedState,h!==null&&(j=h.dehydrated,j!==null))return nx(r,s,x,c,j,h,o);if(g){g=c.fallback,x=s.mode,h=r.child,j=h.sibling;var R={mode:"hidden",children:c.children};return(x&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=R,s.deletions=null):(c=as(h,R),c.subtreeFlags=h.subtreeFlags&14680064),j!==null?g=as(j,g):(g=Is(g,x,o,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,x=r.child.memoizedState,x=x===null?Su(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=r.childLanes&~o,s.memoizedState=bu,c}return g=r.child,r=g.sibling,c=as(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=o),c.return=s,c.sibling=null,r!==null&&(o=s.deletions,o===null?(s.deletions=[r],s.flags|=16):o.push(r)),s.child=c,s.memoizedState=null,c}function _u(r,s){return s=sl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Wa(r,s,o,c){return c!==null&&Yc(c),mi(s,r.child,null,o),r=_u(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function nx(r,s,o,c,h,g,x){if(o)return s.flags&256?(s.flags&=-257,c=vu(Error(n(422))),Wa(r,s,x,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,h=s.mode,c=sl({mode:"visible",children:c.children},h,0,null),g=Is(g,h,x,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&mi(s,r.child,null,x),s.child.memoizedState=Su(x),s.memoizedState=bu,g);if((s.mode&1)===0)return Wa(r,s,x,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var j=c.dgst;return c=j,g=Error(n(419)),c=vu(g,c,void 0),Wa(r,s,x,c)}if(j=(x&r.childLanes)!==0,mr||j){if(c=Ht,c!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|x))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,In(r,h),on(c,r,h,-1))}return Fu(),c=vu(Error(n(421))),Wa(r,s,x,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=mx.bind(null,r),h._reactRetry=s,null):(r=g.treeContext,jr=Yn(h.nextSibling),Tr=s,gt=!0,tn=null,r!==null&&(Ur[Br++]=Rn,Ur[Br++]=Pn,Ur[Br++]=Es,Rn=r.id,Pn=r.overflow,Es=s),s=_u(s,c.children),s.flags|=4096,s)}function Dp(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),eu(r.return,s,o)}function Eu(r,s,o,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=h)}function Lp(r,s,o){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(cr(r,s,c.children,o),c=kt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dp(r,o,s);else if(r.tag===19)Dp(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(tt(kt,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&$a(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Eu(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&$a(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Eu(s,!0,o,null,g);break;case"together":Eu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qa(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Dn(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ns|=s.lanes,(o&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,o=as(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=as(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function sx(r,s,o){switch(s.tag){case 3:Pp(s),gi();break;case 5:Yh(s);break;case 1:gr(s.type)&&ja(s);break;case 4:nu(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;tt(Aa,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(tt(kt,kt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?Ap(r,s,o):(tt(kt,kt.current&1),r=Dn(r,s,o),r!==null?r.sibling:null);tt(kt,kt.current&1);break;case 19:if(c=(o&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Lp(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(kt,kt.current),c)break;return null;case 22:case 23:return s.lanes=0,Np(r,s,o)}return Dn(r,s,o)}var Mp,ku,$p,Fp;Mp=function(r,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ku=function(){},$p=function(r,s,o,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,Ts(mn.current);var g=null;switch(o){case"input":h=nt(r,h),c=nt(r,c),g=[];break;case"select":h=H({},h,{value:void 0}),c=H({},c,{value:void 0}),g=[];break;case"textarea":h=he(r,h),c=he(r,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=ka)}Lr(o,c);var x;o=null;for(F in h)if(!c.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var j=h[F];for(x in j)j.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?g||(g=[]):(g=g||[]).push(F,null));for(F in c){var R=c[F];if(j=h!=null?h[F]:void 0,c.hasOwnProperty(F)&&R!==j&&(R!=null||j!=null))if(F==="style")if(j){for(x in j)!j.hasOwnProperty(x)||R&&R.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in R)R.hasOwnProperty(x)&&j[x]!==R[x]&&(o||(o={}),o[x]=R[x])}else o||(g||(g=[]),g.push(F,o)),o=R;else F==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,j=j?j.__html:void 0,R!=null&&j!==R&&(g=g||[]).push(F,R)):F==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(F,""+R):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(R!=null&&F==="onScroll"&&st("scroll",r),g||j===R||(g=[])):(g=g||[]).push(F,R))}o&&(g=g||[]).push("style",o);var F=g;(s.updateQueue=F)&&(s.flags|=4)}},Fp=function(r,s,o,c){o!==c&&(s.flags|=4)};function Oo(r,s){if(!gt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ir(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function ix(r,s,o){var c=s.pendingProps;switch(Kc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(s),null;case 1:return gr(s.type)&&Ta(),ir(s),null;case 3:return c=s.stateNode,wi(),it(pr),it(nr),ou(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Pa(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tn!==null&&(Lu(tn),tn=null))),ku(r,s),ir(s),null;case 5:su(s);var h=Ts(ko.current);if(o=s.type,r!==null&&s.stateNode!=null)$p(r,s,o,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return ir(s),null}if(r=Ts(mn.current),Pa(s)){c=s.stateNode,o=s.type;var g=s.memoizedProps;switch(c[gn]=s,c[xo]=g,r=(s.mode&1)!==0,o){case"dialog":st("cancel",c),st("close",c);break;case"iframe":case"object":case"embed":st("load",c);break;case"video":case"audio":for(h=0;h<vo.length;h++)st(vo[h],c);break;case"source":st("error",c);break;case"img":case"image":case"link":st("error",c),st("load",c);break;case"details":st("toggle",c);break;case"input":fr(c,g),st("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},st("invalid",c);break;case"textarea":Ae(c,g),st("invalid",c)}Lr(o,g),h=null;for(var x in g)if(g.hasOwnProperty(x)){var j=g[x];x==="children"?typeof j=="string"?c.textContent!==j&&(g.suppressHydrationWarning!==!0&&Ea(c.textContent,j,r),h=["children",j]):typeof j=="number"&&c.textContent!==""+j&&(g.suppressHydrationWarning!==!0&&Ea(c.textContent,j,r),h=["children",""+j]):a.hasOwnProperty(x)&&j!=null&&x==="onScroll"&&st("scroll",c)}switch(o){case"input":De(c),Dr(c,g,!0);break;case"textarea":De(c),Ve(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=ka)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Je(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=x.createElement(o,{is:c.is}):(r=x.createElement(o),o==="select"&&(x=r,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):r=x.createElementNS(r,o),r[gn]=s,r[xo]=c,Mp(r,s,!1,!1),s.stateNode=r;e:{switch(x=He(o,c),o){case"dialog":st("cancel",r),st("close",r),h=c;break;case"iframe":case"object":case"embed":st("load",r),h=c;break;case"video":case"audio":for(h=0;h<vo.length;h++)st(vo[h],r);h=c;break;case"source":st("error",r),h=c;break;case"img":case"image":case"link":st("error",r),st("load",r),h=c;break;case"details":st("toggle",r),h=c;break;case"input":fr(r,c),h=nt(r,c),st("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=H({},c,{value:void 0}),st("invalid",r);break;case"textarea":Ae(r,c),h=he(r,c),st("invalid",r);break;default:h=c}Lr(o,h),j=h;for(g in j)if(j.hasOwnProperty(g)){var R=j[g];g==="style"?It(r,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&G(r,R)):g==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&ce(r,R):typeof R=="number"&&ce(r,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?R!=null&&g==="onScroll"&&st("scroll",r):R!=null&&O(r,g,R,x))}switch(o){case"input":De(r),Dr(r,c,!1);break;case"textarea":De(r),Ve(r);break;case"option":c.value!=null&&r.setAttribute("value",""+oe(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?ee(r,!!c.multiple,g,!1):c.defaultValue!=null&&ee(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=ka)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ir(s),null;case 6:if(r&&s.stateNode!=null)Fp(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(o=Ts(ko.current),Ts(mn.current),Pa(s)){if(c=s.stateNode,o=s.memoizedProps,c[gn]=s,(g=c.nodeValue!==o)&&(r=Tr,r!==null))switch(r.tag){case 3:Ea(c.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ea(c.nodeValue,o,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[gn]=s,s.stateNode=c}return ir(s),null;case 13:if(it(kt),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&jr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Bh(),gi(),s.flags|=98560,g=!1;else if(g=Pa(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[gn]=s}else gi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ir(s),g=!1}else tn!==null&&(Lu(tn),tn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(kt.current&1)!==0?Ft===0&&(Ft=3):Fu())),s.updateQueue!==null&&(s.flags|=4),ir(s),null);case 4:return wi(),ku(r,s),r===null&&yo(s.stateNode.containerInfo),ir(s),null;case 10:return Zc(s.type._context),ir(s),null;case 17:return gr(s.type)&&Ta(),ir(s),null;case 19:if(it(kt),g=s.memoizedState,g===null)return ir(s),null;if(c=(s.flags&128)!==0,x=g.rendering,x===null)if(c)Oo(g,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(x=$a(r),x!==null){for(s.flags|=128,Oo(g,!1),c=x.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=o,o=s.child;o!==null;)g=o,r=c,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,r=x.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return tt(kt,kt.current&1|2),s.child}r=r.sibling}g.tail!==null&&pt()>_i&&(s.flags|=128,c=!0,Oo(g,!1),s.lanes=4194304)}else{if(!c)if(r=$a(x),r!==null){if(s.flags|=128,c=!0,o=r.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Oo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!gt)return ir(s),null}else 2*pt()-g.renderingStartTime>_i&&o!==1073741824&&(s.flags|=128,c=!0,Oo(g,!1),s.lanes=4194304);g.isBackwards?(x.sibling=s.child,s.child=x):(o=g.last,o!==null?o.sibling=x:s.child=x,g.last=x)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=pt(),s.sibling=null,o=kt.current,tt(kt,c?o&1|2:o&1),s):(ir(s),null);case 22:case 23:return $u(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Nr&1073741824)!==0&&(ir(s),s.subtreeFlags&6&&(s.flags|=8192)):ir(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function ox(r,s){switch(Kc(s),s.tag){case 1:return gr(s.type)&&Ta(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wi(),it(pr),it(nr),ou(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return su(s),null;case 13:if(it(kt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));gi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return it(kt),null;case 4:return wi(),null;case 10:return Zc(s.type._context),null;case 22:case 23:return $u(),null;case 24:return null;default:return null}}var Ka=!1,or=!1,ax=typeof WeakSet=="function"?WeakSet:Set,fe=null;function bi(r,s){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Ot(r,s,c)}else o.current=null}function Cu(r,s,o){try{o()}catch(c){Ot(r,s,c)}}var zp=!1;function lx(r,s){if($c=ha,r=yh(),Oc(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,j=-1,R=-1,F=0,Q=0,Z=r,J=null;t:for(;;){for(var ae;Z!==o||h!==0&&Z.nodeType!==3||(j=x+h),Z!==g||c!==0&&Z.nodeType!==3||(R=x+c),Z.nodeType===3&&(x+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)J=Z,Z=ae;for(;;){if(Z===r)break t;if(J===o&&++F===h&&(j=x),J===g&&++Q===c&&(R=x),(ae=Z.nextSibling)!==null)break;Z=J,J=Z.parentNode}Z=ae}o=j===-1||R===-1?null:{start:j,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fc={focusedElem:r,selectionRange:o},ha=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var xe=me.memoizedProps,Pt=me.memoizedState,D=s.stateNode,P=D.getSnapshotBeforeUpdate(s.elementType===s.type?xe:rn(s.type,xe),Pt);D.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=s.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){Ot(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return me=zp,zp=!1,me}function Ro(r,s,o){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var g=h.destroy;h.destroy=void 0,g!==void 0&&Cu(s,o,g)}h=h.next}while(h!==c)}}function Ga(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&r)===r){var c=o.create;o.destroy=c()}o=o.next}while(o!==s)}}function Tu(r){var s=r.ref;if(s!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof s=="function"?s(r):s.current=r}}function Up(r){var s=r.alternate;s!==null&&(r.alternate=null,Up(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[gn],delete s[xo],delete s[Vc],delete s[H0],delete s[W0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Bp(r){return r.tag===5||r.tag===3||r.tag===4}function Vp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Bp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ju(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ka));else if(c!==4&&(r=r.child,r!==null))for(ju(r,s,o),r=r.sibling;r!==null;)ju(r,s,o),r=r.sibling}function Nu(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Nu(r,s,o),r=r.sibling;r!==null;)Nu(r,s,o),r=r.sibling}var Yt=null,nn=!1;function rs(r,s,o){for(o=o.child;o!==null;)Hp(r,s,o),o=o.sibling}function Hp(r,s,o){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(ti,o)}catch{}switch(o.tag){case 5:or||bi(o,s);case 6:var c=Yt,h=nn;Yt=null,rs(r,s,o),Yt=c,nn=h,Yt!==null&&(nn?(r=Yt,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):Yt.removeChild(o.stateNode));break;case 18:Yt!==null&&(nn?(r=Yt,o=o.stateNode,r.nodeType===8?Bc(r.parentNode,o):r.nodeType===1&&Bc(r,o),lo(r)):Bc(Yt,o.stateNode));break;case 4:c=Yt,h=nn,Yt=o.stateNode.containerInfo,nn=!0,rs(r,s,o),Yt=c,nn=h;break;case 0:case 11:case 14:case 15:if(!or&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&Cu(o,s,x),h=h.next}while(h!==c)}rs(r,s,o);break;case 1:if(!or&&(bi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(j){Ot(o,s,j)}rs(r,s,o);break;case 21:rs(r,s,o);break;case 22:o.mode&1?(or=(c=or)||o.memoizedState!==null,rs(r,s,o),or=c):rs(r,s,o);break;default:rs(r,s,o)}}function Wp(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new ax),s.forEach(function(c){var h=vx.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}}function sn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];try{var g=r,x=s,j=x;e:for(;j!==null;){switch(j.tag){case 5:Yt=j.stateNode,nn=!1;break e;case 3:Yt=j.stateNode.containerInfo,nn=!0;break e;case 4:Yt=j.stateNode.containerInfo,nn=!0;break e}j=j.return}if(Yt===null)throw Error(n(160));Hp(g,x,h),Yt=null,nn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(F){Ot(h,s,F)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qp(s,r),s=s.sibling}function qp(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(sn(s,r),yn(r),c&4){try{Ro(3,r,r.return),Ga(3,r)}catch(xe){Ot(r,r.return,xe)}try{Ro(5,r,r.return)}catch(xe){Ot(r,r.return,xe)}}break;case 1:sn(s,r),yn(r),c&512&&o!==null&&bi(o,o.return);break;case 5:if(sn(s,r),yn(r),c&512&&o!==null&&bi(o,o.return),r.flags&32){var h=r.stateNode;try{ce(h,"")}catch(xe){Ot(r,r.return,xe)}}if(c&4&&(h=r.stateNode,h!=null)){var g=r.memoizedProps,x=o!==null?o.memoizedProps:g,j=r.type,R=r.updateQueue;if(r.updateQueue=null,R!==null)try{j==="input"&&g.type==="radio"&&g.name!=null&&Gt(h,g),He(j,x);var F=He(j,g);for(x=0;x<R.length;x+=2){var Q=R[x],Z=R[x+1];Q==="style"?It(h,Z):Q==="dangerouslySetInnerHTML"?G(h,Z):Q==="children"?ce(h,Z):O(h,Q,Z,F)}switch(j){case"input":Lt(h,g);break;case"textarea":Fe(h,g);break;case"select":var J=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?ee(h,!!g.multiple,ae,!1):J!==!!g.multiple&&(g.defaultValue!=null?ee(h,!!g.multiple,g.defaultValue,!0):ee(h,!!g.multiple,g.multiple?[]:"",!1))}h[xo]=g}catch(xe){Ot(r,r.return,xe)}}break;case 6:if(sn(s,r),yn(r),c&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,g=r.memoizedProps;try{h.nodeValue=g}catch(xe){Ot(r,r.return,xe)}}break;case 3:if(sn(s,r),yn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{lo(s.containerInfo)}catch(xe){Ot(r,r.return,xe)}break;case 4:sn(s,r),yn(r);break;case 13:sn(s,r),yn(r),h=r.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(Pu=pt())),c&4&&Wp(r);break;case 22:if(Q=o!==null&&o.memoizedState!==null,r.mode&1?(or=(F=or)||Q,sn(s,r),or=F):sn(s,r),yn(r),c&8192){if(F=r.memoizedState!==null,(r.stateNode.isHidden=F)&&!Q&&(r.mode&1)!==0)for(fe=r,Q=r.child;Q!==null;){for(Z=fe=Q;fe!==null;){switch(J=fe,ae=J.child,J.tag){case 0:case 11:case 14:case 15:Ro(4,J,J.return);break;case 1:bi(J,J.return);var me=J.stateNode;if(typeof me.componentWillUnmount=="function"){c=J,o=J.return;try{s=c,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(xe){Ot(c,o,xe)}}break;case 5:bi(J,J.return);break;case 22:if(J.memoizedState!==null){Jp(Z);continue}}ae!==null?(ae.return=J,fe=ae):Jp(Z)}Q=Q.sibling}e:for(Q=null,Z=r;;){if(Z.tag===5){if(Q===null){Q=Z;try{h=Z.stateNode,F?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(j=Z.stateNode,R=Z.memoizedProps.style,x=R!=null&&R.hasOwnProperty("display")?R.display:null,j.style.display=ct("display",x))}catch(xe){Ot(r,r.return,xe)}}}else if(Z.tag===6){if(Q===null)try{Z.stateNode.nodeValue=F?"":Z.memoizedProps}catch(xe){Ot(r,r.return,xe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;Q===Z&&(Q=null),Z=Z.return}Q===Z&&(Q=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:sn(s,r),yn(r),c&4&&Wp(r);break;case 21:break;default:sn(s,r),yn(r)}}function yn(r){var s=r.flags;if(s&2){try{e:{for(var o=r.return;o!==null;){if(Bp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ce(h,""),c.flags&=-33);var g=Vp(r);Nu(r,g,h);break;case 3:case 4:var x=c.stateNode.containerInfo,j=Vp(r);ju(r,j,x);break;default:throw Error(n(161))}}catch(R){Ot(r,r.return,R)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function cx(r,s,o){fe=r,Kp(r)}function Kp(r,s,o){for(var c=(r.mode&1)!==0;fe!==null;){var h=fe,g=h.child;if(h.tag===22&&c){var x=h.memoizedState!==null||Ka;if(!x){var j=h.alternate,R=j!==null&&j.memoizedState!==null||or;j=Ka;var F=or;if(Ka=x,(or=R)&&!F)for(fe=h;fe!==null;)x=fe,R=x.child,x.tag===22&&x.memoizedState!==null?Yp(h):R!==null?(R.return=x,fe=R):Yp(h);for(;g!==null;)fe=g,Kp(g),g=g.sibling;fe=h,Ka=j,or=F}Gp(r)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,fe=g):Gp(r)}}function Gp(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:or||Ga(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!or)if(o===null)c.componentDidMount();else{var h=s.elementType===s.type?o.memoizedProps:rn(s.type,o.memoizedProps);c.componentDidUpdate(h,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Jh(s,g,c);break;case 3:var x=s.updateQueue;if(x!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}Jh(s,x,o)}break;case 5:var j=s.stateNode;if(o===null&&s.flags&4){o=j;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var F=s.alternate;if(F!==null){var Q=F.memoizedState;if(Q!==null){var Z=Q.dehydrated;Z!==null&&lo(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}or||s.flags&512&&Tu(s)}catch(J){Ot(s,s.return,J)}}if(s===r){fe=null;break}if(o=s.sibling,o!==null){o.return=s.return,fe=o;break}fe=s.return}}function Jp(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var o=s.sibling;if(o!==null){o.return=s.return,fe=o;break}fe=s.return}}function Yp(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Ga(4,s)}catch(R){Ot(s,o,R)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(R){Ot(s,h,R)}}var g=s.return;try{Tu(s)}catch(R){Ot(s,g,R)}break;case 5:var x=s.return;try{Tu(s)}catch(R){Ot(s,x,R)}}}catch(R){Ot(s,s.return,R)}if(s===r){fe=null;break}var j=s.sibling;if(j!==null){j.return=s.return,fe=j;break}fe=s.return}}var ux=Math.ceil,Ja=A.ReactCurrentDispatcher,Ou=A.ReactCurrentOwner,Wr=A.ReactCurrentBatchConfig,Ge=0,Ht=null,At=null,Xt=0,Nr=0,Si=Xn(0),Ft=0,Po=null,Ns=0,Ya=0,Ru=0,Io=null,vr=null,Pu=0,_i=1/0,Ln=null,Xa=!1,Iu=null,ns=null,Qa=!1,ss=null,Za=0,Ao=0,Au=null,el=-1,tl=0;function ur(){return(Ge&6)!==0?pt():el!==-1?el:el=pt()}function is(r){return(r.mode&1)===0?1:(Ge&2)!==0&&Xt!==0?Xt&-Xt:K0.transition!==null?(tl===0&&(tl=Vf()),tl):(r=Qe,r!==0||(r=window.event,r=r===void 0?16:Qf(r.type)),r)}function on(r,s,o,c){if(50<Ao)throw Ao=0,Au=null,Error(n(185));no(r,o,c),((Ge&2)===0||r!==Ht)&&(r===Ht&&((Ge&2)===0&&(Ya|=o),Ft===4&&os(r,Xt)),yr(r,c),o===1&&Ge===0&&(s.mode&1)===0&&(_i=pt()+500,Na&&Zn()))}function yr(r,s){var o=r.callbackNode;Kw(r,s);var c=ua(r,r===Ht?Xt:0);if(c===0)o!==null&&Qs(o),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(o!=null&&Qs(o),s===1)r.tag===0?q0(Qp.bind(null,r)):Mh(Qp.bind(null,r)),B0(function(){(Ge&6)===0&&Zn()}),o=null;else{switch(Hf(c)){case 1:o=to;break;case 4:o=aa;break;case 16:o=Zs;break;case 536870912:o=la;break;default:o=Zs}o=og(o,Xp.bind(null,r))}r.callbackPriority=s,r.callbackNode=o}}function Xp(r,s){if(el=-1,tl=0,(Ge&6)!==0)throw Error(n(327));var o=r.callbackNode;if(Ei()&&r.callbackNode!==o)return null;var c=ua(r,r===Ht?Xt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=rl(r,c);else{s=c;var h=Ge;Ge|=2;var g=eg();(Ht!==r||Xt!==s)&&(Ln=null,_i=pt()+500,Rs(r,s));do try{hx();break}catch(j){Zp(r,j)}while(!0);Qc(),Ja.current=g,Ge=h,At!==null?s=0:(Ht=null,Xt=0,s=Ft)}if(s!==0){if(s===2&&(h=pc(r),h!==0&&(c=h,s=Du(r,h))),s===1)throw o=Po,Rs(r,0),os(r,c),yr(r,pt()),o;if(s===6)os(r,c);else{if(h=r.current.alternate,(c&30)===0&&!dx(h)&&(s=rl(r,c),s===2&&(g=pc(r),g!==0&&(c=g,s=Du(r,g))),s===1))throw o=Po,Rs(r,0),os(r,c),yr(r,pt()),o;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Ps(r,vr,Ln);break;case 3:if(os(r,c),(c&130023424)===c&&(s=Pu+500-pt(),10<s)){if(ua(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){ur(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Uc(Ps.bind(null,r,vr,Ln),s);break}Ps(r,vr,Ln);break;case 4:if(os(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var x=31-hr(c);g=1<<x,x=s[x],x>h&&(h=x),c&=~g}if(c=h,c=pt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*ux(c/1960))-c,10<c){r.timeoutHandle=Uc(Ps.bind(null,r,vr,Ln),c);break}Ps(r,vr,Ln);break;case 5:Ps(r,vr,Ln);break;default:throw Error(n(329))}}}return yr(r,pt()),r.callbackNode===o?Xp.bind(null,r):null}function Du(r,s){var o=Io;return r.current.memoizedState.isDehydrated&&(Rs(r,s).flags|=256),r=rl(r,s),r!==2&&(s=vr,vr=o,s!==null&&Lu(s)),r}function Lu(r){vr===null?vr=r:vr.push.apply(vr,r)}function dx(r){for(var s=r;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!en(g(),h))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(r,s){for(s&=~Ru,s&=~Ya,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var o=31-hr(s),c=1<<o;r[o]=-1,s&=~c}}function Qp(r){if((Ge&6)!==0)throw Error(n(327));Ei();var s=ua(r,0);if((s&1)===0)return yr(r,pt()),null;var o=rl(r,s);if(r.tag!==0&&o===2){var c=pc(r);c!==0&&(s=c,o=Du(r,c))}if(o===1)throw o=Po,Rs(r,0),os(r,s),yr(r,pt()),o;if(o===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ps(r,vr,Ln),yr(r,pt()),null}function Mu(r,s){var o=Ge;Ge|=1;try{return r(s)}finally{Ge=o,Ge===0&&(_i=pt()+500,Na&&Zn())}}function Os(r){ss!==null&&ss.tag===0&&(Ge&6)===0&&Ei();var s=Ge;Ge|=1;var o=Wr.transition,c=Qe;try{if(Wr.transition=null,Qe=1,r)return r()}finally{Qe=c,Wr.transition=o,Ge=s,(Ge&6)===0&&Zn()}}function $u(){Nr=Si.current,it(Si)}function Rs(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,U0(o)),At!==null)for(o=At.return;o!==null;){var c=o;switch(Kc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ta();break;case 3:wi(),it(pr),it(nr),ou();break;case 5:su(c);break;case 4:wi();break;case 13:it(kt);break;case 19:it(kt);break;case 10:Zc(c.type._context);break;case 22:case 23:$u()}o=o.return}if(Ht=r,At=r=as(r.current,null),Xt=Nr=s,Ft=0,Po=null,Ru=Ya=Ns=0,vr=Io=null,Cs!==null){for(s=0;s<Cs.length;s++)if(o=Cs[s],c=o.interleaved,c!==null){o.interleaved=null;var h=c.next,g=o.pending;if(g!==null){var x=g.next;g.next=h,c.next=x}o.pending=c}Cs=null}return r}function Zp(r,s){do{var o=At;try{if(Qc(),Fa.current=Va,za){for(var c=Ct.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}za=!1}if(js=0,Vt=$t=Ct=null,Co=!1,To=0,Ou.current=null,o===null||o.return===null){Ft=1,Po=s,At=null;break}e:{var g=r,x=o.return,j=o,R=s;if(s=Xt,j.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=R,Q=j,Z=Q.tag;if((Q.mode&1)===0&&(Z===0||Z===11||Z===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ae=Ep(x);if(ae!==null){ae.flags&=-257,kp(ae,x,j,g,s),ae.mode&1&&_p(g,F,s),s=ae,R=F;var me=s.updateQueue;if(me===null){var xe=new Set;xe.add(R),s.updateQueue=xe}else me.add(R);break e}else{if((s&1)===0){_p(g,F,s),Fu();break e}R=Error(n(426))}}else if(gt&&j.mode&1){var Pt=Ep(x);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),kp(Pt,x,j,g,s),Yc(xi(R,j));break e}}g=R=xi(R,j),Ft!==4&&(Ft=2),Io===null?Io=[g]:Io.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var D=bp(g,R,s);Gh(g,D);break e;case 1:j=R;var P=g.type,M=g.stateNode;if((g.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ns===null||!ns.has(M)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=Sp(g,j,s);Gh(g,te);break e}}g=g.return}while(g!==null)}rg(o)}catch(_e){s=_e,At===o&&o!==null&&(At=o=o.return);continue}break}while(!0)}function eg(){var r=Ja.current;return Ja.current=Va,r===null?Va:r}function Fu(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ht===null||(Ns&268435455)===0&&(Ya&268435455)===0||os(Ht,Xt)}function rl(r,s){var o=Ge;Ge|=2;var c=eg();(Ht!==r||Xt!==s)&&(Ln=null,Rs(r,s));do try{fx();break}catch(h){Zp(r,h)}while(!0);if(Qc(),Ge=o,Ja.current=c,At!==null)throw Error(n(261));return Ht=null,Xt=0,Ft}function fx(){for(;At!==null;)tg(At)}function hx(){for(;At!==null&&!Vn();)tg(At)}function tg(r){var s=ig(r.alternate,r,Nr);r.memoizedProps=r.pendingProps,s===null?rg(r):At=s,Ou.current=null}function rg(r){var s=r;do{var o=s.alternate;if(r=s.return,(s.flags&32768)===0){if(o=ix(o,s,Nr),o!==null){At=o;return}}else{if(o=ox(o,s),o!==null){o.flags&=32767,At=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ft=6,At=null;return}}if(s=s.sibling,s!==null){At=s;return}At=s=r}while(s!==null);Ft===0&&(Ft=5)}function Ps(r,s,o){var c=Qe,h=Wr.transition;try{Wr.transition=null,Qe=1,px(r,s,o,c)}finally{Wr.transition=h,Qe=c}return null}function px(r,s,o,c){do Ei();while(ss!==null);if((Ge&6)!==0)throw Error(n(327));o=r.finishedWork;var h=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=o.lanes|o.childLanes;if(Gw(r,g),r===Ht&&(At=Ht=null,Xt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Qa||(Qa=!0,og(Zs,function(){return Ei(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=Wr.transition,Wr.transition=null;var x=Qe;Qe=1;var j=Ge;Ge|=4,Ou.current=null,lx(r,o),qp(o,r),A0(Fc),ha=!!$c,Fc=$c=null,r.current=o,cx(o),oa(),Ge=j,Qe=x,Wr.transition=g}else r.current=o;if(Qa&&(Qa=!1,ss=r,Za=h),g=r.pendingLanes,g===0&&(ns=null),hc(o.stateNode),yr(r,pt()),s!==null)for(c=r.onRecoverableError,o=0;o<s.length;o++)h=s[o],c(h.value,{componentStack:h.stack,digest:h.digest});if(Xa)throw Xa=!1,r=Iu,Iu=null,r;return(Za&1)!==0&&r.tag!==0&&Ei(),g=r.pendingLanes,(g&1)!==0?r===Au?Ao++:(Ao=0,Au=r):Ao=0,Zn(),null}function Ei(){if(ss!==null){var r=Hf(Za),s=Wr.transition,o=Qe;try{if(Wr.transition=null,Qe=16>r?16:r,ss===null)var c=!1;else{if(r=ss,ss=null,Za=0,(Ge&6)!==0)throw Error(n(331));var h=Ge;for(Ge|=4,fe=r.current;fe!==null;){var g=fe,x=g.child;if((fe.flags&16)!==0){var j=g.deletions;if(j!==null){for(var R=0;R<j.length;R++){var F=j[R];for(fe=F;fe!==null;){var Q=fe;switch(Q.tag){case 0:case 11:case 15:Ro(8,Q,g)}var Z=Q.child;if(Z!==null)Z.return=Q,fe=Z;else for(;fe!==null;){Q=fe;var J=Q.sibling,ae=Q.return;if(Up(Q),Q===F){fe=null;break}if(J!==null){J.return=ae,fe=J;break}fe=ae}}}var me=g.alternate;if(me!==null){var xe=me.child;if(xe!==null){me.child=null;do{var Pt=xe.sibling;xe.sibling=null,xe=Pt}while(xe!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,fe=x;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ro(9,g,g.return)}var D=g.sibling;if(D!==null){D.return=g.return,fe=D;break e}fe=g.return}}var P=r.current;for(fe=P;fe!==null;){x=fe;var M=x.child;if((x.subtreeFlags&2064)!==0&&M!==null)M.return=x,fe=M;else e:for(x=P;fe!==null;){if(j=fe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Ga(9,j)}}catch(_e){Ot(j,j.return,_e)}if(j===x){fe=null;break e}var te=j.sibling;if(te!==null){te.return=j.return,fe=te;break e}fe=j.return}}if(Ge=h,Zn(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(ti,r)}catch{}c=!0}return c}finally{Qe=o,Wr.transition=s}}return!1}function ng(r,s,o){s=xi(o,s),s=bp(r,s,1),r=ts(r,s,1),s=ur(),r!==null&&(no(r,1,s),yr(r,s))}function Ot(r,s,o){if(r.tag===3)ng(r,r,o);else for(;s!==null;){if(s.tag===3){ng(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ns===null||!ns.has(c))){r=xi(o,r),r=Sp(s,r,1),s=ts(s,r,1),r=ur(),s!==null&&(no(s,1,r),yr(s,r));break}}s=s.return}}function gx(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),s=ur(),r.pingedLanes|=r.suspendedLanes&o,Ht===r&&(Xt&o)===o&&(Ft===4||Ft===3&&(Xt&130023424)===Xt&&500>pt()-Pu?Rs(r,0):Ru|=o),yr(r,s)}function sg(r,s){s===0&&((r.mode&1)===0?s=1:(s=ca,ca<<=1,(ca&130023424)===0&&(ca=4194304)));var o=ur();r=In(r,s),r!==null&&(no(r,s,o),yr(r,o))}function mx(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),sg(r,o)}function vx(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),sg(r,o)}var ig;ig=function(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps||pr.current)mr=!0;else{if((r.lanes&o)===0&&(s.flags&128)===0)return mr=!1,sx(r,s,o);mr=(r.flags&131072)!==0}else mr=!1,gt&&(s.flags&1048576)!==0&&$h(s,Ra,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;qa(r,s),r=s.pendingProps;var h=fi(s,nr.current);yi(s,o),h=cu(null,s,c,r,h,o);var g=uu();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,gr(c)?(g=!0,ja(s)):g=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ru(s),h.updater=Ha,s.stateNode=h,h._reactInternals=s,mu(s,c,r,o),s=xu(null,s,c,!0,g,o)):(s.tag=0,gt&&g&&qc(s),cr(null,s,h,o),s=s.child),s;case 16:c=s.elementType;e:{switch(qa(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=wx(c),r=rn(c,r),h){case 0:s=wu(null,s,c,r,o);break e;case 1:s=Rp(null,s,c,r,o);break e;case 11:s=Cp(null,s,c,r,o);break e;case 14:s=Tp(null,s,c,rn(c.type,r),o);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:rn(c,h),wu(r,s,c,h,o);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:rn(c,h),Rp(r,s,c,h,o);case 3:e:{if(Pp(s),r===null)throw Error(n(387));c=s.pendingProps,g=s.memoizedState,h=g.element,Kh(r,s),Ma(s,c,null,o);var x=s.memoizedState;if(c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){h=xi(Error(n(423)),s),s=Ip(r,s,c,o,h);break e}else if(c!==h){h=xi(Error(n(424)),s),s=Ip(r,s,c,o,h);break e}else for(jr=Yn(s.stateNode.containerInfo.firstChild),Tr=s,gt=!0,tn=null,o=Wh(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(gi(),c===h){s=Dn(r,s,o);break e}cr(r,s,c,o)}s=s.child}return s;case 5:return Yh(s),r===null&&Jc(s),c=s.type,h=s.pendingProps,g=r!==null?r.memoizedProps:null,x=h.children,zc(c,h)?x=null:g!==null&&zc(c,g)&&(s.flags|=32),Op(r,s),cr(r,s,x,o),s.child;case 6:return r===null&&Jc(s),null;case 13:return Ap(r,s,o);case 4:return nu(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=mi(s,null,c,o):cr(r,s,c,o),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:rn(c,h),Cp(r,s,c,h,o);case 7:return cr(r,s,s.pendingProps,o),s.child;case 8:return cr(r,s,s.pendingProps.children,o),s.child;case 12:return cr(r,s,s.pendingProps.children,o),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,g=s.memoizedProps,x=h.value,tt(Aa,c._currentValue),c._currentValue=x,g!==null)if(en(g.value,x)){if(g.children===h.children&&!pr.current){s=Dn(r,s,o);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var j=g.dependencies;if(j!==null){x=g.child;for(var R=j.firstContext;R!==null;){if(R.context===c){if(g.tag===1){R=An(-1,o&-o),R.tag=2;var F=g.updateQueue;if(F!==null){F=F.shared;var Q=F.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),F.pending=R}}g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),eu(g.return,o,s),j.lanes|=o;break}R=R.next}}else if(g.tag===10)x=g.type===s.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=o,j=x.alternate,j!==null&&(j.lanes|=o),eu(x,o,s),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}cr(r,s,h.children,o),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,yi(s,o),h=Vr(h),c=c(h),s.flags|=1,cr(r,s,c,o),s.child;case 14:return c=s.type,h=rn(c,s.pendingProps),h=rn(c.type,h),Tp(r,s,c,h,o);case 15:return jp(r,s,s.type,s.pendingProps,o);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:rn(c,h),qa(r,s),s.tag=1,gr(c)?(r=!0,ja(s)):r=!1,yi(s,o),wp(s,c,h),mu(s,c,h,o),xu(null,s,c,!0,r,o);case 19:return Lp(r,s,o);case 22:return Np(r,s,o)}throw Error(n(156,s.tag))};function og(r,s){return Zi(r,s)}function yx(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(r,s,o,c){return new yx(r,s,o,c)}function zu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wx(r){if(typeof r=="function")return zu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===pe)return 11;if(r===W)return 14}return 2}function as(r,s){var o=r.alternate;return o===null?(o=qr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function nl(r,s,o,c,h,g){var x=2;if(c=r,typeof r=="function")zu(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case U:return Is(o.children,h,g,s);case z:x=8,h|=8;break;case ie:return r=qr(12,o,s,h|2),r.elementType=ie,r.lanes=g,r;case le:return r=qr(13,o,s,h),r.elementType=le,r.lanes=g,r;case ge:return r=qr(19,o,s,h),r.elementType=ge,r.lanes=g,r;case Y:return sl(o,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ue:x=10;break e;case de:x=9;break e;case pe:x=11;break e;case W:x=14;break e;case B:x=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=qr(x,o,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function Is(r,s,o,c){return r=qr(7,r,c,s),r.lanes=o,r}function sl(r,s,o,c){return r=qr(22,r,c,s),r.elementType=Y,r.lanes=o,r.stateNode={isHidden:!1},r}function Uu(r,s,o){return r=qr(6,r,null,s),r.lanes=o,r}function Bu(r,s,o){return s=qr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function xx(r,s,o,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gc(0),this.expirationTimes=gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gc(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Vu(r,s,o,c,h,g,x,j,R){return r=new xx(r,s,o,j,R),s===1?(s=1,g===!0&&(s|=8)):s=0,g=qr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(g),r}function bx(r,s,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:c==null?null:""+c,children:r,containerInfo:s,implementation:o}}function ag(r){if(!r)return Qn;r=r._reactInternals;e:{if(kr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(gr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var o=r.type;if(gr(o))return Dh(r,o,s)}return s}function lg(r,s,o,c,h,g,x,j,R){return r=Vu(o,c,!0,r,h,g,x,j,R),r.context=ag(null),o=r.current,c=ur(),h=is(o),g=An(c,h),g.callback=s??null,ts(o,g,h),r.current.lanes=h,no(r,h,c),yr(r,c),r}function il(r,s,o,c){var h=s.current,g=ur(),x=is(h);return o=ag(o),s.context===null?s.context=o:s.pendingContext=o,s=An(g,x),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=ts(h,s,x),r!==null&&(on(r,h,x,g),La(r,h,x)),x}function ol(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function cg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Hu(r,s){cg(r,s),(r=r.alternate)&&cg(r,s)}function Sx(){return null}var ug=typeof reportError=="function"?reportError:function(r){console.error(r)};function Wu(r){this._internalRoot=r}al.prototype.render=Wu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));il(r,s,null,null)},al.prototype.unmount=Wu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Os(function(){il(null,r,null,null)}),s[Nn]=null}};function al(r){this._internalRoot=r}al.prototype.unstable_scheduleHydration=function(r){if(r){var s=Kf();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Kn.length&&s!==0&&s<Kn[o].priority;o++);Kn.splice(o,0,r),o===0&&Yf(r)}};function qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ll(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dg(){}function _x(r,s,o,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var F=ol(x);g.call(F)}}var x=lg(s,c,r,0,null,!1,!1,"",dg);return r._reactRootContainer=x,r[Nn]=x.current,yo(r.nodeType===8?r.parentNode:r),Os(),x}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var j=c;c=function(){var F=ol(R);j.call(F)}}var R=Vu(r,0,!1,null,null,!1,!1,"",dg);return r._reactRootContainer=R,r[Nn]=R.current,yo(r.nodeType===8?r.parentNode:r),Os(function(){il(s,R,o,c)}),R}function cl(r,s,o,c,h){var g=o._reactRootContainer;if(g){var x=g;if(typeof h=="function"){var j=h;h=function(){var R=ol(x);j.call(R)}}il(s,x,r,h)}else x=_x(o,s,r,h,c);return ol(x)}Wf=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var o=ro(s.pendingLanes);o!==0&&(mc(s,o|1),yr(s,pt()),(Ge&6)===0&&(_i=pt()+500,Zn()))}break;case 13:Os(function(){var c=In(r,1);if(c!==null){var h=ur();on(c,r,1,h)}}),Hu(r,1)}},vc=function(r){if(r.tag===13){var s=In(r,134217728);if(s!==null){var o=ur();on(s,r,134217728,o)}Hu(r,134217728)}},qf=function(r){if(r.tag===13){var s=is(r),o=In(r,s);if(o!==null){var c=ur();on(o,r,s,c)}Hu(r,s)}},Kf=function(){return Qe},Gf=function(r,s){var o=Qe;try{return Qe=r,s()}finally{Qe=o}},_r=function(r,s,o){switch(s){case"input":if(Lt(r,o),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=Ca(c);if(!h)throw Error(n(90));Me(c),Lt(c,h)}}}break;case"textarea":Fe(r,o);break;case"select":s=o.value,s!=null&&ee(r,!!o.multiple,s,!1)}},ut=Mu,Bt=Os;var Ex={usingClientEntryPoint:!1,Events:[bo,ui,Ca,Ie,_t,Mu]},Do={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kx={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Zr(r),r===null?null:r.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||Sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{ti=ul.inject(kx),Fr=ul}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ex,wr.createPortal=function(r,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qu(s))throw Error(n(200));return bx(r,s,null,o)},wr.createRoot=function(r,s){if(!qu(r))throw Error(n(299));var o=!1,c="",h=ug;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Vu(r,1,!1,null,null,o,!1,c,h),r[Nn]=s.current,yo(r.nodeType===8?r.parentNode:r),new Wu(s)},wr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Zr(s),r=r===null?null:r.stateNode,r},wr.flushSync=function(r){return Os(r)},wr.hydrate=function(r,s,o){if(!ll(s))throw Error(n(200));return cl(null,r,s,!0,o)},wr.hydrateRoot=function(r,s,o){if(!qu(r))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,h=!1,g="",x=ug;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),s=lg(s,null,r,1,o??null,h,!1,g,x),r[Nn]=s.current,yo(r),c)for(r=0;r<c.length;r++)o=c[r],h=o._getVersion,h=h(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,h]:s.mutableSourceEagerHydrationData.push(o,h);return new al(s)},wr.render=function(r,s,o){if(!ll(s))throw Error(n(200));return cl(null,r,s,!1,o)},wr.unmountComponentAtNode=function(r){if(!ll(r))throw Error(n(40));return r._reactRootContainer?(Os(function(){cl(null,null,r,!1,function(){r._reactRootContainer=null,r[Nn]=null})}),!0):!1},wr.unstable_batchedUpdates=Mu,wr.unstable_renderSubtreeIntoContainer=function(r,s,o,c){if(!ll(o))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return cl(r,s,o,!1,c)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var wg;function qm(){if(wg)return Ju.exports;wg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ju.exports=Ix(),Ju.exports}var xg;function Ax(){if(xg)return dl;xg=1;var t=qm();return dl.createRoot=t.createRoot,dl.hydrateRoot=t.hydrateRoot,dl}var Dx=Ax(),w=of();const re=sf(w),Lx=Tx({__proto__:null,default:re},[w]);var xn=function(){return xn=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},xn.apply(this,arguments)};function Wi(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function Mx(t,e,n,i){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{m(i.next(y))}catch(v){u(v)}}function p(y){try{m(i.throw(y))}catch(v){u(v)}}function m(y){y.done?l(y.value):a(y.value).then(f,p)}m((i=i.apply(t,e||[])).next())})}function $x(t,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}const Fx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class af extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class zx extends af{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bg extends af{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sg extends af{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(kd||(kd={}));class Ux{constructor(e,{headers:n={},customFetch:i,region:a=kd.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=Fx(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Mx(this,arguments,void 0,function*(n,i={}){var a;let l,u;try{const{headers:f,method:p,body:m,signal:y,timeout:v}=i;let S={},{region:_}=i;_||(_=this.region);const E=new URL(`${this.url}/${n}`);_&&_!=="any"&&(S["x-region"]=_,E.searchParams.set("forceFunctionRegion",_));let b;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",b=m):typeof m=="string"?(S["Content-Type"]="text/plain",b=m):typeof FormData<"u"&&m instanceof FormData?b=m:(S["Content-Type"]="application/json",b=JSON.stringify(m)):b=m;let k=y;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),y?(k=u.signal,y.addEventListener("abort",()=>u.abort())):k=u.signal);const T=yield this.fetch(E.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:b,signal:k}).catch($=>{throw new zx($)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new bg(T);if(!T.ok)throw new Sg(T);let O=((a=T.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return O==="application/json"?A=yield T.json():O==="application/octet-stream"||O==="application/pdf"?A=yield T.blob():O==="text/event-stream"?A=T:O==="multipart/form-data"?A=yield T.formData():A=yield T.text(),{data:A,error:null,response:T}}catch(f){return{data:null,error:f,response:f instanceof Sg||f instanceof bg?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var Bx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Vx=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,f=null,p=null,m=l.status,y=l.statusText;if(l.ok){var v,S;if(n.method!=="HEAD"){var _;const T=await l.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?f=T:f=JSON.parse(T))}const b=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),k=(S=l.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");b&&k&&k.length>1&&(p=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var E;const b=await l.text();try{u=JSON.parse(b),Array.isArray(u)&&l.status===404&&(f=[],u=null,m=200,y="OK")}catch{l.status===404&&b===""?(m=204,y="No Content"):u={message:b}}if(u&&n.isMaybeSingle&&(!(u==null||(E=u.details)===null||E===void 0)&&E.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&n.shouldThrowOnError)throw new Bx(u)}return{error:u,data:f,count:p,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var u;let f="";const p=l==null?void 0:l.cause;if(p){var m,y,v,S;const E=(m=p==null?void 0:p.message)!==null&&m!==void 0?m:"",b=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";f=`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,f+=`

Caused by: ${(S=p==null?void 0:p.name)!==null&&S!==void 0?S:"Error"}: ${E}`,b&&(f+=` (${b})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var _;f=(_=l==null?void 0:l.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},Hx=class extends Vx{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var u;const f=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const _g=new RegExp("[,()]");var Li=class extends Hx{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&_g.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&_g.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Wx=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i}select(t,e){const{head:n=!1,count:i}=e??{},a=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),i&&this.headers.append("Prefer",`count=${i}`),new Li({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Li({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new Li({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Li({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Li({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},qx=class Km{constructor(e,{headers:n={},schema:i,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Wx(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Km(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:a=!1,count:l}={}){var u;let f;const p=new URL(`${this.url}/rpc/${e}`);let m;i||a?(f=i?"HEAD":"GET",Object.entries(n).filter(([v,S])=>S!==void 0).map(([v,S])=>[v,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([v,S])=>{p.searchParams.append(v,S)})):(f="POST",m=n);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new Li({method:f,url:p,headers:y,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class Kx{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Gx="2.88.0",Jx=`realtime-js/${Gx}`,Gm="1.0.0",Yx="2.0.0",Eg=Gm,Cd=1e4,Xx=1e3,Qx=100;var ds;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ds||(ds={}));var Ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ut||(Ut={}));var un;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(un||(un={}));var Td;(function(t){t.websocket="websocket"})(Td||(Td={}));var $s;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($s||($s={}));class Zx{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,i){var a,l;const u=e.topic,f=(a=e.ref)!==null&&a!==void 0?a:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+u.length+m.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+S);let E=new DataView(_),b=0;E.setUint8(b++,this.KINDS.userBroadcastPush),E.setUint8(b++,p.length),E.setUint8(b++,f.length),E.setUint8(b++,u.length),E.setUint8(b++,m.length),E.setUint8(b++,v.length),E.setUint8(b++,n),Array.from(p,T=>E.setUint8(b++,T.charCodeAt(0))),Array.from(f,T=>E.setUint8(b++,T.charCodeAt(0))),Array.from(u,T=>E.setUint8(b++,T.charCodeAt(0))),Array.from(m,T=>E.setUint8(b++,T.charCodeAt(0))),Array.from(v,T=>E.setUint8(b++,T.charCodeAt(0)));var k=new Uint8Array(_.byteLength+i.byteLength);return k.set(new Uint8Array(_),0),k.set(new Uint8Array(i),_.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,u,f,p]=i;return n({join_ref:a,ref:l,topic:u,event:f,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,i){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const m=i.decode(e.slice(p,p+a));p=p+a;const y=i.decode(e.slice(p,p+l));p=p+l;const v=i.decode(e.slice(p,p+u));p=p+u;const S=e.slice(p,e.byteLength),_=f===this.JSON_ENCODING?JSON.parse(i.decode(S)):S,E={type:this.BROADCAST_EVENT,event:y,payload:_};return u>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class Jm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(rt||(rt={}));const kg=(t,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=eb(u,t,e,a),l),{}):{}},eb=(t,e,n,i)=>{const a=e.find(f=>f.name===t),l=a==null?void 0:a.type,u=n[t];return l&&!i.includes(l)?Ym(l,u):jd(u)},Ym=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return sb(e,n)}switch(t){case rt.bool:return tb(e);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return rb(e);case rt.json:case rt.jsonb:return nb(e);case rt.timestamp:return ib(e);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return jd(e);default:return jd(e)}},jd=t=>t,tb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},sb=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>Ym(e,f))}return t},ib=t=>typeof t=="string"?t.replace(" ","T"):t,Xm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qu{constructor(e,n,i={},a=Cd){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cg||(Cg={}));class zo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,a,l,u),this.pendingDiffs.forEach(p=>{this.state=zo.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zo.syncDiff(this.state,a,l,u),f())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const l=this.cloneDeep(e),u=this.transformState(n),f={},p={};return this.map(l,(m,y)=>{u[m]||(p[m]=y)}),this.map(u,(m,y)=>{const v=l[m];if(v){const S=y.map(k=>k.presence_ref),_=v.map(k=>k.presence_ref),E=y.filter(k=>_.indexOf(k.presence_ref)<0),b=v.filter(k=>S.indexOf(k.presence_ref)<0);E.length>0&&(f[m]=E),b.length>0&&(p[m]=b)}else f[m]=y}),this.syncDiff(l,{joins:f,leaves:p},i,a)}static syncDiff(e,n,i,a){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(f,p)=>{var m;const y=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(p),y.length>0){const v=e[f].map(_=>_.presence_ref),S=y.filter(_=>v.indexOf(_.presence_ref)<0);e[f].unshift(...S)}i(f,y,p)}),this.map(u,(f,p)=>{let m=e[f];if(!m)return;const y=p.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),e[f]=m,a(f,m,p),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tg||(Tg={}));var Uo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Uo||(Uo={}));var $n;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class Fi{constructor(e,n={config:{}},i){var a,l;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qu(this,un.join,this.params,this.timeout),this.rejoinTimer=new Jm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new zo(this),this.broadcastEndpointURL=Xm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ut.closed){const{config:{broadcast:u,presence:f,private:p}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},S={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e($n.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e($n.CLOSED)),this.updateJoinPayload(Object.assign({config:S},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e($n.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,k=(E=b==null?void 0:b.length)!==null&&E!==void 0?E:0,T=[];for(let N=0;N<k;N++){const O=b[N],{filter:{event:A,schema:$,table:V,filter:U}}=O,z=_&&_[N];if(z&&z.event===A&&Fi.isFilterValueEqual(z.schema,$)&&Fi.isFilterValueEqual(z.table,V)&&Fi.isFilterValueEqual(z.filter,U))T.push(Object.assign(Object.assign({},O),{id:z.id}));else{this.unsubscribe(),this.state=Ut.errored,e==null||e($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e($n.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ut.errored,e==null||e($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Ut.joined&&e===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Qu(this,un.leave,{},e),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ut.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Qu(this,e,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Qx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,l;const u=e.toLocaleLowerCase(),{close:f,error:p,leave:m,join:y}=un;if(i&&[f,p,m,y].indexOf(u)>=0&&i!==this._joinRef())return;let S=this._onMessage(u,n,i);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var E,b,k;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(b=_.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(_=>_.callback(S,i)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var E,b,k,T,N,O;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const A=_.id,$=(E=_.filter)===null||E===void 0?void 0:E.event;return A&&((b=n.ids)===null||b===void 0?void 0:b.includes(A))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const A=(N=(T=_==null?void 0:_.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((O=n==null?void 0:n.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof S=="object"&&"ids"in S){const E=S.data,{schema:b,table:k,commit_timestamp:T,type:N,errors:O}=E;S=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:T,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(E))}_.callback(S,i)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Fi.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(un.close,{},e)}_onError(e){this._on(un.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=kg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=kg(e.columns,e.old_record)),n}}const Zu=()=>{},fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ob=[1e3,2e3,5e3,1e4],ab=1e4,lb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cb{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cd,this.transport=null,this.heartbeatIntervalMs=fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zu,this.ref=0,this.reconnectTimer=null,this.vsn=Eg,this.logger=Zu,this.conn=null,this.sendBuffer=[],this.serializer=new Zx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Td.websocket}`,this.httpEndpoint=Xm(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ds.connecting:return $s.Connecting;case ds.open:return $s.Open;case ds.closing:return $s.Closing;default:return $s.Closed}}isConnected(){return this.connectionState()===$s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Fi(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:a,ref:l}=e,u=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${i} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Xx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:u}=n,f=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${i} ${a} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ds.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ds.open||this.conn.readyState===ds.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(un.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([lb],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:Jx};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Jm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,a,l,u,f,p,m,y,v,S,_;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Cd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:fl.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:Zu,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:Eg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(E=>ob[E-1]||ab),this.vsn){case Gm:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((E,b)=>b(JSON.stringify(E))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((E,b)=>b(JSON.parse(E)));break;case Yx:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Wo=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ub(t,e,n){const i=new URL(e,t);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function db(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function fb(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:a,body:l,headers:u}){const f=ub(t.baseUrl,i,a),p=await db(t.auth),m=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...u},body:l?JSON.stringify(l):void 0}),y=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),S=v&&y?JSON.parse(y):y;if(!m.ok){const _=v?S:void 0,E=_==null?void 0:_.error;throw new Wo((E==null?void 0:E.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:_})}return{status:m.status,headers:m.headers,data:S}}}}function hl(t){return t.join("")}var hb=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:hl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hl(t.namespace)}`}),!0}catch(e){if(e instanceof Wo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Wo&&n.status===409)return;throw n}}};function ki(t){return t.join("")}var pb=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ki(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ki(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ki(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ki(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Wo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Wo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},gb=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=fb({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new hb(this.client,e),this.tableOps=new pb(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Gl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Tt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var mb=class extends Gl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nd=class extends Gl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const lf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vb=()=>Response,Od=t=>{if(Array.isArray(t))return t.map(n=>Od(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Od(i)}),e},yb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wb=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qo(t){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(t)}function xb(t,e){if(qo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(qo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bb(t){var e=xb(t,"string");return qo(e)=="symbol"?e:e+""}function Sb(t,e,n){return(e=bb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jg(Object(n),!0).forEach(function(i){Sb(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jg(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const ed=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},_b=async(t,e,n)=>{t instanceof await vb()&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new mb(ed(i),a,l))}).catch(i=>{e(new Nd(ed(i),i))}):e(new Nd(ed(t),t))},Eb=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(yb(i)?(a.headers=Pe({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Pe(Pe({},a),n))};async function ra(t,e,n,i,a,l){return new Promise((u,f)=>{t(n,Eb(e,i,a,l)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>_b(p,f,i))})}async function Ko(t,e,n,i){return ra(t,"GET",e,n,i)}async function cn(t,e,n,i,a){return ra(t,"POST",e,i,a,n)}async function Rd(t,e,n,i,a){return ra(t,"PUT",e,i,a,n)}async function kb(t,e,n,i){return ra(t,"HEAD",e,Pe(Pe({},n),{},{noResolveJson:!0}),i)}async function cf(t,e,n,i,a){return ra(t,"DELETE",e,i,a,n)}var Cb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tt(e))return{data:null,error:e};throw e}}};let Qm;Qm=Symbol.toStringTag;var Tb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Qm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Cb(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tt(e))return{data:null,error:e};throw e}}};const jb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ng={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Nb=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=lf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,i){var a=this;try{let l;const u=Pe(Pe({},Ng),i);let f=Pe(Pe({},a.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",a.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(p))):(l=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,p&&(f["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),i!=null&&i.headers&&(f=Pe(Pe({},f),i.headers));const m=a._removeEmptyFolders(e),y=a._getFinalPath(m),v=await(t=="PUT"?Rd:cn)(a.fetch,`${a.url}/object/${y}`,l,Pe({headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Tt(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,i){var a=this;const l=a._removeEmptyFolders(t),u=a._getFinalPath(l),f=new URL(a.url+`/object/upload/sign/${u}`);f.searchParams.set("token",e);try{let p;const m=Pe({upsert:Ng.upsert},i),y=Pe(Pe({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",m.cacheControl)):(p=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:l,fullPath:(await Rd(a.fetch,f.toString(),p,{headers:y})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(Tt(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(t,e){var n=this;try{let i=n._getFinalPath(t);const a=Pe({},n.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await cn(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(n.url+l.url),f=u.searchParams.get("token");if(!f)throw new Gl("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var i=this;try{return{data:await cn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Tt(a))return{data:null,error:a};throw a}}async copy(t,e,n){var i=this;try{return{data:{path:(await cn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Tt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,n){var i=this;try{let a=i._getFinalPath(t),l=await cn(i.fetch,`${i.url}/object/sign/${a}`,Pe({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:i.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Tt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,n){var i=this;try{const a=await cn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(u=>Pe(Pe({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Tt(a))return{data:null,error:a};throw a}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>Ko(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Tb(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Od(await Ko(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await kb(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Tt(i)&&i instanceof Nd){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(t){var e=this;try{return{data:await cf(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}}async list(t,e,n){var i=this;try{const a=Pe(Pe(Pe({},jb),e),{},{prefix:t||""});return{data:await cn(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},n),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Tt(a))return{data:null,error:a};throw a}}async listV2(t,e){var n=this;try{const i=Pe({},t);return{data:await cn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Zm="2.88.0",ev={"X-Client-Info":`storage-js/${Zm}`};var Ob=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Pe(Pe({},ev),e),this.fetch=lf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Ko(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ko(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await cn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var n=this;try{return{data:await Rd(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await cn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await cf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Rb=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},ev),e),this.fetch=lf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await cn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),a=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Ko(e.fetch,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await cf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!wb(t))throw new Gl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new gb({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(a,l){const u=a[l];return typeof u!="function"?u:async(...f)=>{try{return{data:await u.apply(a,f),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const uf={"X-Client-Info":`storage-js/${Zm}`,"Content-Type":"application/json"};var tv=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var td=class extends tv{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pb=class extends tv{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const df=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ib=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Og=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ab=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new td(Og(l),i,u))}).catch(()=>{const l=i+"";e(new td(a.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";e(new td(a.statusText||`HTTP ${i} error`,i,l))}}else e(new Pb(Og(t),t))},Db=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(Ib(i)?(a.headers=Pe({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Pe(Pe({},a),n)):a};async function Lb(t,e,n,i,a,l){return new Promise((u,f)=>{t(n,Db(e,i,a,l)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>Ab(p,f,i))})}async function Ir(t,e,n,i,a){return Lb(t,"POST",e,i,a,n)}var Mb=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},uf),e),this.fetch=df(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ir(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pr(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ir(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pr(i))return{data:null,error:i};throw i}}},$b=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},uf),e),this.fetch=df(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ir(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ir(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ir(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}},Fb=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},uf),e),this.fetch=df(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}},zb=class extends Fb{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Ub(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Ub=class extends Mb{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Pe(Pe({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Pe(Pe({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Bb(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Bb=class extends $b{constructor(t,e,n,i,a){super(t,e,a),this.vectorBucketName=n,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Pe(Pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Pe(Pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Pe(Pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Pe(Pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Pe(Pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Vb=class extends Ob{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new Nb(this.url,this.headers,t,this.fetch)}get vectors(){return new zb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rb(this.url+"/iceberg",this.headers,this.fetch)}};const rv="2.88.0",Mi=30*1e3,Pd=3,rd=Pd*Mi,Hb="http://localhost:9999",Wb="supabase.auth.token",qb={"X-Client-Info":`gotrue-js/${rv}`},Id="X-Supabase-Api-Version",nv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gb=600*1e3;class Go extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Jb extends Go{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Yb(t){return Ee(t)&&t.name==="AuthApiError"}class Fs extends Go{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Un extends Go{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class Or extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xb(t){return Ee(t)&&t.name==="AuthSessionMissingError"}class Ci extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pl extends Un{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gl extends Un{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qb(t){return Ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rg extends Un{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zb extends Un{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ad extends Un{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function nd(t){return Ee(t)&&t.name==="AuthRetryableFetchError"}class Pg extends Un{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Dd extends Un{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ig=` 	
\r=`.split(""),eS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ig.length;e+=1)t[Ig[e].charCodeAt(0)]=-2;for(let e=0;e<Ll.length;e+=1)t[Ll[e].charCodeAt(0)]=e;return t})();function Ag(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Ll[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Ll[i]),e.queuedBits-=6}}function sv(t,e,n){const i=eS[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Dg(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{nS(u,i,n)};for(let u=0;u<t.length;u+=1)sv(t.charCodeAt(u),a,l);return e.join("")}function tS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rS(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}tS(i,e)}}function nS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zi(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)sv(t.charCodeAt(a),n,i);return new Uint8Array(e)}function sS(t){const e=[];return rS(t,n=>e.push(n)),new Uint8Array(e)}function zs(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>Ag(a,n,i)),Ag(null,n,i),e.join("")}function iS(t){return Math.round(Date.now()/1e3)+t}function oS(){return Symbol("auth-callback")}const Zt=()=>typeof window<"u"&&typeof document<"u",As={tested:!1,writable:!1},iv=()=>{if(!Zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(As.tested)return As.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),As.tested=!0,As.writable=!0}catch{As.tested=!0,As.writable=!1}return As.writable};function aS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const ov=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$i=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ds=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qt=async(t,e)=>{await t.removeItem(e)};class Jl{constructor(){this.promise=new Jl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Jl.promiseConstructor=Promise;function sd(t){const e=t.split(".");if(e.length!==3)throw new Dd("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Kb.test(e[i]))throw new Dd("JWT not in base64url format");return{header:JSON.parse(Dg(e[0])),payload:JSON.parse(Dg(e[1])),signature:zi(e[2]),raw:{header:e[0],payload:e[1]}}}async function cS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uS(t,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function dS(t){return("0"+t.toString(16)).substr(-2)}function fS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,dS).join("")}async function hS(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function pS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await hS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ti(t,e,n=!1){const i=fS();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await $i(t,`${e}-code-verifier`,a);const l=await pS(i);return[l,i===l?"plain":"s256"]}const gS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mS(t){const e=t.headers.get(Id);if(!e||!e.match(gS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(t){if(!wS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function id(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xS(t,e){return new Proxy(t,{get:(n,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,a)}})}function Lg(t){return JSON.parse(JSON.stringify(t))}const Ms=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bS=[502,503,504];async function Mg(t){var e;if(!lS(t))throw new Ad(Ms(t),0);if(bS.includes(t.status))throw new Ad(Ms(t),t.status);let n;try{n=await t.json()}catch(l){throw new Fs(Ms(l),l)}let i;const a=mS(t);if(a&&a.getTime()>=nv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Pg(Ms(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Or}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Pg(Ms(n),t.status,n.weak_password.reasons);throw new Jb(Ms(n),t.status||500,i)}const SS=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function Re(t,e,n,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[Id]||(l[Id]=nv["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await _S(t,e,n+f,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function _S(t,e,n,i,a,l){const u=SS(e,i,a,l);let f;try{f=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new Ad(Ms(p),0)}if(f.ok||await Mg(f),i!=null&&i.noResolveJson)return f;try{return await f.json()}catch(p){await Mg(p)}}function an(t){var e;let n=null;CS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=iS(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function $g(t){const e=an(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ES(t){return{data:t,error:null}}function kS(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l}=t,u=Wi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l},p=Object.assign({},u);return{data:{properties:f,user:p},error:null}}function Fg(t){return t}function CS(t){return t.access_token&&t.refresh_token&&t.expires_in}const od=["global","local","others"];class TS{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=ov(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=od[0]){if(od.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${od.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fs})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Wi(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fs})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,l,u,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Fg});if(y.error)throw y.error;const v=await y.json(),S=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);m[`${k}Page`]=b}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Ee(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ji(e);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fs})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ji(e);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fs})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){ji(e);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fs})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ji(e.userId);try{const{data:n,error:i}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ji(e.userId),ji(e.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,a,l,u,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Fg});if(y.error)throw y.error;const v=await y.json(),S=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);m[`${k}Page`]=b}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Ee(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}function zg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ni={debug:!!(globalThis&&iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class av extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jS extends av{}async function NS(t,e,n){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ni.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function OS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function RS(t){return parseInt(t,16)}function PS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function IS(t){var e;const{chainId:n,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:p,resources:m,scheme:y,uri:v,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=lv(t.address),E=y?`${y}://${i}`:i,b=t.statement?`${t.statement}
`:"",k=`${E} wants you to sign in with your Ethereum account:
${_}

${b}`;let T=`URI: ${v}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(T+=`
Expiration Time: ${a.toISOString()}`),f&&(T+=`
Not Before: ${f.toISOString()}`),p&&(T+=`
Request ID: ${p}`),m){let N=`
Resources:`;for(const O of m){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);N+=`
- ${O}`}T+=N}return`${k}
${T}`}class Dt extends Error{constructor({message:e,code:n,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Ml extends Dt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function AS({error:t,options:e}){var n,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(cv(u)){if(l.rp.id!==u)return new Dt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function DS({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(cv(i)){if(n.rpId!==i)return new Dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class LS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const MS=new LS;function $S(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,a=Wi(t,["challenge","user","excludeCredentials"]),l=zi(e).buffer,u=Object.assign(Object.assign({},n),{id:zi(n.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:u});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const m=i[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:zi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function FS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Wi(t,["challenge","allowCredentials"]),a=zi(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:zi(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function zS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:zs(new Uint8Array(t.response.attestationObject)),clientDataJSON:zs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function US(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:zs(new Uint8Array(a.authenticatorData)),clientDataJSON:zs(new Uint8Array(a.clientDataJSON)),signature:zs(new Uint8Array(a.signature)),userHandle:a.userHandle?zs(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ug(){var t,e;return!!(Zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function BS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ml("Browser returned unexpected credential type",e)}:{data:null,error:new Ml("Empty credential response",e)}}catch(e){return{data:null,error:AS({error:e,options:t})}}}async function VS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ml("Browser returned unexpected credential type",e)}:{data:null,error:new Ml("Empty credential response",e)}}catch(e){return{data:null,error:DS({error:e,options:t})}}}const HS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},WS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $l(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(n(u))i[l]=u;else if(e(u)){const f=i[l];e(f)?i[l]=$l(f,u):i[l]=$l(u)}else i[l]=u}return i}function qS(t,e){return $l(HS,t,e||{})}function KS(t,e){return $l(WS,t,e||{})}class GS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:a},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const p=a??MS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=qS(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:v}=await BS({publicKey:m,signal:p});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=KS(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:v}=await VS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:p}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Fs("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Go("rpId is required for WebAuthn authentication")};try{if(!Ug())return{data:null,error:new Fs("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:l});if(!u)return{data:null,error:f};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:i,credential_response:p.credential_response}})}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Fs("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Go("rpId is required for WebAuthn registration")};try{if(!Ug())return{data:null,error:new Fs("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Fs("Unexpected error in register",u)}}}}OS();const JS={url:Hb,storageKey:Wb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Bg(t,e,n){return await n()}const Oi={};class Jo{get jwks(){var e,n;return(n=(e=Oi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Oi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},JS),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Jo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Jo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Zt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new TS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=ov(l.fetch),this.lock=l.lock||Bg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Zt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=NS:this.lock=Bg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=zg(this.memoryStorage)),Zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(Zt()&&(n=aS(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Zt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Qb(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?this._returnResult({error:n}):this._returnResult({error:new Fs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:an}),{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(Ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,i,a;try{let l;if("email"in e){const{email:y,password:v,options:S}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await Ti(this.storage,this.storageKey)),l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:v,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:_,code_challenge_method:E},xform:an})}else if("phone"in e){const{phone:y,password:v,options:S}=e;l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(a=S==null?void 0:S.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:an})}else throw new pl("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return await Qt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),Ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$g})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$g})}else throw new pl("You must provide either an email or phone number and a password");const{data:i,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new Ci;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(Ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,a,l,u,f,p,m,y,v,S;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:b,wallet:k,statement:T,options:N}=e;let O;if(Zt())if(typeof k=="object")O=k;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")O=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=k}const A=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),$=await O.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=lv($[0]);let U=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!U){const ie=await O.request({method:"eth_chainId"});U=RS(ie)}const z={domain:A.host,address:V,statement:T,uri:A.href,version:"1",chainId:U,nonce:(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=N==null?void 0:N.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=N==null?void 0:N.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=N==null?void 0:N.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=IS(z),E=await O.request({method:"personal_sign",params:[PS(_),V]})}try{const{data:b,error:k}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:an});if(k)throw k;if(!b||!b.session||!b.user){const T=new Ci;return this._returnResult({data:{user:null,session:null},error:T})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(Ee(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,i,a,l,u,f,p,m,y,v,S,_;let E,b;if("message"in e)E=e.message,b=e.signature;else{const{chain:k,wallet:T,statement:N,options:O}=e;let A;if(Zt())if(typeof T=="object")A=T;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))A=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const $=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const V=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),N?{statement:N}:null));let U;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")U=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)U=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)E=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),b=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${$.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(a=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((m=O==null?void 0:O.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((v=(y=O==null?void 0:O.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...O.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const V=await A.signMessage(new TextEncoder().encode(E),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=V}}try{const{data:k,error:T}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:zs(b)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:an});if(T)throw T;if(!k||!k.session||!k.user){const N=new Ci;return this._returnResult({data:{user:null,session:null},error:N})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:T})}catch(k){if(Ee(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await Ds(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Zb;const{data:l,error:u}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:an});if(await Qt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const f=new Ci;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),Ee(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:l,nonce:u}=e,f=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:an}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const y=new Ci;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(n){if(Ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,a,l,u;try{if("email"in e){const{email:f,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ti(this.storage,this.storageKey));const{error:v}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:f,options:p}=e,{data:m,error:y}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new pl("You must provide either an email or phone number.")}catch(f){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),Ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,i;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:an});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,m=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(a){if(Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,i,a,l,u;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ti(this.storage,this.storageKey));const m=await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:ES});return!((l=m.data)===null||l===void 0)&&l.url&&Zt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),Ee(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Or;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:u}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:u,error:f}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new pl("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Ds(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=id()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=xS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fs}):await this._useSession(async n=>{var i,a,l;const{data:u,error:f}=n;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Or}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:fs})})}catch(n){if(Ee(n))return Xb(n)&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new Or;const u=a.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await Ti(this.storage,this.storageKey));const{data:m,error:y}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:u.access_token,xform:fs});if(y)throw y;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),Ee(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Or;const n=Date.now()/1e3;let i=n,a=!0,l=null;const{payload:u}=sd(e.access_token);if(u.exp&&(i=u.exp,a=i<=n),a){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Or;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Zt())throw new gl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rg("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:f,expires_at:p,token_type:m}=e;if(!l||!f||!u||!m)throw new gl("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let S=y+v;p&&(S=parseInt(p));const _=S-y;_*1e3<=Mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const E=S-v;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,S,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,S,y);const{data:b,error:k}=await this._getUser(l);if(k)throw k;const T={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:S,refresh_token:u,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(i){if(Ee(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ds(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(Yb(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=oS(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:l},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Ti(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),Ee(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:a}=await this._useSession(async l=>{var u,f,p,m,y;const{data:v,error:S}=l;if(S)throw S;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Zt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(Ee(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:u,provider:f,token:p,access_token:m,nonce:y}=e,v=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:p,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:an}),{data:S,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Ci}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:_}))}catch(a){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:u}=n;if(u)throw u;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await uS(async a=>(a>0&&await cS(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:an})),(a,l)=>{const u=200*Math.pow(2,a);return l&&nd(l)&&Date.now()+u-i<Mi})}catch(i){if(this._debug(n,"error",i),Ee(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Zt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Ds(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await $i(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:id()}else if(a&&!a.user&&!a.user){const u=await Ds(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await Qt(this.storage,this.storageKey+"-user"),await $i(this.storage,this.storageKey,a)):a.user=id()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rd;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${rd}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),nd(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Jl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Or;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),Ee(l)){const u={data:null,error:l};return nd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await $i(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=Lg(a);await $i(this.storage,this.storageKey,l)}else{const a=Lg(n);await $i(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qt(this.storage,this.storageKey),await Qt(this.storage,this.storageKey+"-code-verifier"),await Qt(this.storage,this.storageKey+"-user"),this.userStorage&&await Qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Mi}ms, refresh threshold is ${Pd} ticks`),a<=Pd&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof av)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Ti(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:m}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&p.type==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zS(e.webauthn.credential_response):US(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:$S(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:FS(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=sd(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Or})})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Or});const u=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Zt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Or});const u=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Zt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await Re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Or})})}catch(e){if(Ee(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?(await Re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Or})})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(f=>f.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+Gb>a)return i;const{data:l,error:u}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:_,error:E}=await this.getSession();if(E||!_.session)return this._returnResult({data:null,error:E});i=_.session.access_token}const{header:a,payload:l,signature:u,raw:{header:f,payload:p}}=sd(i);n!=null&&n.allowExpired||vS(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:l,header:a,signature:u},error:null}}const y=yS(a.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,sS(`${f}.${p}`)))throw new Dd("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}}Jo.nextInstanceID={};const YS=Jo,XS="2.88.0";let $o="";typeof Deno<"u"?$o="deno":typeof document<"u"?$o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$o="react-native":$o="node";const QS={"X-Client-Info":`supabase-js-${$o}/${XS}`},ZS={headers:QS},e_={schema:"public"},t_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r_={};function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function n_(t,e){if(Yo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Yo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_(t){var e=n_(t,"string");return Yo(e)=="symbol"?e:e+""}function i_(t,e,n){return(e=s_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vg(Object(n),!0).forEach(function(i){i_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const o_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),a_=()=>Headers,l_=(t,e,n)=>{const i=o_(n),a=a_();return async(l,u)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:t;let m=new a(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(l,Rt(Rt({},u),{},{headers:m}))}};function c_(t){return t.endsWith("/")?t:t+"/"}function u_(t,e){var n,i;const{db:a,auth:l,realtime:u,global:f}=t,{db:p,auth:m,realtime:y,global:v}=e,S={db:Rt(Rt({},p),a),auth:Rt(Rt({},m),l),realtime:Rt(Rt({},y),u),storage:{},global:Rt(Rt(Rt({},v),f),{},{headers:Rt(Rt({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(i=f==null?void 0:f.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function d_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(c_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var f_=class extends YS{constructor(t){super(t)}},h_=class{constructor(t,e,n){var i,a;this.supabaseUrl=t,this.supabaseKey=e;const l=d_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:e_,realtime:r_,auth:Rt(Rt({},t_),{},{storageKey:u}),global:ZS},p=u_(n??{},f);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=p.auth)!==null&&m!==void 0?m:{},this.headers,p.global.fetch)}this.fetch=l_(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new qx(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Vb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Ux(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:l,flowType:u,lock:f,debug:p,throwOnError:m},y,v){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f_({url:this.authUrl.href,headers:Rt(Rt({},S),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:a,flowType:u,lock:f,debug:p,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new cb(this.realtimeUrl.href,Rt(Rt({},t),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const uv=(t,e,n)=>new h_(t,e,n);function p_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}p_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ze="diutyuulfulleqfmjlxp",ff="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpdXR5dXVsZnVsbGVxZm1qbHhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5MTIwODgsImV4cCI6MjA4MTQ4ODA4OH0.y-JROlzATycLHcEyqOppWe1HNi-nQaV6kBg7FAa1F6Y";function Hg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function dv(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Hg(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Hg(t[a],null)}}}}function jt(...t){return w.useCallback(dv(...t),t)}var gs=w.forwardRef((t,e)=>{const{children:n,...i}=t,a=w.Children.toArray(n),l=a.find(m_);if(l){const u=l.props.children,f=a.map(p=>p===l?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:p);return d.jsx(Ld,{...i,ref:e,children:w.isValidElement(u)?w.cloneElement(u,void 0,f):null})}return d.jsx(Ld,{...i,ref:e,children:n})});gs.displayName="Slot";var Ld=w.forwardRef((t,e)=>{const{children:n,...i}=t;if(w.isValidElement(n)){const a=y_(n),l=v_(i,n.props);return n.type!==w.Fragment&&(l.ref=e?dv(e,a):a),w.cloneElement(n,l)}return w.Children.count(n)>1?w.Children.only(null):null});Ld.displayName="SlotClone";var g_=({children:t})=>d.jsx(d.Fragment,{children:t});function m_(t){return w.isValidElement(t)&&t.type===g_}function v_(t,e){const n={...e};for(const i in e){const a=t[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{l(...f),a(...f)}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function y_(t){var i,a;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fv(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=fv(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function hv(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=fv(t))&&(i&&(i+=" "),i+=e);return i}const Wg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qg=hv,hf=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return qg(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(m=>{const y=n==null?void 0:n[m],v=l==null?void 0:l[m];if(y===null)return null;const S=Wg(y)||Wg(v);return a[m][S]}),f=n&&Object.entries(n).reduce((m,y)=>{let[v,S]=y;return S===void 0||(m[v]=S),m},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,y)=>{let{class:v,className:S,..._}=y;return Object.entries(_).every(E=>{let[b,k]=E;return Array.isArray(k)?k.includes({...l,...f}[b]):{...l,...f}[b]===k})?[...m,v,S]:m},[]);return qg(t,u,p,n==null?void 0:n.class,n==null?void 0:n.className)},pf="-",w_=t=>{const e=b_(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const f=u.split(pf);return f[0]===""&&f.length!==1&&f.shift(),pv(f,e)||x_(u)},getConflictingClassGroupIds:(u,f)=>{const p=n[u]||[];return f&&i[u]?[...p,...i[u]]:p}}},pv=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),a=i?pv(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(pf);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},Kg=/^\[(.+)\]$/,x_=t=>{if(Kg.test(t)){const e=Kg.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},b_=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const a in n)Md(n[a],i,a,e);return i},Md=(t,e,n,i)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:Gg(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(S_(a)){Md(a(i),e,n,i);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,u])=>{Md(u,Gg(e,l),n,i)})})},Gg=(t,e)=>{let n=t;return e.split(pf).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},S_=t=>t.isThemeGetter,__=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const a=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,i=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return a(l,u),u},set(l,u){n.has(l)?n.set(l,u):a(l,u)}}},$d="!",Fd=":",E_=Fd.length,k_=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let u=0,f=0,p=0,m;for(let E=0;E<a.length;E++){let b=a[E];if(u===0&&f===0){if(b===Fd){l.push(a.slice(p,E)),p=E+E_;continue}if(b==="/"){m=E;continue}}b==="["?u++:b==="]"?u--:b==="("?f++:b===")"&&f--}const y=l.length===0?a:a.substring(p),v=C_(y),S=v!==y,_=m&&m>p?m-p:void 0;return{modifiers:l,hasImportantModifier:S,baseClassName:v,maybePostfixModifierPosition:_}};if(e){const a=e+Fd,l=i;i=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},C_=t=>t.endsWith($d)?t.substring(0,t.length-1):t.startsWith($d)?t.substring(1):t,T_=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},j_=t=>({cache:__(t.cacheSize),parseClassName:k_(t),sortModifiers:T_(t),...w_(t)}),N_=/\s+/,O_=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(N_);let p="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:v,modifiers:S,hasImportantModifier:_,baseClassName:E,maybePostfixModifierPosition:b}=n(y);if(v){p=y+(p.length>0?" "+p:p);continue}let k=!!b,T=i(k?E.substring(0,b):E);if(!T){if(!k){p=y+(p.length>0?" "+p:p);continue}if(T=i(E),!T){p=y+(p.length>0?" "+p:p);continue}k=!1}const N=l(S).join(":"),O=_?N+$d:N,A=O+T;if(u.includes(A))continue;u.push(A);const $=a(T,k);for(let V=0;V<$.length;++V){const U=$[V];u.push(O+U)}p=y+(p.length>0?" "+p:p)}return p};function R_(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gv(e))&&(i&&(i+=" "),i+=n);return i}const gv=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=gv(t[i]))&&(n&&(n+=" "),n+=e);return n};function P_(t,...e){let n,i,a,l=u;function u(p){const m=e.reduce((y,v)=>v(y),t());return n=j_(m),i=n.cache.get,a=n.cache.set,l=f,f(p)}function f(p){const m=i(p);if(m)return m;const y=O_(p,n);return a(p,y),y}return function(){return l(R_.apply(null,arguments))}}const zt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,I_=/^\d+\/\d+$/,A_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,M_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ri=t=>I_.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),cs=t=>!!t&&Number.isInteger(Number(t)),ad=t=>t.endsWith("%")&&ze(t.slice(0,-1)),Mn=t=>A_.test(t),F_=()=>!0,z_=t=>D_.test(t)&&!L_.test(t),yv=()=>!1,U_=t=>M_.test(t),B_=t=>$_.test(t),V_=t=>!ve(t)&&!ye(t),H_=t=>qi(t,bv,yv),ve=t=>mv.test(t),Ls=t=>qi(t,Sv,z_),ld=t=>qi(t,J_,ze),Jg=t=>qi(t,wv,yv),W_=t=>qi(t,xv,B_),ml=t=>qi(t,_v,U_),ye=t=>vv.test(t),Mo=t=>Ki(t,Sv),q_=t=>Ki(t,Y_),Yg=t=>Ki(t,wv),K_=t=>Ki(t,bv),G_=t=>Ki(t,xv),vl=t=>Ki(t,_v,!0),qi=(t,e,n)=>{const i=mv.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Ki=(t,e,n=!1)=>{const i=vv.exec(t);return i?i[1]?e(i[1]):n:!1},wv=t=>t==="position"||t==="percentage",xv=t=>t==="image"||t==="url",bv=t=>t==="length"||t==="size"||t==="bg-size",Sv=t=>t==="length",J_=t=>t==="number",Y_=t=>t==="family-name",_v=t=>t==="shadow",X_=()=>{const t=zt("color"),e=zt("font"),n=zt("text"),i=zt("font-weight"),a=zt("tracking"),l=zt("leading"),u=zt("breakpoint"),f=zt("container"),p=zt("spacing"),m=zt("radius"),y=zt("shadow"),v=zt("inset-shadow"),S=zt("text-shadow"),_=zt("drop-shadow"),E=zt("blur"),b=zt("perspective"),k=zt("aspect"),T=zt("ease"),N=zt("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...A(),ye,ve],V=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],z=()=>[ye,ve,p],ie=()=>[Ri,"full","auto",...z()],ue=()=>[cs,"none","subgrid",ye,ve],de=()=>["auto",{span:["full",cs,ye,ve]},cs,ye,ve],pe=()=>[cs,"auto",ye,ve],le=()=>["auto","min","max","fr",ye,ve],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...z()],Y=()=>[Ri,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],I=()=>[t,ye,ve],K=()=>[...A(),Yg,Jg,{position:[ye,ve]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",K_,H_,{size:[ye,ve]}],L=()=>[ad,Mo,Ls],q=()=>["","none","full",m,ye,ve],ne=()=>["",ze,Mo,Ls],be=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[ze,ad,Yg,Jg],oe=()=>["","none",E,ye,ve],Ce=()=>["none",ze,ye,ve],Te=()=>["none",ze,ye,ve],De=()=>[ze,ye,ve],Me=()=>[Ri,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mn],breakpoint:[Mn],color:[F_],container:[Mn],"drop-shadow":[Mn],ease:["in","out","in-out"],font:[V_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mn],shadow:[Mn],spacing:["px",ze],text:[Mn],"text-shadow":[Mn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ri,ve,ye,k]}],container:["container"],columns:[{columns:[ze,ve,ye,f]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ie()}],"inset-x":[{"inset-x":ie()}],"inset-y":[{"inset-y":ie()}],start:[{start:ie()}],end:[{end:ie()}],top:[{top:ie()}],right:[{right:ie()}],bottom:[{bottom:ie()}],left:[{left:ie()}],visibility:["visible","invisible","collapse"],z:[{z:[cs,"auto",ye,ve]}],basis:[{basis:[Ri,"full","auto",f,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Ri,"auto","initial","none",ve]}],grow:[{grow:["",ze,ye,ve]}],shrink:[{shrink:["",ze,ye,ve]}],order:[{order:[cs,"first","last","none",ye,ve]}],"grid-cols":[{"grid-cols":ue()}],"col-start-end":[{col:de()}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":ue()}],"row-start-end":[{row:de()}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[f,"screen",...Y()]}],"min-w":[{"min-w":[f,"screen","none",...Y()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Y()]}],h:[{h:["screen",...Y()]}],"min-h":[{"min-h":["screen","none",...Y()]}],"max-h":[{"max-h":["screen",...Y()]}],"font-size":[{text:["base",n,Mo,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ye,ld]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ad,ve]}],"font-family":[{font:[q_,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ye,ve]}],"line-clamp":[{"line-clamp":[ze,"none",ye,ld]}],leading:[{leading:[l,...z()]}],"list-image":[{"list-image":["none",ye,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",ye,Ls]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[ze,"auto",ye,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cs,ye,ve],radial:["",ye,ve],conic:[cs,ye,ve]},G_,W_]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,ye,ve]}],"outline-w":[{outline:["",ze,Mo,Ls]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",y,vl,ml]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",v,vl,ml]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[ze,Ls]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",S,vl,ml]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[ze,ye,ve]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[ye,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ve]}],filter:[{filter:["","none",ye,ve]}],blur:[{blur:oe()}],brightness:[{brightness:[ze,ye,ve]}],contrast:[{contrast:[ze,ye,ve]}],"drop-shadow":[{"drop-shadow":["","none",_,vl,ml]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",ze,ye,ve]}],"hue-rotate":[{"hue-rotate":[ze,ye,ve]}],invert:[{invert:["",ze,ye,ve]}],saturate:[{saturate:[ze,ye,ve]}],sepia:[{sepia:["",ze,ye,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ve]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[ze,ye,ve]}],"backdrop-contrast":[{"backdrop-contrast":[ze,ye,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,ye,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,ye,ve]}],"backdrop-invert":[{"backdrop-invert":["",ze,ye,ve]}],"backdrop-opacity":[{"backdrop-opacity":[ze,ye,ve]}],"backdrop-saturate":[{"backdrop-saturate":[ze,ye,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,ye,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",ye,ve]}],ease:[{ease:["linear","initial",T,ye,ve]}],delay:[{delay:[ze,ye,ve]}],animate:[{animate:["none",N,ye,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ye,ve]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[ye,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ve]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[ze,Mo,Ls,ld]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Q_=P_(X_);function qe(...t){return Q_(hv(t))}function qt(t){if(!t)return t||"";const e=String(t).trim();return e.toLowerCase().endsWith("flight")?e:`${e} Flight`}const Z_=hf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Be({className:t,variant:e,size:n,asChild:i=!1,...a}){const l=i?gs:"button";return d.jsx(l,{"data-slot":"button",className:qe(Z_({variant:e,size:n,className:t})),...a})}function er({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:qe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var na=qm();const Ev=sf(na);var eE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ke=eE.reduce((t,e)=>{const n=w.forwardRef((i,a)=>{const{asChild:l,...u}=i,f=l?gs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function tE(t,e){t&&na.flushSync(()=>t.dispatchEvent(e))}var rE="Label",kv=w.forwardRef((t,e)=>d.jsx(Ke.label,{...t,ref:e,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kv.displayName=rE;var nE=kv;function et({className:t,...e}){return d.jsx(nE,{"data-slot":"label",className:qe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function mt({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:qe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function vt({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:qe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function yt({className:t,...e}){return d.jsx("h4",{"data-slot":"card-title",className:qe("leading-none",t),...e})}function br({className:t,...e}){return d.jsx("p",{"data-slot":"card-description",className:qe("text-muted-foreground",t),...e})}function wt({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:qe("px-6 [&:last-child]:pb-6",t),...e})}function We(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function sE(t,e){const n=w.createContext(e),i=l=>{const{children:u,...f}=l,p=w.useMemo(()=>f,Object.values(f));return d.jsx(n.Provider,{value:p,children:u})};i.displayName=t+"Provider";function a(l){const u=w.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[i,a]}function Js(t,e=[]){let n=[];function i(l,u){const f=w.createContext(u),p=n.length;n=[...n,u];const m=v=>{var T;const{scope:S,children:_,...E}=v,b=((T=S==null?void 0:S[t])==null?void 0:T[p])||f,k=w.useMemo(()=>E,Object.values(E));return d.jsx(b.Provider,{value:k,children:_})};m.displayName=l+"Provider";function y(v,S){var b;const _=((b=S==null?void 0:S[t])==null?void 0:b[p])||f,E=w.useContext(_);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,y]}const a=()=>{const l=n.map(u=>w.createContext(u));return function(f){const p=(f==null?void 0:f[t])||l;return w.useMemo(()=>({[`__scope${t}`]:{...f,[t]:p}}),[f,p])}};return a.scopeName=t,[i,iE(a,...e)]}function iE(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((f,{useScope:p,scopeName:m})=>{const v=p(l)[`__scope${m}`];return{...f,...v}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Cv(t){const e=t+"CollectionProvider",[n,i]=Js(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:E,children:b}=_,k=re.useRef(null),T=re.useRef(new Map).current;return d.jsx(a,{scope:E,itemMap:T,collectionRef:k,children:b})};u.displayName=e;const f=t+"CollectionSlot",p=re.forwardRef((_,E)=>{const{scope:b,children:k}=_,T=l(f,b),N=jt(E,T.collectionRef);return d.jsx(gs,{ref:N,children:k})});p.displayName=f;const m=t+"CollectionItemSlot",y="data-radix-collection-item",v=re.forwardRef((_,E)=>{const{scope:b,children:k,...T}=_,N=re.useRef(null),O=jt(E,N),A=l(m,b);return re.useEffect(()=>(A.itemMap.set(N,{ref:N,...T}),()=>void A.itemMap.delete(N))),d.jsx(gs,{[y]:"",ref:O,children:k})});v.displayName=m;function S(_){const E=l(t+"CollectionConsumer",_);return re.useCallback(()=>{const k=E.collectionRef.current;if(!k)return[];const T=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(E.itemMap.values()).sort((A,$)=>T.indexOf(A.ref.current)-T.indexOf($.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:u,Slot:p,ItemSlot:v},S,i]}var dr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},oE=Lx.useId||(()=>{}),aE=0;function hs(t){const[e,n]=w.useState(oE());return dr(()=>{n(i=>i??String(aE++))},[t]),t||(e?`radix-${e}`:"")}function En(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function Vi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,a]=lE({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i,f=En(n),p=w.useCallback(m=>{if(l){const v=typeof m=="function"?m(t):m;v!==t&&f(v)}else a(m)},[l,t,a,f]);return[u,p]}function lE({defaultProp:t,onChange:e}){const n=w.useState(t),[i]=n,a=w.useRef(i),l=En(e);return w.useEffect(()=>{a.current!==i&&(l(i),a.current=i)},[i,a,l]),n}var cE=w.createContext(void 0);function gf(t){const e=w.useContext(cE);return t||e||"ltr"}var cd="rovingFocusGroup.onEntryFocus",uE={bubbles:!1,cancelable:!0},Yl="RovingFocusGroup",[zd,Tv,dE]=Cv(Yl),[fE,jv]=Js(Yl,[dE]),[hE,pE]=fE(Yl),Nv=w.forwardRef((t,e)=>d.jsx(zd.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(zd.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(gE,{...t,ref:e})})}));Nv.displayName=Yl;var gE=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...v}=t,S=w.useRef(null),_=jt(e,S),E=gf(l),[b=null,k]=Vi({prop:u,defaultProp:f,onChange:p}),[T,N]=w.useState(!1),O=En(m),A=Tv(n),$=w.useRef(!1),[V,U]=w.useState(0);return w.useEffect(()=>{const z=S.current;if(z)return z.addEventListener(cd,O),()=>z.removeEventListener(cd,O)},[O]),d.jsx(hE,{scope:n,orientation:i,dir:E,loop:a,currentTabStopId:b,onItemFocus:w.useCallback(z=>k(z),[k]),onItemShiftTab:w.useCallback(()=>N(!0),[]),onFocusableItemAdd:w.useCallback(()=>U(z=>z+1),[]),onFocusableItemRemove:w.useCallback(()=>U(z=>z-1),[]),children:d.jsx(Ke.div,{tabIndex:T||V===0?-1:0,"data-orientation":i,...v,ref:_,style:{outline:"none",...t.style},onMouseDown:We(t.onMouseDown,()=>{$.current=!0}),onFocus:We(t.onFocus,z=>{const ie=!$.current;if(z.target===z.currentTarget&&ie&&!T){const ue=new CustomEvent(cd,uE);if(z.currentTarget.dispatchEvent(ue),!ue.defaultPrevented){const de=A().filter(B=>B.focusable),pe=de.find(B=>B.active),le=de.find(B=>B.id===b),W=[pe,le,...de].filter(Boolean).map(B=>B.ref.current);Pv(W,y)}}$.current=!1}),onBlur:We(t.onBlur,()=>N(!1))})})}),Ov="RovingFocusGroupItem",Rv=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:a=!1,tabStopId:l,...u}=t,f=hs(),p=l||f,m=pE(Ov,n),y=m.currentTabStopId===p,v=Tv(n),{onFocusableItemAdd:S,onFocusableItemRemove:_}=m;return w.useEffect(()=>{if(i)return S(),()=>_()},[i,S,_]),d.jsx(zd.ItemSlot,{scope:n,id:p,focusable:i,active:a,children:d.jsx(Ke.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:We(t.onMouseDown,E=>{i?m.onItemFocus(p):E.preventDefault()}),onFocus:We(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:We(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){m.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const b=yE(E,m.orientation,m.dir);if(b!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=v().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const N=T.indexOf(E.currentTarget);T=m.loop?wE(T,N+1):T.slice(N+1)}setTimeout(()=>Pv(T))}})})})});Rv.displayName=Ov;var mE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vE(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yE(t,e,n){const i=vE(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return mE[i]}function Pv(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function wE(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var xE=Nv,bE=Rv;function SE(t,e){return w.useReducer((n,i)=>e[n][i]??n,t)}var Gi=t=>{const{present:e,children:n}=t,i=_E(e),a=typeof n=="function"?n({present:i.isPresent}):w.Children.only(n),l=jt(i.ref,EE(a));return typeof n=="function"||i.isPresent?w.cloneElement(a,{ref:l}):null};Gi.displayName="Presence";function _E(t){const[e,n]=w.useState(),i=w.useRef({}),a=w.useRef(t),l=w.useRef("none"),u=t?"mounted":"unmounted",[f,p]=SE(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=yl(i.current);l.current=f==="mounted"?m:"none"},[f]),dr(()=>{const m=i.current,y=a.current;if(y!==t){const S=l.current,_=yl(m);t?p("MOUNT"):_==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(y&&S!==_?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,p]),dr(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,v=_=>{const b=yl(i.current).includes(_.animationName);if(_.target===e&&b&&(p("ANIMATION_END"),!a.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},S=_=>{_.target===e&&(l.current=yl(i.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(m=>{m&&(i.current=getComputedStyle(m)),n(m)},[])}}function yl(t){return(t==null?void 0:t.animationName)||"none"}function EE(t){var i,a;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mf="Tabs",[kE]=Js(mf,[jv]),Iv=jv(),[CE,vf]=kE(mf),Av=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:f,activationMode:p="automatic",...m}=t,y=gf(f),[v,S]=Vi({prop:i,onChange:a,defaultProp:l});return d.jsx(CE,{scope:n,baseId:hs(),value:v,onValueChange:S,orientation:u,dir:y,activationMode:p,children:d.jsx(Ke.div,{dir:y,"data-orientation":u,...m,ref:e})})});Av.displayName=mf;var Dv="TabsList",Lv=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:i=!0,...a}=t,l=vf(Dv,n),u=Iv(n);return d.jsx(xE,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:i,children:d.jsx(Ke.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});Lv.displayName=Dv;var Mv="TabsTrigger",$v=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,disabled:a=!1,...l}=t,u=vf(Mv,n),f=Iv(n),p=Uv(u.baseId,i),m=Bv(u.baseId,i),y=i===u.value;return d.jsx(bE,{asChild:!0,...f,focusable:!a,active:y,children:d.jsx(Ke.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:p,...l,ref:e,onMouseDown:We(t.onMouseDown,v=>{!a&&v.button===0&&v.ctrlKey===!1?u.onValueChange(i):v.preventDefault()}),onKeyDown:We(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(i)}),onFocus:We(t.onFocus,()=>{const v=u.activationMode!=="manual";!y&&!a&&v&&u.onValueChange(i)})})})});$v.displayName=Mv;var Fv="TabsContent",zv=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,forceMount:a,children:l,...u}=t,f=vf(Fv,n),p=Uv(f.baseId,i),m=Bv(f.baseId,i),y=i===f.value,v=w.useRef(y);return w.useEffect(()=>{const S=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(S)},[]),d.jsx(Gi,{present:a||y,children:({present:S})=>d.jsx(Ke.div,{"data-state":y?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!S,id:m,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:S&&l})})});zv.displayName=Fv;function Uv(t,e){return`${t}-trigger-${e}`}function Bv(t,e){return`${t}-content-${e}`}var TE=Av,jE=Lv,NE=$v,OE=zv;function Xl({className:t,...e}){return d.jsx(TE,{"data-slot":"tabs",className:qe("flex flex-col gap-2",t),...e})}function Ql({className:t,...e}){return d.jsx(jE,{"data-slot":"tabs-list",className:qe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Gr({className:t,...e}){return d.jsx(NE,{"data-slot":"tabs-trigger",className:qe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Jr({className:t,...e}){return d.jsx(OE,{"data-slot":"tabs-content",className:qe("flex-1 outline-none",t),...e})}function Xg(t,[e,n]){return Math.min(n,Math.max(e,t))}function RE(t,e=globalThis==null?void 0:globalThis.document){const n=En(t);w.useEffect(()=>{const i=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var PE="DismissableLayer",Ud="dismissableLayer.update",IE="dismissableLayer.pointerDownOutside",AE="dismissableLayer.focusOutside",Qg,Vv=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yf=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...p}=t,m=w.useContext(Vv),[y,v]=w.useState(null),S=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=w.useState({}),E=jt(e,U=>v(U)),b=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),T=b.indexOf(k),N=y?b.indexOf(y):-1,O=m.layersWithOutsidePointerEventsDisabled.size>0,A=N>=T,$=ME(U=>{const z=U.target,ie=[...m.branches].some(ue=>ue.contains(z));!A||ie||(a==null||a(U),u==null||u(U),U.defaultPrevented||f==null||f())},S),V=$E(U=>{const z=U.target;[...m.branches].some(ue=>ue.contains(z))||(l==null||l(U),u==null||u(U),U.defaultPrevented||f==null||f())},S);return RE(U=>{N===m.layers.size-1&&(i==null||i(U),!U.defaultPrevented&&f&&(U.preventDefault(),f()))},S),w.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Qg=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Zg(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Qg)}},[y,S,n,m]),w.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Zg())},[y,m]),w.useEffect(()=>{const U=()=>_({});return document.addEventListener(Ud,U),()=>document.removeEventListener(Ud,U)},[]),d.jsx(Ke.div,{...p,ref:E,style:{pointerEvents:O?A?"auto":"none":void 0,...t.style},onFocusCapture:We(t.onFocusCapture,V.onFocusCapture),onBlurCapture:We(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:We(t.onPointerDownCapture,$.onPointerDownCapture)})});yf.displayName=PE;var DE="DismissableLayerBranch",LE=w.forwardRef((t,e)=>{const n=w.useContext(Vv),i=w.useRef(null),a=jt(e,i);return w.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),d.jsx(Ke.div,{...t,ref:a})});LE.displayName=DE;function ME(t,e=globalThis==null?void 0:globalThis.document){const n=En(t),i=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let p=function(){Hv(IE,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=p,e.addEventListener("click",a.current,{once:!0})):p()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function $E(t,e=globalThis==null?void 0:globalThis.document){const n=En(t),i=w.useRef(!1);return w.useEffect(()=>{const a=l=>{l.target&&!i.current&&Hv(AE,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Zg(){const t=new CustomEvent(Ud);document.dispatchEvent(t)}function Hv(t,e,n,{discrete:i}){const a=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),i?tE(a,l):a.dispatchEvent(l)}var ud=0;function Wv(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??em()),document.body.insertAdjacentElement("beforeend",t[1]??em()),ud++,()=>{ud===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ud--}},[])}function em(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dd="focusScope.autoFocusOnMount",fd="focusScope.autoFocusOnUnmount",tm={bubbles:!1,cancelable:!0},FE="FocusScope",wf=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=t,[f,p]=w.useState(null),m=En(a),y=En(l),v=w.useRef(null),S=jt(e,b=>p(b)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let b=function(O){if(_.paused||!f)return;const A=O.target;f.contains(A)?v.current=A:us(v.current,{select:!0})},k=function(O){if(_.paused||!f)return;const A=O.relatedTarget;A!==null&&(f.contains(A)||us(v.current,{select:!0}))},T=function(O){if(document.activeElement===document.body)for(const $ of O)$.removedNodes.length>0&&us(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",k);const N=new MutationObserver(T);return f&&N.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",k),N.disconnect()}}},[i,f,_.paused]),w.useEffect(()=>{if(f){nm.add(_);const b=document.activeElement;if(!f.contains(b)){const T=new CustomEvent(dd,tm);f.addEventListener(dd,m),f.dispatchEvent(T),T.defaultPrevented||(zE(WE(qv(f)),{select:!0}),document.activeElement===b&&us(f))}return()=>{f.removeEventListener(dd,m),setTimeout(()=>{const T=new CustomEvent(fd,tm);f.addEventListener(fd,y),f.dispatchEvent(T),T.defaultPrevented||us(b??document.body,{select:!0}),f.removeEventListener(fd,y),nm.remove(_)},0)}}},[f,m,y,_]);const E=w.useCallback(b=>{if(!n&&!i||_.paused)return;const k=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,T=document.activeElement;if(k&&T){const N=b.currentTarget,[O,A]=UE(N);O&&A?!b.shiftKey&&T===A?(b.preventDefault(),n&&us(O,{select:!0})):b.shiftKey&&T===O&&(b.preventDefault(),n&&us(A,{select:!0})):T===N&&b.preventDefault()}},[n,i,_.paused]);return d.jsx(Ke.div,{tabIndex:-1,...u,ref:S,onKeyDown:E})});wf.displayName=FE;function zE(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(us(i,{select:e}),document.activeElement!==n)return}function UE(t){const e=qv(t),n=rm(e,t),i=rm(e.reverse(),t);return[n,i]}function qv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rm(t,e){for(const n of t)if(!BE(n,{upTo:e}))return n}function BE(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function VE(t){return t instanceof HTMLInputElement&&"select"in t}function us(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&VE(t)&&e&&t.select()}}var nm=HE();function HE(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sm(t,e),t.unshift(e)},remove(e){var n;t=sm(t,e),(n=t[0])==null||n.resume()}}}function sm(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function WE(t){return t.filter(e=>e.tagName!=="A")}const qE=["top","right","bottom","left"],ms=Math.min,Rr=Math.max,Fl=Math.round,wl=Math.floor,_n=t=>({x:t,y:t}),KE={left:"right",right:"left",bottom:"top",top:"bottom"},GE={start:"end",end:"start"};function Bd(t,e,n){return Rr(t,ms(e,n))}function Fn(t,e){return typeof t=="function"?t(e):t}function zn(t){return t.split("-")[0]}function Ji(t){return t.split("-")[1]}function xf(t){return t==="x"?"y":"x"}function bf(t){return t==="y"?"height":"width"}const JE=new Set(["top","bottom"]);function bn(t){return JE.has(zn(t))?"y":"x"}function Sf(t){return xf(bn(t))}function YE(t,e,n){n===void 0&&(n=!1);const i=Ji(t),a=Sf(t),l=bf(a);let u=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=zl(u)),[u,zl(u)]}function XE(t){const e=zl(t);return[Vd(t),e,Vd(e)]}function Vd(t){return t.replace(/start|end/g,e=>GE[e])}const im=["left","right"],om=["right","left"],QE=["top","bottom"],ZE=["bottom","top"];function ek(t,e,n){switch(t){case"top":case"bottom":return n?e?om:im:e?im:om;case"left":case"right":return e?QE:ZE;default:return[]}}function tk(t,e,n,i){const a=Ji(t);let l=ek(zn(t),n==="start",i);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Vd)))),l}function zl(t){return t.replace(/left|right|bottom|top/g,e=>KE[e])}function rk(t){return{top:0,right:0,bottom:0,left:0,...t}}function Kv(t){return typeof t!="number"?rk(t):{top:t,right:t,bottom:t,left:t}}function Ul(t){const{x:e,y:n,width:i,height:a}=t;return{width:i,height:a,top:n,left:e,right:e+i,bottom:n+a,x:e,y:n}}function am(t,e,n){let{reference:i,floating:a}=t;const l=bn(e),u=Sf(e),f=bf(u),p=zn(e),m=l==="y",y=i.x+i.width/2-a.width/2,v=i.y+i.height/2-a.height/2,S=i[f]/2-a[f]/2;let _;switch(p){case"top":_={x:y,y:i.y-a.height};break;case"bottom":_={x:y,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-a.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Ji(e)){case"start":_[u]-=S*(n&&m?-1:1);break;case"end":_[u]+=S*(n&&m?-1:1);break}return _}const nk=async(t,e,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:v}=am(m,i,p),S=i,_={},E=0;for(let b=0;b<f.length;b++){const{name:k,fn:T}=f[b],{x:N,y:O,data:A,reset:$}=await T({x:y,y:v,initialPlacement:i,placement:S,strategy:a,middlewareData:_,rects:m,platform:u,elements:{reference:t,floating:e}});y=N??y,v=O??v,_={..._,[k]:{..._[k],...A}},$&&E<=50&&(E++,typeof $=="object"&&($.placement&&(S=$.placement),$.rects&&(m=$.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):$.rects),{x:y,y:v}=am(m,S,p)),b=-1)}return{x:y,y:v,placement:S,strategy:a,middlewareData:_}};async function Xo(t,e){var n;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:u,elements:f,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:S=!1,padding:_=0}=Fn(e,t),E=Kv(_),k=f[S?v==="floating"?"reference":"floating":v],T=Ul(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(k)))==null||n?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:p})),N=v==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),A=await(l.isElement==null?void 0:l.isElement(O))?await(l.getScale==null?void 0:l.getScale(O))||{x:1,y:1}:{x:1,y:1},$=Ul(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:N,offsetParent:O,strategy:p}):N);return{top:(T.top-$.top+E.top)/A.y,bottom:($.bottom-T.bottom+E.bottom)/A.y,left:(T.left-$.left+E.left)/A.x,right:($.right-T.right+E.right)/A.x}}const sk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:a,rects:l,platform:u,elements:f,middlewareData:p}=e,{element:m,padding:y=0}=Fn(t,e)||{};if(m==null)return{};const v=Kv(y),S={x:n,y:i},_=Sf(a),E=bf(_),b=await u.getDimensions(m),k=_==="y",T=k?"top":"left",N=k?"bottom":"right",O=k?"clientHeight":"clientWidth",A=l.reference[E]+l.reference[_]-S[_]-l.floating[E],$=S[_]-l.reference[_],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let U=V?V[O]:0;(!U||!await(u.isElement==null?void 0:u.isElement(V)))&&(U=f.floating[O]||l.floating[E]);const z=A/2-$/2,ie=U/2-b[E]/2-1,ue=ms(v[T],ie),de=ms(v[N],ie),pe=ue,le=U-b[E]-de,ge=U/2-b[E]/2+z,W=Bd(pe,ge,le),B=!p.arrow&&Ji(a)!=null&&ge!==W&&l.reference[E]/2-(ge<pe?ue:de)-b[E]/2<0,Y=B?ge<pe?ge-pe:ge-le:0;return{[_]:S[_]+Y,data:{[_]:W,centerOffset:ge-W-Y,...B&&{alignmentOffset:Y}},reset:B}}}),ik=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:a,middlewareData:l,rects:u,initialPlacement:f,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:S,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,...k}=Fn(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const T=zn(a),N=bn(f),O=zn(f)===f,A=await(p.isRTL==null?void 0:p.isRTL(m.floating)),$=S||(O||!b?[zl(f)]:XE(f)),V=E!=="none";!S&&V&&$.push(...tk(f,b,E,A));const U=[f,...$],z=await Xo(e,k),ie=[];let ue=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&ie.push(z[T]),v){const ge=YE(a,u,A);ie.push(z[ge[0]],z[ge[1]])}if(ue=[...ue,{placement:a,overflows:ie}],!ie.every(ge=>ge<=0)){var de,pe;const ge=(((de=l.flip)==null?void 0:de.index)||0)+1,W=U[ge];if(W&&(!(v==="alignment"?N!==bn(W):!1)||ue.every(I=>bn(I.placement)===N?I.overflows[0]>0:!0)))return{data:{index:ge,overflows:ue},reset:{placement:W}};let B=(pe=ue.filter(Y=>Y.overflows[0]<=0).sort((Y,I)=>Y.overflows[1]-I.overflows[1])[0])==null?void 0:pe.placement;if(!B)switch(_){case"bestFit":{var le;const Y=(le=ue.filter(I=>{if(V){const K=bn(I.placement);return K===N||K==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(K=>K>0).reduce((K,H)=>K+H,0)]).sort((I,K)=>I[1]-K[1])[0])==null?void 0:le[0];Y&&(B=Y);break}case"initialPlacement":B=f;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function lm(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cm(t){return qE.some(e=>t[e]>=0)}const ok=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...a}=Fn(t,e);switch(i){case"referenceHidden":{const l=await Xo(e,{...a,elementContext:"reference"}),u=lm(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:cm(u)}}}case"escaped":{const l=await Xo(e,{...a,altBoundary:!0}),u=lm(l,n.floating);return{data:{escapedOffsets:u,escaped:cm(u)}}}default:return{}}}}},Gv=new Set(["left","top"]);async function ak(t,e){const{placement:n,platform:i,elements:a}=t,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=zn(n),f=Ji(n),p=bn(n)==="y",m=Gv.has(u)?-1:1,y=l&&p?-1:1,v=Fn(e,t);let{mainAxis:S,crossAxis:_,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof E=="number"&&(_=f==="end"?E*-1:E),p?{x:_*y,y:S*m}:{x:S*m,y:_*y}}const lk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:a,y:l,placement:u,middlewareData:f}=e,p=await ak(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+p.x,y:l+p.y,data:{...p,placement:u}}}}},ck=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:k=>{let{x:T,y:N}=k;return{x:T,y:N}}},...p}=Fn(t,e),m={x:n,y:i},y=await Xo(e,p),v=bn(zn(a)),S=xf(v);let _=m[S],E=m[v];if(l){const k=S==="y"?"top":"left",T=S==="y"?"bottom":"right",N=_+y[k],O=_-y[T];_=Bd(N,_,O)}if(u){const k=v==="y"?"top":"left",T=v==="y"?"bottom":"right",N=E+y[k],O=E-y[T];E=Bd(N,E,O)}const b=f.fn({...e,[S]:_,[v]:E});return{...b,data:{x:b.x-n,y:b.y-i,enabled:{[S]:l,[v]:u}}}}}},uk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:a,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:p=!0,crossAxis:m=!0}=Fn(t,e),y={x:n,y:i},v=bn(a),S=xf(v);let _=y[S],E=y[v];const b=Fn(f,e),k=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const O=S==="y"?"height":"width",A=l.reference[S]-l.floating[O]+k.mainAxis,$=l.reference[S]+l.reference[O]-k.mainAxis;_<A?_=A:_>$&&(_=$)}if(m){var T,N;const O=S==="y"?"width":"height",A=Gv.has(zn(a)),$=l.reference[v]-l.floating[O]+(A&&((T=u.offset)==null?void 0:T[v])||0)+(A?0:k.crossAxis),V=l.reference[v]+l.reference[O]+(A?0:((N=u.offset)==null?void 0:N[v])||0)-(A?k.crossAxis:0);E<$?E=$:E>V&&(E=V)}return{[S]:_,[v]:E}}}},dk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:a,rects:l,platform:u,elements:f}=e,{apply:p=()=>{},...m}=Fn(t,e),y=await Xo(e,m),v=zn(a),S=Ji(a),_=bn(a)==="y",{width:E,height:b}=l.floating;let k,T;v==="top"||v==="bottom"?(k=v,T=S===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(T=v,k=S==="end"?"top":"bottom");const N=b-y.top-y.bottom,O=E-y.left-y.right,A=ms(b-y[k],N),$=ms(E-y[T],O),V=!e.middlewareData.shift;let U=A,z=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=O),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(U=N),V&&!S){const ue=Rr(y.left,0),de=Rr(y.right,0),pe=Rr(y.top,0),le=Rr(y.bottom,0);_?z=E-2*(ue!==0||de!==0?ue+de:Rr(y.left,y.right)):U=b-2*(pe!==0||le!==0?pe+le:Rr(y.top,y.bottom))}await p({...e,availableWidth:z,availableHeight:U});const ie=await u.getDimensions(f.floating);return E!==ie.width||b!==ie.height?{reset:{rects:!0}}:{}}}};function Zl(){return typeof window<"u"}function Yi(t){return Jv(t)?(t.nodeName||"").toLowerCase():"#document"}function Ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(Jv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Jv(t){return Zl()?t instanceof Node||t instanceof Ar(t).Node:!1}function dn(t){return Zl()?t instanceof Element||t instanceof Ar(t).Element:!1}function kn(t){return Zl()?t instanceof HTMLElement||t instanceof Ar(t).HTMLElement:!1}function um(t){return!Zl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ar(t).ShadowRoot}const fk=new Set(["inline","contents"]);function sa(t){const{overflow:e,overflowX:n,overflowY:i,display:a}=fn(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!fk.has(a)}const hk=new Set(["table","td","th"]);function pk(t){return hk.has(Yi(t))}const gk=[":popover-open",":modal"];function ec(t){return gk.some(e=>{try{return t.matches(e)}catch{return!1}})}const mk=["transform","translate","scale","rotate","perspective"],vk=["transform","translate","scale","rotate","perspective","filter"],yk=["paint","layout","strict","content"];function _f(t){const e=Ef(),n=dn(t)?fn(t):t;return mk.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vk.some(i=>(n.willChange||"").includes(i))||yk.some(i=>(n.contain||"").includes(i))}function wk(t){let e=vs(t);for(;kn(e)&&!Hi(e);){if(_f(e))return e;if(ec(e))return null;e=vs(e)}return null}function Ef(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xk=new Set(["html","body","#document"]);function Hi(t){return xk.has(Yi(t))}function fn(t){return Ar(t).getComputedStyle(t)}function tc(t){return dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vs(t){if(Yi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||um(t)&&t.host||Cn(t);return um(e)?e.host:e}function Yv(t){const e=vs(t);return Hi(e)?t.ownerDocument?t.ownerDocument.body:t.body:kn(e)&&sa(e)?e:Yv(e)}function Qo(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Yv(t),l=a===((i=t.ownerDocument)==null?void 0:i.body),u=Ar(a);if(l){const f=Hd(u);return e.concat(u,u.visualViewport||[],sa(a)?a:[],f&&n?Qo(f):[])}return e.concat(a,Qo(a,[],n))}function Hd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xv(t){const e=fn(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=kn(t),l=a?t.offsetWidth:n,u=a?t.offsetHeight:i,f=Fl(n)!==l||Fl(i)!==u;return f&&(n=l,i=u),{width:n,height:i,$:f}}function kf(t){return dn(t)?t:t.contextElement}function Ui(t){const e=kf(t);if(!kn(e))return _n(1);const n=e.getBoundingClientRect(),{width:i,height:a,$:l}=Xv(e);let u=(l?Fl(n.width):n.width)/i,f=(l?Fl(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const bk=_n(0);function Qv(t){const e=Ar(t);return!Ef()||!e.visualViewport?bk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Sk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ar(t)?!1:e}function Us(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=kf(t);let u=_n(1);e&&(i?dn(i)&&(u=Ui(i)):u=Ui(t));const f=Sk(l,n,i)?Qv(l):_n(0);let p=(a.left+f.x)/u.x,m=(a.top+f.y)/u.y,y=a.width/u.x,v=a.height/u.y;if(l){const S=Ar(l),_=i&&dn(i)?Ar(i):i;let E=S,b=Hd(E);for(;b&&i&&_!==E;){const k=Ui(b),T=b.getBoundingClientRect(),N=fn(b),O=T.left+(b.clientLeft+parseFloat(N.paddingLeft))*k.x,A=T.top+(b.clientTop+parseFloat(N.paddingTop))*k.y;p*=k.x,m*=k.y,y*=k.x,v*=k.y,p+=O,m+=A,E=Ar(b),b=Hd(E)}}return Ul({width:y,height:v,x:p,y:m})}function rc(t,e){const n=tc(t).scrollLeft;return e?e.left+n:Us(Cn(t)).left+n}function Zv(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-rc(t,n),a=n.top+e.scrollTop;return{x:i,y:a}}function _k(t){let{elements:e,rect:n,offsetParent:i,strategy:a}=t;const l=a==="fixed",u=Cn(i),f=e?ec(e.floating):!1;if(i===u||f&&l)return n;let p={scrollLeft:0,scrollTop:0},m=_n(1);const y=_n(0),v=kn(i);if((v||!v&&!l)&&((Yi(i)!=="body"||sa(u))&&(p=tc(i)),kn(i))){const _=Us(i);m=Ui(i),y.x=_.x+i.clientLeft,y.y=_.y+i.clientTop}const S=u&&!v&&!l?Zv(u,p):_n(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-p.scrollLeft*m.x+y.x+S.x,y:n.y*m.y-p.scrollTop*m.y+y.y+S.y}}function Ek(t){return Array.from(t.getClientRects())}function kk(t){const e=Cn(t),n=tc(t),i=t.ownerDocument.body,a=Rr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=Rr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+rc(t);const f=-n.scrollTop;return fn(i).direction==="rtl"&&(u+=Rr(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:u,y:f}}const dm=25;function Ck(t,e){const n=Ar(t),i=Cn(t),a=n.visualViewport;let l=i.clientWidth,u=i.clientHeight,f=0,p=0;if(a){l=a.width,u=a.height;const y=Ef();(!y||y&&e==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}const m=rc(i);if(m<=0){const y=i.ownerDocument,v=y.body,S=getComputedStyle(v),_=y.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,E=Math.abs(i.clientWidth-v.clientWidth-_);E<=dm&&(l-=E)}else m<=dm&&(l+=m);return{width:l,height:u,x:f,y:p}}const Tk=new Set(["absolute","fixed"]);function jk(t,e){const n=Us(t,!0,e==="fixed"),i=n.top+t.clientTop,a=n.left+t.clientLeft,l=kn(t)?Ui(t):_n(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,p=a*l.x,m=i*l.y;return{width:u,height:f,x:p,y:m}}function fm(t,e,n){let i;if(e==="viewport")i=Ck(t,n);else if(e==="document")i=kk(Cn(t));else if(dn(e))i=jk(e,n);else{const a=Qv(t);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Ul(i)}function ey(t,e){const n=vs(t);return n===e||!dn(n)||Hi(n)?!1:fn(n).position==="fixed"||ey(n,e)}function Nk(t,e){const n=e.get(t);if(n)return n;let i=Qo(t,[],!1).filter(f=>dn(f)&&Yi(f)!=="body"),a=null;const l=fn(t).position==="fixed";let u=l?vs(t):t;for(;dn(u)&&!Hi(u);){const f=fn(u),p=_f(u);!p&&f.position==="fixed"&&(a=null),(l?!p&&!a:!p&&f.position==="static"&&!!a&&Tk.has(a.position)||sa(u)&&!p&&ey(t,u))?i=i.filter(y=>y!==u):a=f,u=vs(u)}return e.set(t,i),i}function Ok(t){let{element:e,boundary:n,rootBoundary:i,strategy:a}=t;const u=[...n==="clippingAncestors"?ec(e)?[]:Nk(e,this._c):[].concat(n),i],f=u[0],p=u.reduce((m,y)=>{const v=fm(e,y,a);return m.top=Rr(v.top,m.top),m.right=ms(v.right,m.right),m.bottom=ms(v.bottom,m.bottom),m.left=Rr(v.left,m.left),m},fm(e,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Rk(t){const{width:e,height:n}=Xv(t);return{width:e,height:n}}function Pk(t,e,n){const i=kn(e),a=Cn(e),l=n==="fixed",u=Us(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const p=_n(0);function m(){p.x=rc(a)}if(i||!i&&!l)if((Yi(e)!=="body"||sa(a))&&(f=tc(e)),i){const _=Us(e,!0,l,e);p.x=_.x+e.clientLeft,p.y=_.y+e.clientTop}else a&&m();l&&!i&&a&&m();const y=a&&!i&&!l?Zv(a,f):_n(0),v=u.left+f.scrollLeft-p.x-y.x,S=u.top+f.scrollTop-p.y-y.y;return{x:v,y:S,width:u.width,height:u.height}}function hd(t){return fn(t).position==="static"}function hm(t,e){if(!kn(t)||fn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cn(t)===n&&(n=n.ownerDocument.body),n}function ty(t,e){const n=Ar(t);if(ec(t))return n;if(!kn(t)){let a=vs(t);for(;a&&!Hi(a);){if(dn(a)&&!hd(a))return a;a=vs(a)}return n}let i=hm(t,e);for(;i&&pk(i)&&hd(i);)i=hm(i,e);return i&&Hi(i)&&hd(i)&&!_f(i)?n:i||wk(t)||n}const Ik=async function(t){const e=this.getOffsetParent||ty,n=this.getDimensions,i=await n(t.floating);return{reference:Pk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Ak(t){return fn(t).direction==="rtl"}const Dk={convertOffsetParentRelativeRectToViewportRelativeRect:_k,getDocumentElement:Cn,getClippingRect:Ok,getOffsetParent:ty,getElementRects:Ik,getClientRects:Ek,getDimensions:Rk,getScale:Ui,isElement:dn,isRTL:Ak};function ry(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Lk(t,e){let n=null,i;const a=Cn(t);function l(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),l();const m=t.getBoundingClientRect(),{left:y,top:v,width:S,height:_}=m;if(f||e(),!S||!_)return;const E=wl(v),b=wl(a.clientWidth-(y+S)),k=wl(a.clientHeight-(v+_)),T=wl(y),O={rootMargin:-E+"px "+-b+"px "+-k+"px "+-T+"px",threshold:Rr(0,ms(1,p))||1};let A=!0;function $(V){const U=V[0].intersectionRatio;if(U!==p){if(!A)return u();U?u(!1,U):i=setTimeout(()=>{u(!1,1e-7)},1e3)}U===1&&!ry(m,t.getBoundingClientRect())&&u(),A=!1}try{n=new IntersectionObserver($,{...O,root:a.ownerDocument})}catch{n=new IntersectionObserver($,O)}n.observe(t)}return u(!0),l}function Mk(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,m=kf(t),y=a||l?[...m?Qo(m):[],...Qo(e)]:[];y.forEach(T=>{a&&T.addEventListener("scroll",n,{passive:!0}),l&&T.addEventListener("resize",n)});const v=m&&f?Lk(m,n):null;let S=-1,_=null;u&&(_=new ResizeObserver(T=>{let[N]=T;N&&N.target===m&&_&&(_.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var O;(O=_)==null||O.observe(e)})),n()}),m&&!p&&_.observe(m),_.observe(e));let E,b=p?Us(t):null;p&&k();function k(){const T=Us(t);b&&!ry(b,T)&&n(),b=T,E=requestAnimationFrame(k)}return n(),()=>{var T;y.forEach(N=>{a&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),v==null||v(),(T=_)==null||T.disconnect(),_=null,p&&cancelAnimationFrame(E)}}const $k=lk,Fk=ck,zk=ik,Uk=dk,Bk=ok,pm=sk,Vk=uk,Hk=(t,e,n)=>{const i=new Map,a={platform:Dk,...n},l={...a.platform,_c:i};return nk(t,e,{...a,platform:l})};var Wk=typeof document<"u",qk=function(){},Cl=Wk?w.useLayoutEffect:qk;function Bl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Bl(t[i],e[i]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const l=a[i];if(!(l==="_owner"&&t.$$typeof)&&!Bl(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function ny(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gm(t,e){const n=ny(t);return Math.round(e*n)/n}function pd(t){const e=w.useRef(t);return Cl(()=>{e.current=t}),e}function Kk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:p,open:m}=t,[y,v]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,_]=w.useState(i);Bl(S,i)||_(i);const[E,b]=w.useState(null),[k,T]=w.useState(null),N=w.useCallback(I=>{I!==V.current&&(V.current=I,b(I))},[]),O=w.useCallback(I=>{I!==U.current&&(U.current=I,T(I))},[]),A=l||E,$=u||k,V=w.useRef(null),U=w.useRef(null),z=w.useRef(y),ie=p!=null,ue=pd(p),de=pd(a),pe=pd(m),le=w.useCallback(()=>{if(!V.current||!U.current)return;const I={placement:e,strategy:n,middleware:S};de.current&&(I.platform=de.current),Hk(V.current,U.current,I).then(K=>{const H={...K,isPositioned:pe.current!==!1};ge.current&&!Bl(z.current,H)&&(z.current=H,na.flushSync(()=>{v(H)}))})},[S,e,n,de,pe]);Cl(()=>{m===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,v(I=>({...I,isPositioned:!1})))},[m]);const ge=w.useRef(!1);Cl(()=>(ge.current=!0,()=>{ge.current=!1}),[]),Cl(()=>{if(A&&(V.current=A),$&&(U.current=$),A&&$){if(ue.current)return ue.current(A,$,le);le()}},[A,$,le,ue,ie]);const W=w.useMemo(()=>({reference:V,floating:U,setReference:N,setFloating:O}),[N,O]),B=w.useMemo(()=>({reference:A,floating:$}),[A,$]),Y=w.useMemo(()=>{const I={position:n,left:0,top:0};if(!B.floating)return I;const K=gm(B.floating,y.x),H=gm(B.floating,y.y);return f?{...I,transform:"translate("+K+"px, "+H+"px)",...ny(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:H}},[n,f,B.floating,y.x,y.y]);return w.useMemo(()=>({...y,update:le,refs:W,elements:B,floatingStyles:Y}),[y,le,W,B,Y])}const Gk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:a}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?pm({element:i.current,padding:a}).fn(n):{}:i?pm({element:i,padding:a}).fn(n):{}}}},Jk=(t,e)=>({...$k(t),options:[t,e]}),Yk=(t,e)=>({...Fk(t),options:[t,e]}),Xk=(t,e)=>({...Vk(t),options:[t,e]}),Qk=(t,e)=>({...zk(t),options:[t,e]}),Zk=(t,e)=>({...Uk(t),options:[t,e]}),e1=(t,e)=>({...Bk(t),options:[t,e]}),t1=(t,e)=>({...Gk(t),options:[t,e]});var r1="Arrow",sy=w.forwardRef((t,e)=>{const{children:n,width:i=10,height:a=5,...l}=t;return d.jsx(Ke.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});sy.displayName=r1;var n1=sy;function iy(t){const[e,n]=w.useState(void 0);return dr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,f;if("borderBoxSize"in l){const p=l.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,f=m.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var Cf="Popper",[oy,ay]=Js(Cf),[s1,ly]=oy(Cf),cy=t=>{const{__scopePopper:e,children:n}=t,[i,a]=w.useState(null);return d.jsx(s1,{scope:e,anchor:i,onAnchorChange:a,children:n})};cy.displayName=Cf;var uy="PopperAnchor",dy=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...a}=t,l=ly(uy,n),u=w.useRef(null),f=jt(e,u);return w.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:d.jsx(Ke.div,{...a,ref:f})});dy.displayName=uy;var Tf="PopperContent",[i1,o1]=oy(Tf),fy=w.forwardRef((t,e)=>{var X,oe,Ce,Te,De,Me;const{__scopePopper:n,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:S=!1,updatePositionStrategy:_="optimized",onPlaced:E,...b}=t,k=ly(Tf,n),[T,N]=w.useState(null),O=jt(e,lt=>N(lt)),[A,$]=w.useState(null),V=iy(A),U=(V==null?void 0:V.width)??0,z=(V==null?void 0:V.height)??0,ie=i+(l!=="center"?"-"+l:""),ue=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},de=Array.isArray(m)?m:[m],pe=de.length>0,le={padding:ue,boundary:de.filter(l1),altBoundary:pe},{refs:ge,floatingStyles:W,placement:B,isPositioned:Y,middlewareData:I}=Kk({strategy:"fixed",placement:ie,whileElementsMounted:(...lt)=>Mk(...lt,{animationFrame:_==="always"}),elements:{reference:k.anchor},middleware:[Jk({mainAxis:a+z,alignmentAxis:u}),p&&Yk({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Xk():void 0,...le}),p&&Qk({...le}),Zk({...le,apply:({elements:lt,rects:nt,availableWidth:fr,availableHeight:Gt})=>{const{width:Lt,height:Dr}=nt.reference,bt=lt.floating.style;bt.setProperty("--radix-popper-available-width",`${fr}px`),bt.setProperty("--radix-popper-available-height",`${Gt}px`),bt.setProperty("--radix-popper-anchor-width",`${Lt}px`),bt.setProperty("--radix-popper-anchor-height",`${Dr}px`)}}),A&&t1({element:A,padding:f}),c1({arrowWidth:U,arrowHeight:z}),S&&e1({strategy:"referenceHidden",...le})]}),[K,H]=gy(B),C=En(E);dr(()=>{Y&&(C==null||C())},[Y,C]);const L=(X=I.arrow)==null?void 0:X.x,q=(oe=I.arrow)==null?void 0:oe.y,ne=((Ce=I.arrow)==null?void 0:Ce.centerOffset)!==0,[be,se]=w.useState();return dr(()=>{T&&se(window.getComputedStyle(T).zIndex)},[T]),d.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Y?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Te=I.transformOrigin)==null?void 0:Te.x,(De=I.transformOrigin)==null?void 0:De.y].join(" "),...((Me=I.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(i1,{scope:n,placedSide:K,onArrowChange:$,arrowX:L,arrowY:q,shouldHideArrow:ne,children:d.jsx(Ke.div,{"data-side":K,"data-align":H,...b,ref:O,style:{...b.style,animation:Y?void 0:"none"}})})})});fy.displayName=Tf;var hy="PopperArrow",a1={top:"bottom",right:"left",bottom:"top",left:"right"},py=w.forwardRef(function(e,n){const{__scopePopper:i,...a}=e,l=o1(hy,i),u=a1[l.placedSide];return d.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:d.jsx(n1,{...a,ref:n,style:{...a.style,display:"block"}})})});py.displayName=hy;function l1(t){return t!==null}var c1=t=>({name:"transformOrigin",options:t,fn(e){var k,T,N;const{placement:n,rects:i,middlewareData:a}=e,u=((k=a.arrow)==null?void 0:k.centerOffset)!==0,f=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[m,y]=gy(n),v={start:"0%",center:"50%",end:"100%"}[y],S=(((T=a.arrow)==null?void 0:T.x)??0)+f/2,_=(((N=a.arrow)==null?void 0:N.y)??0)+p/2;let E="",b="";return m==="bottom"?(E=u?v:`${S}px`,b=`${-p}px`):m==="top"?(E=u?v:`${S}px`,b=`${i.floating.height+p}px`):m==="right"?(E=`${-p}px`,b=u?v:`${_}px`):m==="left"&&(E=`${i.floating.width+p}px`,b=u?v:`${_}px`),{data:{x:E,y:b}}}});function gy(t){const[e,n="center"]=t.split("-");return[e,n]}var u1=cy,d1=dy,f1=fy,h1=py,p1="Portal",jf=w.forwardRef((t,e)=>{var f;const{container:n,...i}=t,[a,l]=w.useState(!1);dr(()=>l(!0),[]);const u=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?Ev.createPortal(d.jsx(Ke.div,{...i,ref:e}),u):null});jf.displayName=p1;function my(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var g1="VisuallyHidden",vy=w.forwardRef((t,e)=>d.jsx(Ke.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));vy.displayName=g1;var m1=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Pi=new WeakMap,xl=new WeakMap,bl={},gd=0,yy=function(t){return t&&(t.host||yy(t.parentNode))},v1=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=yy(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},y1=function(t,e,n,i){var a=v1(e,Array.isArray(t)?t:[t]);bl[n]||(bl[n]=new WeakMap);var l=bl[n],u=[],f=new Set,p=new Set(a),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};a.forEach(m);var y=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(S){if(f.has(S))y(S);else try{var _=S.getAttribute(i),E=_!==null&&_!=="false",b=(Pi.get(S)||0)+1,k=(l.get(S)||0)+1;Pi.set(S,b),l.set(S,k),u.push(S),b===1&&E&&xl.set(S,!0),k===1&&S.setAttribute(n,"true"),E||S.setAttribute(i,"true")}catch(T){console.error("aria-hidden: cannot operate on ",S,T)}})};return y(e),f.clear(),gd++,function(){u.forEach(function(v){var S=Pi.get(v)-1,_=l.get(v)-1;Pi.set(v,S),l.set(v,_),S||(xl.has(v)||v.removeAttribute(i),xl.delete(v)),_||v.removeAttribute(n)}),gd--,gd||(Pi=new WeakMap,Pi=new WeakMap,xl=new WeakMap,bl={})}},wy=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),a=m1(t);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),y1(i,a,n,"aria-hidden")):function(){return null}},Tl="right-scroll-bar-position",jl="width-before-scroll-bar",w1="with-scroll-bars-hidden",x1="--removed-body-scroll-bar-size";function md(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function b1(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var a=n.value;a!==i&&(n.value=i,n.callback(i,a))}}}})[0];return n.callback=e,n.facade}var S1=typeof window<"u"?w.useLayoutEffect:w.useEffect,mm=new WeakMap;function _1(t,e){var n=b1(null,function(i){return t.forEach(function(a){return md(a,i)})});return S1(function(){var i=mm.get(n);if(i){var a=new Set(i),l=new Set(t),u=n.current;a.forEach(function(f){l.has(f)||md(f,null)}),l.forEach(function(f){a.has(f)||md(f,u)})}mm.set(n,t)},[t]),n}function E1(t){return t}function k1(t,e){e===void 0&&(e=E1);var n=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,i);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(i=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){i=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var p=function(){var y=u;u=[],y.forEach(l)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),n}}}};return a}function C1(t){t===void 0&&(t={});var e=k1(null);return e.options=xn({async:!0,ssr:!1},t),e}var xy=function(t){var e=t.sideCar,n=Wi(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,xn({},n))};xy.isSideCarExport=!0;function T1(t,e){return t.useMedium(e),xy}var by=C1(),vd=function(){},nc=w.forwardRef(function(t,e){var n=w.useRef(null),i=w.useState({onScrollCapture:vd,onWheelCapture:vd,onTouchMoveCapture:vd}),a=i[0],l=i[1],u=t.forwardProps,f=t.children,p=t.className,m=t.removeScrollBar,y=t.enabled,v=t.shards,S=t.sideCar,_=t.noRelative,E=t.noIsolation,b=t.inert,k=t.allowPinchZoom,T=t.as,N=T===void 0?"div":T,O=t.gapMode,A=Wi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=S,V=_1([n,e]),U=xn(xn({},A),a);return w.createElement(w.Fragment,null,y&&w.createElement($,{sideCar:by,removeScrollBar:m,shards:v,noRelative:_,noIsolation:E,inert:b,setCallbacks:l,allowPinchZoom:!!k,lockRef:n,gapMode:O}),u?w.cloneElement(w.Children.only(f),xn(xn({},U),{ref:V})):w.createElement(N,xn({},U,{className:p,ref:V}),f))});nc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nc.classNames={fullWidth:jl,zeroRight:Tl};var j1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N1(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=j1();return e&&t.setAttribute("nonce",e),t}function O1(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function R1(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var P1=function(){var t=0,e=null;return{add:function(n){t==0&&(e=N1())&&(O1(e,n),R1(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},I1=function(){var t=P1();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Sy=function(){var t=I1(),e=function(n){var i=n.styles,a=n.dynamic;return t(i,a),null};return e},A1={left:0,top:0,right:0,gap:0},yd=function(t){return parseInt(t||"",10)||0},D1=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[yd(n),yd(i),yd(a)]},L1=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return A1;var e=D1(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},M1=Sy(),Bi="data-scroll-locked",$1=function(t,e,n,i){var a=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(w1,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(Bi,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tl,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(jl,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Tl," .").concat(Tl,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Bi,`] {
    `).concat(x1,": ").concat(f,`px;
  }
`)},vm=function(){var t=parseInt(document.body.getAttribute(Bi)||"0",10);return isFinite(t)?t:0},F1=function(){w.useEffect(function(){return document.body.setAttribute(Bi,(vm()+1).toString()),function(){var t=vm()-1;t<=0?document.body.removeAttribute(Bi):document.body.setAttribute(Bi,t.toString())}},[])},z1=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,a=i===void 0?"margin":i;F1();var l=w.useMemo(function(){return L1(a)},[a]);return w.createElement(M1,{styles:$1(l,!e,a,n?"":"!important")})},Wd=!1;if(typeof window<"u")try{var Sl=Object.defineProperty({},"passive",{get:function(){return Wd=!0,!0}});window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Wd=!1}var Ii=Wd?{passive:!1}:!1,U1=function(t){return t.tagName==="TEXTAREA"},_y=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!U1(t)&&n[e]==="visible")},B1=function(t){return _y(t,"overflowY")},V1=function(t){return _y(t,"overflowX")},ym=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=Ey(t,i);if(a){var l=ky(t,i),u=l[1],f=l[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},H1=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},W1=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},Ey=function(t,e){return t==="v"?B1(e):V1(e)},ky=function(t,e){return t==="v"?H1(e):W1(e)},q1=function(t,e){return t==="h"&&e==="rtl"?-1:1},K1=function(t,e,n,i,a){var l=q1(t,window.getComputedStyle(e).direction),u=l*i,f=n.target,p=e.contains(f),m=!1,y=u>0,v=0,S=0;do{if(!f)break;var _=ky(t,f),E=_[0],b=_[1],k=_[2],T=b-k-l*E;(E||T)&&Ey(t,f)&&(v+=T,S+=E);var N=f.parentNode;f=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!p&&f!==document.body||p&&(e.contains(f)||e===f));return(y&&Math.abs(v)<1||!y&&Math.abs(S)<1)&&(m=!0),m},_l=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},wm=function(t){return[t.deltaX,t.deltaY]},xm=function(t){return t&&"current"in t?t.current:t},G1=function(t,e){return t[0]===e[0]&&t[1]===e[1]},J1=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Y1=0,Ai=[];function X1(t){var e=w.useRef([]),n=w.useRef([0,0]),i=w.useRef(),a=w.useState(Y1++)[0],l=w.useState(Sy)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var b=$x([t.lockRef.current],(t.shards||[]).map(xm),!0).filter(Boolean);return b.forEach(function(k){return k.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var f=w.useCallback(function(b,k){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var T=_l(b),N=n.current,O="deltaX"in b?b.deltaX:N[0]-T[0],A="deltaY"in b?b.deltaY:N[1]-T[1],$,V=b.target,U=Math.abs(O)>Math.abs(A)?"h":"v";if("touches"in b&&U==="h"&&V.type==="range")return!1;var z=window.getSelection(),ie=z&&z.anchorNode,ue=ie?ie===V||ie.contains(V):!1;if(ue)return!1;var de=ym(U,V);if(!de)return!0;if(de?$=U:($=U==="v"?"h":"v",de=ym(U,V)),!de)return!1;if(!i.current&&"changedTouches"in b&&(O||A)&&(i.current=$),!$)return!0;var pe=i.current||$;return K1(pe,k,b,pe==="h"?O:A)},[]),p=w.useCallback(function(b){var k=b;if(!(!Ai.length||Ai[Ai.length-1]!==l)){var T="deltaY"in k?wm(k):_l(k),N=e.current.filter(function($){return $.name===k.type&&($.target===k.target||k.target===$.shadowParent)&&G1($.delta,T)})[0];if(N&&N.should){k.cancelable&&k.preventDefault();return}if(!N){var O=(u.current.shards||[]).map(xm).filter(Boolean).filter(function($){return $.contains(k.target)}),A=O.length>0?f(k,O[0]):!u.current.noIsolation;A&&k.cancelable&&k.preventDefault()}}},[]),m=w.useCallback(function(b,k,T,N){var O={name:b,delta:k,target:T,should:N,shadowParent:Q1(T)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(A){return A!==O})},1)},[]),y=w.useCallback(function(b){n.current=_l(b),i.current=void 0},[]),v=w.useCallback(function(b){m(b.type,wm(b),b.target,f(b,t.lockRef.current))},[]),S=w.useCallback(function(b){m(b.type,_l(b),b.target,f(b,t.lockRef.current))},[]);w.useEffect(function(){return Ai.push(l),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Ii),document.addEventListener("touchmove",p,Ii),document.addEventListener("touchstart",y,Ii),function(){Ai=Ai.filter(function(b){return b!==l}),document.removeEventListener("wheel",p,Ii),document.removeEventListener("touchmove",p,Ii),document.removeEventListener("touchstart",y,Ii)}},[]);var _=t.removeScrollBar,E=t.inert;return w.createElement(w.Fragment,null,E?w.createElement(l,{styles:J1(a)}):null,_?w.createElement(z1,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Q1(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Z1=T1(by,X1);var Nf=w.forwardRef(function(t,e){return w.createElement(nc,xn({},t,{ref:e,sideCar:Z1}))});Nf.classNames=nc.classNames;var eC=[" ","Enter","ArrowUp","ArrowDown"],tC=[" ","Enter"],ia="Select",[sc,ic,rC]=Cv(ia),[Xi]=Js(ia,[rC,ay]),oc=ay(),[nC,ys]=Xi(ia),[sC,iC]=Xi(ia),Cy=t=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:a,onOpenChange:l,value:u,defaultValue:f,onValueChange:p,dir:m,name:y,autoComplete:v,disabled:S,required:_,form:E}=t,b=oc(e),[k,T]=w.useState(null),[N,O]=w.useState(null),[A,$]=w.useState(!1),V=gf(m),[U=!1,z]=Vi({prop:i,defaultProp:a,onChange:l}),[ie,ue]=Vi({prop:u,defaultProp:f,onChange:p}),de=w.useRef(null),pe=k?E||!!k.closest("form"):!0,[le,ge]=w.useState(new Set),W=Array.from(le).map(B=>B.props.value).join(";");return d.jsx(u1,{...b,children:d.jsxs(nC,{required:_,scope:e,trigger:k,onTriggerChange:T,valueNode:N,onValueNodeChange:O,valueNodeHasChildren:A,onValueNodeHasChildrenChange:$,contentId:hs(),value:ie,onValueChange:ue,open:U,onOpenChange:z,dir:V,triggerPointerDownPosRef:de,disabled:S,children:[d.jsx(sc.Provider,{scope:e,children:d.jsx(sC,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(B=>{ge(Y=>new Set(Y).add(B))},[]),onNativeOptionRemove:w.useCallback(B=>{ge(Y=>{const I=new Set(Y);return I.delete(B),I})},[]),children:n})}),pe?d.jsxs(Jy,{"aria-hidden":!0,required:_,tabIndex:-1,name:y,autoComplete:v,value:ie,onChange:B=>ue(B.target.value),disabled:S,form:E,children:[ie===void 0?d.jsx("option",{value:""}):null,Array.from(le)]},W):null]})})};Cy.displayName=ia;var Ty="SelectTrigger",jy=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:i=!1,...a}=t,l=oc(n),u=ys(Ty,n),f=u.disabled||i,p=jt(e,u.onTriggerChange),m=ic(n),y=w.useRef("touch"),[v,S,_]=Yy(b=>{const k=m().filter(O=>!O.disabled),T=k.find(O=>O.value===u.value),N=Xy(k,b,T);N!==void 0&&u.onValueChange(N.value)}),E=b=>{f||(u.onOpenChange(!0),_()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return d.jsx(d1,{asChild:!0,...l,children:d.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":Gy(u.value)?"":void 0,...a,ref:p,onClick:We(a.onClick,b=>{b.currentTarget.focus(),y.current!=="mouse"&&E(b)}),onPointerDown:We(a.onPointerDown,b=>{y.current=b.pointerType;const k=b.target;k.hasPointerCapture(b.pointerId)&&k.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(E(b),b.preventDefault())}),onKeyDown:We(a.onKeyDown,b=>{const k=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&S(b.key),!(k&&b.key===" ")&&eC.includes(b.key)&&(E(),b.preventDefault())})})})});jy.displayName=Ty;var Ny="SelectValue",Oy=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:a,children:l,placeholder:u="",...f}=t,p=ys(Ny,n),{onValueNodeHasChildrenChange:m}=p,y=l!==void 0,v=jt(e,p.onValueNodeChange);return dr(()=>{m(y)},[m,y]),d.jsx(Ke.span,{...f,ref:v,style:{pointerEvents:"none"},children:Gy(p.value)?d.jsx(d.Fragment,{children:u}):l})});Oy.displayName=Ny;var oC="SelectIcon",Ry=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:i,...a}=t;return d.jsx(Ke.span,{"aria-hidden":!0,...a,ref:e,children:i||""})});Ry.displayName=oC;var aC="SelectPortal",Py=t=>d.jsx(jf,{asChild:!0,...t});Py.displayName=aC;var Bs="SelectContent",Iy=w.forwardRef((t,e)=>{const n=ys(Bs,t.__scopeSelect),[i,a]=w.useState();if(dr(()=>{a(new DocumentFragment)},[]),!n.open){const l=i;return l?na.createPortal(d.jsx(Ay,{scope:t.__scopeSelect,children:d.jsx(sc.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),l):null}return d.jsx(Dy,{...t,ref:e})});Iy.displayName=Bs;var ln=10,[Ay,ws]=Xi(Bs),lC="SelectContentImpl",Dy=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:f,sideOffset:p,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:S,collisionPadding:_,sticky:E,hideWhenDetached:b,avoidCollisions:k,...T}=t,N=ys(Bs,n),[O,A]=w.useState(null),[$,V]=w.useState(null),U=jt(e,X=>A(X)),[z,ie]=w.useState(null),[ue,de]=w.useState(null),pe=ic(n),[le,ge]=w.useState(!1),W=w.useRef(!1);w.useEffect(()=>{if(O)return wy(O)},[O]),Wv();const B=w.useCallback(X=>{const[oe,...Ce]=pe().map(Me=>Me.ref.current),[Te]=Ce.slice(-1),De=document.activeElement;for(const Me of X)if(Me===De||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===oe&&$&&($.scrollTop=0),Me===Te&&$&&($.scrollTop=$.scrollHeight),Me==null||Me.focus(),document.activeElement!==De))return},[pe,$]),Y=w.useCallback(()=>B([z,O]),[B,z,O]);w.useEffect(()=>{le&&Y()},[le,Y]);const{onOpenChange:I,triggerPointerDownPosRef:K}=N;w.useEffect(()=>{if(O){let X={x:0,y:0};const oe=Te=>{var De,Me;X={x:Math.abs(Math.round(Te.pageX)-(((De=K.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((Me=K.current)==null?void 0:Me.y)??0))}},Ce=Te=>{X.x<=10&&X.y<=10?Te.preventDefault():O.contains(Te.target)||I(!1),document.removeEventListener("pointermove",oe),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[O,I,K]),w.useEffect(()=>{const X=()=>I(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[I]);const[H,C]=Yy(X=>{const oe=pe().filter(De=>!De.disabled),Ce=oe.find(De=>De.ref.current===document.activeElement),Te=Xy(oe,X,Ce);Te&&setTimeout(()=>Te.ref.current.focus())}),L=w.useCallback((X,oe,Ce)=>{const Te=!W.current&&!Ce;(N.value!==void 0&&N.value===oe||Te)&&(ie(X),Te&&(W.current=!0))},[N.value]),q=w.useCallback(()=>O==null?void 0:O.focus(),[O]),ne=w.useCallback((X,oe,Ce)=>{const Te=!W.current&&!Ce;(N.value!==void 0&&N.value===oe||Te)&&de(X)},[N.value]),be=i==="popper"?qd:Ly,se=be===qd?{side:f,sideOffset:p,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:S,collisionPadding:_,sticky:E,hideWhenDetached:b,avoidCollisions:k}:{};return d.jsx(Ay,{scope:n,content:O,viewport:$,onViewportChange:V,itemRefCallback:L,selectedItem:z,onItemLeave:q,itemTextRefCallback:ne,focusSelectedItem:Y,selectedItemText:ue,position:i,isPositioned:le,searchRef:H,children:d.jsx(Nf,{as:gs,allowPinchZoom:!0,children:d.jsx(wf,{asChild:!0,trapped:N.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:We(a,X=>{var oe;(oe=N.trigger)==null||oe.focus({preventScroll:!0}),X.preventDefault()}),children:d.jsx(yf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:d.jsx(be,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:X=>X.preventDefault(),...T,...se,onPlaced:()=>ge(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:We(T.onKeyDown,X=>{const oe=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!oe&&X.key.length===1&&C(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Te=pe().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const De=X.target,Me=Te.indexOf(De);Te=Te.slice(Me+1)}setTimeout(()=>B(Te)),X.preventDefault()}})})})})})})});Dy.displayName=lC;var cC="SelectItemAlignedPosition",Ly=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:i,...a}=t,l=ys(Bs,n),u=ws(Bs,n),[f,p]=w.useState(null),[m,y]=w.useState(null),v=jt(e,U=>y(U)),S=ic(n),_=w.useRef(!1),E=w.useRef(!0),{viewport:b,selectedItem:k,selectedItemText:T,focusSelectedItem:N}=u,O=w.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&m&&b&&k&&T){const U=l.trigger.getBoundingClientRect(),z=m.getBoundingClientRect(),ie=l.valueNode.getBoundingClientRect(),ue=T.getBoundingClientRect();if(l.dir!=="rtl"){const De=ue.left-z.left,Me=ie.left-De,lt=U.left-Me,nt=U.width+lt,fr=Math.max(nt,z.width),Gt=window.innerWidth-ln,Lt=Xg(Me,[ln,Math.max(ln,Gt-fr)]);f.style.minWidth=nt+"px",f.style.left=Lt+"px"}else{const De=z.right-ue.right,Me=window.innerWidth-ie.right-De,lt=window.innerWidth-U.right-Me,nt=U.width+lt,fr=Math.max(nt,z.width),Gt=window.innerWidth-ln,Lt=Xg(Me,[ln,Math.max(ln,Gt-fr)]);f.style.minWidth=nt+"px",f.style.right=Lt+"px"}const de=S(),pe=window.innerHeight-ln*2,le=b.scrollHeight,ge=window.getComputedStyle(m),W=parseInt(ge.borderTopWidth,10),B=parseInt(ge.paddingTop,10),Y=parseInt(ge.borderBottomWidth,10),I=parseInt(ge.paddingBottom,10),K=W+B+le+I+Y,H=Math.min(k.offsetHeight*5,K),C=window.getComputedStyle(b),L=parseInt(C.paddingTop,10),q=parseInt(C.paddingBottom,10),ne=U.top+U.height/2-ln,be=pe-ne,se=k.offsetHeight/2,X=k.offsetTop+se,oe=W+B+X,Ce=K-oe;if(oe<=ne){const De=de.length>0&&k===de[de.length-1].ref.current;f.style.bottom="0px";const Me=m.clientHeight-b.offsetTop-b.offsetHeight,lt=Math.max(be,se+(De?q:0)+Me+Y),nt=oe+lt;f.style.height=nt+"px"}else{const De=de.length>0&&k===de[0].ref.current;f.style.top="0px";const lt=Math.max(ne,W+b.offsetTop+(De?L:0)+se)+Ce;f.style.height=lt+"px",b.scrollTop=oe-ne+b.offsetTop}f.style.margin=`${ln}px 0`,f.style.minHeight=H+"px",f.style.maxHeight=pe+"px",i==null||i(),requestAnimationFrame(()=>_.current=!0)}},[S,l.trigger,l.valueNode,f,m,b,k,T,l.dir,i]);dr(()=>O(),[O]);const[A,$]=w.useState();dr(()=>{m&&$(window.getComputedStyle(m).zIndex)},[m]);const V=w.useCallback(U=>{U&&E.current===!0&&(O(),N==null||N(),E.current=!1)},[O,N]);return d.jsx(dC,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:_,onScrollButtonChange:V,children:d.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:d.jsx(Ke.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Ly.displayName=cC;var uC="SelectPopperPosition",qd=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:a=ln,...l}=t,u=oc(n);return d.jsx(f1,{...u,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qd.displayName=uC;var[dC,Of]=Xi(Bs,{}),Kd="SelectViewport",My=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:i,...a}=t,l=ws(Kd,n),u=Of(Kd,n),f=jt(e,l.onViewportChange),p=w.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(sc.Slot,{scope:n,children:d.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:We(a.onScroll,m=>{const y=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:S}=u;if(S!=null&&S.current&&v){const _=Math.abs(p.current-y.scrollTop);if(_>0){const E=window.innerHeight-ln*2,b=parseFloat(v.style.minHeight),k=parseFloat(v.style.height),T=Math.max(b,k);if(T<E){const N=T+_,O=Math.min(E,N),A=N-O;v.style.height=O+"px",v.style.bottom==="0px"&&(y.scrollTop=A>0?A:0,v.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});My.displayName=Kd;var $y="SelectGroup",[fC,hC]=Xi($y),pC=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,a=hs();return d.jsx(fC,{scope:n,id:a,children:d.jsx(Ke.div,{role:"group","aria-labelledby":a,...i,ref:e})})});pC.displayName=$y;var Fy="SelectLabel",gC=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,a=hC(Fy,n);return d.jsx(Ke.div,{id:a.id,...i,ref:e})});gC.displayName=Fy;var Vl="SelectItem",[mC,zy]=Xi(Vl),Uy=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:i,disabled:a=!1,textValue:l,...u}=t,f=ys(Vl,n),p=ws(Vl,n),m=f.value===i,[y,v]=w.useState(l??""),[S,_]=w.useState(!1),E=jt(e,N=>{var O;return(O=p.itemRefCallback)==null?void 0:O.call(p,N,i,a)}),b=hs(),k=w.useRef("touch"),T=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(mC,{scope:n,value:i,disabled:a,textId:b,isSelected:m,onItemTextChange:w.useCallback(N=>{v(O=>O||((N==null?void 0:N.textContent)??"").trim())},[]),children:d.jsx(sc.ItemSlot,{scope:n,value:i,disabled:a,textValue:y,children:d.jsx(Ke.div,{role:"option","aria-labelledby":b,"data-highlighted":S?"":void 0,"aria-selected":m&&S,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:E,onFocus:We(u.onFocus,()=>_(!0)),onBlur:We(u.onBlur,()=>_(!1)),onClick:We(u.onClick,()=>{k.current!=="mouse"&&T()}),onPointerUp:We(u.onPointerUp,()=>{k.current==="mouse"&&T()}),onPointerDown:We(u.onPointerDown,N=>{k.current=N.pointerType}),onPointerMove:We(u.onPointerMove,N=>{var O;k.current=N.pointerType,a?(O=p.onItemLeave)==null||O.call(p):k.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(u.onPointerLeave,N=>{var O;N.currentTarget===document.activeElement&&((O=p.onItemLeave)==null||O.call(p))}),onKeyDown:We(u.onKeyDown,N=>{var A;((A=p.searchRef)==null?void 0:A.current)!==""&&N.key===" "||(tC.includes(N.key)&&T(),N.key===" "&&N.preventDefault())})})})})});Uy.displayName=Vl;var Fo="SelectItemText",By=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:a,...l}=t,u=ys(Fo,n),f=ws(Fo,n),p=zy(Fo,n),m=iC(Fo,n),[y,v]=w.useState(null),S=jt(e,T=>v(T),p.onItemTextChange,T=>{var N;return(N=f.itemTextRefCallback)==null?void 0:N.call(f,T,p.value,p.disabled)}),_=y==null?void 0:y.textContent,E=w.useMemo(()=>d.jsx("option",{value:p.value,disabled:p.disabled,children:_},p.value),[p.disabled,p.value,_]),{onNativeOptionAdd:b,onNativeOptionRemove:k}=m;return dr(()=>(b(E),()=>k(E)),[b,k,E]),d.jsxs(d.Fragment,{children:[d.jsx(Ke.span,{id:p.textId,...l,ref:S}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?na.createPortal(l.children,u.valueNode):null]})});By.displayName=Fo;var Vy="SelectItemIndicator",Hy=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return zy(Vy,n).isSelected?d.jsx(Ke.span,{"aria-hidden":!0,...i,ref:e}):null});Hy.displayName=Vy;var Gd="SelectScrollUpButton",Wy=w.forwardRef((t,e)=>{const n=ws(Gd,t.__scopeSelect),i=Of(Gd,t.__scopeSelect),[a,l]=w.useState(!1),u=jt(e,i.onScrollButtonChange);return dr(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=p.scrollTop>0;l(m)};const p=n.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?d.jsx(Ky,{...t,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=n;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});Wy.displayName=Gd;var Jd="SelectScrollDownButton",qy=w.forwardRef((t,e)=>{const n=ws(Jd,t.__scopeSelect),i=Of(Jd,t.__scopeSelect),[a,l]=w.useState(!1),u=jt(e,i.onScrollButtonChange);return dr(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<m;l(y)};const p=n.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?d.jsx(Ky,{...t,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=n;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});qy.displayName=Jd;var Ky=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:i,...a}=t,l=ws("SelectScrollButton",n),u=w.useRef(null),f=ic(n),p=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>p(),[p]),dr(()=>{var y;const m=f().find(v=>v.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[f]),d.jsx(Ke.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:We(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:We(a.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:We(a.onPointerLeave,()=>{p()})})}),vC="SelectSeparator",yC=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return d.jsx(Ke.div,{"aria-hidden":!0,...i,ref:e})});yC.displayName=vC;var Yd="SelectArrow",wC=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,a=oc(n),l=ys(Yd,n),u=ws(Yd,n);return l.open&&u.position==="popper"?d.jsx(h1,{...a,...i,ref:e}):null});wC.displayName=Yd;function Gy(t){return t===""||t===void 0}var Jy=w.forwardRef((t,e)=>{const{value:n,...i}=t,a=w.useRef(null),l=jt(e,a),u=my(n);return w.useEffect(()=>{const f=a.current,p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==n&&y){const v=new Event("change",{bubbles:!0});y.call(f,n),f.dispatchEvent(v)}},[u,n]),d.jsx(vy,{asChild:!0,children:d.jsx("select",{...i,ref:l,defaultValue:n})})});Jy.displayName="BubbleSelect";function Yy(t){const e=En(t),n=w.useRef(""),i=w.useRef(0),a=w.useCallback(u=>{const f=n.current+u;e(f),(function p(m){n.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>p(""),1e3))})(f)},[e]),l=w.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,a,l]}function Xy(t,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=xC(t,Math.max(l,0));a.length===1&&(u=u.filter(m=>m!==n));const p=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return p!==n?p:void 0}function xC(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var bC=Cy,SC=jy,_C=Oy,EC=Ry,kC=Py,CC=Iy,TC=My,jC=Uy,NC=By,OC=Hy,RC=Wy,PC=qy;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),bm=t=>{const e=AC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Qy=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},p)=>w.createElement("svg",{ref:p,...DC,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Qy("lucide",a),...f},[...u.map(([m,y])=>w.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(t,e)=>{const n=w.forwardRef(({className:i,...a},l)=>w.createElement(LC,{ref:l,iconNode:e,className:Qy(`lucide-${IC(bm(t))}`,`lucide-${t}`,i),...a}));return n.displayName=bm(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hl=xt("award",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],FC=xt("calendar-days",$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zy=xt("check",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ew=xt("chevron-down",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],VC=xt("chevron-up",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sm=xt("circle-alert",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bo=xt("circle-check-big",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vo=xt("circle-x",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],_m=xt("download",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],JC=xt("file-spreadsheet",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],XC=xt("funnel",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ZC=xt("log-out",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tw=xt("pen",eT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rw=xt("plus",tT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nT=xt("save",rT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nw=xt("shield",sT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rf=xt("trash-2",iT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],sw=xt("trending-up",oT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Em=xt("triangle-alert",aT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],km=xt("trophy",lT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],iw=xt("user-check",cT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Cm=xt("user-plus",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fT=xt("users",dT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ow=xt("x",hT);function Vs({...t}){return d.jsx(bC,{"data-slot":"select",...t})}function Hs({...t}){return d.jsx(_C,{"data-slot":"select-value",...t})}function Ws({className:t,size:e="default",children:n,...i}){return d.jsxs(SC,{"data-slot":"select-trigger","data-size":e,className:qe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[n,d.jsx(EC,{asChild:!0,children:d.jsx(ew,{className:"size-4 opacity-50"})})]})}function qs({className:t,children:e,position:n="popper",...i}){return d.jsx(kC,{children:d.jsxs(CC,{"data-slot":"select-content",className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[d.jsx(pT,{}),d.jsx(TC,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),d.jsx(gT,{})]})})}function Kt({className:t,children:e,...n}){return d.jsxs(jC,{"data-slot":"select-item",className:qe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[d.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:d.jsx(OC,{children:d.jsx(Zy,{className:"size-4"})})}),d.jsx(NC,{children:e})]})}function pT({className:t,...e}){return d.jsx(RC,{"data-slot":"select-scroll-up-button",className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(VC,{className:"size-4"})})}function gT({className:t,...e}){return d.jsx(PC,{"data-slot":"select-scroll-down-button",className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(ew,{className:"size-4"})})}const Tm=uv(`https://${Ze}.supabase.co`,ff);function mT({onLogin:t}){const[e,n]=w.useState(""),[i,a]=w.useState(""),[l,u]=w.useState(""),[f,p]=w.useState("cadet"),[m,y]=w.useState(""),[v,S]=w.useState(!1),_=async b=>{b.preventDefault(),y(""),S(!0);try{const{data:k,error:T}=await Tm.auth.signInWithPassword({email:e,password:i});if(T){y(T.message),S(!1);return}k.session&&t(k.session.access_token,k.user)}catch(k){console.error("Sign in error:",k),y("Failed to sign in. Please try again.")}finally{S(!1)}},E=async b=>{b.preventDefault(),y(""),S(!0);try{const k=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ff}`},body:JSON.stringify({email:e,password:i,name:l,role:f})}),T=await k.json();if(!k.ok){y(T.error||"Failed to sign up"),S(!1);return}const{data:N,error:O}=await Tm.auth.signInWithPassword({email:e,password:i});if(O){y("Account created but failed to sign in. Please try signing in manually."),S(!1);return}N.session&&t(N.session.access_token,N.user)}catch(k){console.error("Sign up error:",k),y("Failed to sign up. Please try again.")}finally{S(!1)}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[d.jsxs(mt,{className:"w-full max-w-md",children:[d.jsxs(vt,{className:"text-center",children:[d.jsx(yt,{className:"text-2xl",children:"RAF Air Cadet Squadron"}),d.jsx(br,{children:"Flight Points Management System"})]}),d.jsx(wt,{children:d.jsxs(Xl,{defaultValue:"signin",className:"w-full",children:[d.jsxs(Ql,{className:"grid w-full grid-cols-2",children:[d.jsx(Gr,{value:"signin",children:"Sign In"}),d.jsx(Gr,{value:"signup",children:"Sign Up"})]}),d.jsx(Jr,{value:"signin",children:d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"signin-email",children:"Email"}),d.jsx(er,{id:"signin-email",type:"email",placeholder:"your.email@example.com",value:e,onChange:b=>n(b.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"signin-password",children:"Password"}),d.jsx(er,{id:"signin-password",type:"password",placeholder:"",value:i,onChange:b=>a(b.target.value),required:!0})]}),m&&d.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:m}),d.jsx(Be,{type:"submit",className:"w-full",disabled:v,children:v?"Signing In...":"Sign In"})]})}),d.jsx(Jr,{value:"signup",children:d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"signup-name",children:"Full Name"}),d.jsx(er,{id:"signup-name",type:"text",placeholder:"John Smith",value:l,onChange:b=>u(b.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"signup-email",children:"Email"}),d.jsx(er,{id:"signup-email",type:"email",placeholder:"your.email@example.com",value:e,onChange:b=>n(b.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"signup-password",children:"Password"}),d.jsx(er,{id:"signup-password",type:"password",placeholder:"",value:i,onChange:b=>a(b.target.value),required:!0,minLength:6})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"signup-role",children:"Role"}),d.jsxs(Vs,{value:f,onValueChange:p,children:[d.jsx(Ws,{id:"signup-role",children:d.jsx(Hs,{})}),d.jsxs(qs,{children:[d.jsx(Kt,{value:"cadet",children:"Cadet"}),d.jsx(Kt,{value:"pointgiver",children:"Point Giver"}),d.jsx(Kt,{value:"snco",children:"SNCO"}),d.jsx(Kt,{value:"staff",children:"Staff"})]})]})]}),m&&d.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:m}),d.jsx(Be,{type:"submit",className:"w-full",disabled:v,children:v?"Creating Account...":"Create Account"})]})})]})})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 text-center",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cadets can continue without creating an account  only SNCOs and Point Givers need accounts."}),d.jsxs("div",{className:"mt-2 flex items-center justify-center gap-3",children:[d.jsx(er,{placeholder:"Guest name (optional)",value:l,onChange:b=>u(b.target.value)}),d.jsx(Be,{variant:"ghost",onClick:()=>t(null,{user_metadata:{role:"cadet",name:l||"Guest Cadet"}}),children:"Continue as Cadet (no account)"})]})]})]})}function Xd({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:qe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const vT=hf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ar({className:t,variant:e,asChild:n=!1,...i}){const a=n?gs:"span";return d.jsx(a,{"data-slot":"badge",className:qe(vT({variant:e}),t),...i})}function yT(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const wT=t=>{switch(t){case"success":return ST;case"info":return ET;case"warning":return _T;case"error":return kT;default:return null}},xT=Array(12).fill(0),bT=({visible:t,className:e})=>re.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},re.createElement("div",{className:"sonner-spinner"},xT.map((n,i)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),ST=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_T=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ET=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TT=()=>{const[t,e]=re.useState(document.hidden);return re.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Qd=1;class jT{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...a}=e,l=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Qd++,u=this.toasts.find(p=>p.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...e,id:l,title:i}),{...p,...e,id:l,dismissible:f,title:i}):p):this.addToast({title:i,...a,dismissible:f,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let l=i!==void 0,u;const f=a.then(async m=>{if(u=["resolve",m],re.isValidElement(m))l=!1,this.create({id:i,type:"default",message:m});else if(OT(m)&&!m.ok){l=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,S=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,E=typeof v=="object"&&!re.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:S,...E})}else if(m instanceof Error){l=!1;const v=typeof n.error=="function"?await n.error(m):n.error,S=typeof n.description=="function"?await n.description(m):n.description,E=typeof v=="object"&&!re.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:S,...E})}else if(n.success!==void 0){l=!1;const v=typeof n.success=="function"?await n.success(m):n.success,S=typeof n.description=="function"?await n.description(m):n.description,E=typeof v=="object"&&!re.isValidElement(v)?v:{message:v};this.create({id:i,type:"success",description:S,...E})}}).catch(async m=>{if(u=["reject",m],n.error!==void 0){l=!1;const y=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,_=typeof y=="object"&&!re.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,..._})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((m,y)=>f.then(()=>u[0]==="reject"?y(u[1]):m(u[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:p}:Object.assign(i,{unwrap:p})},this.custom=(e,n)=>{const i=(n==null?void 0:n.id)||Qd++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xr=new jT,NT=(t,e)=>{const n=(e==null?void 0:e.id)||Qd++;return xr.addToast({title:t,...e,id:n}),n},OT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",RT=NT,PT=()=>xr.toasts,IT=()=>xr.getActiveToasts(),ke=Object.assign(RT,{success:xr.success,info:xr.info,warning:xr.warning,error:xr.error,custom:xr.custom,message:xr.message,promise:xr.promise,dismiss:xr.dismiss,loading:xr.loading},{getHistory:PT,getToasts:IT});yT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function El(t){return t.label!==void 0}const AT=3,DT="24px",LT="16px",jm=4e3,MT=356,$T=14,FT=45,zT=200;function wn(...t){return t.filter(Boolean).join(" ")}function UT(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const BT=t=>{var e,n,i,a,l,u,f,p,m;const{invert:y,toast:v,unstyled:S,interacting:_,setHeights:E,visibleToasts:b,heights:k,index:T,toasts:N,expanded:O,removeToast:A,defaultRichColors:$,closeButton:V,style:U,cancelButtonStyle:z,actionButtonStyle:ie,className:ue="",descriptionClassName:de="",duration:pe,position:le,gap:ge,expandByDefault:W,classNames:B,icons:Y,closeButtonAriaLabel:I="Close toast"}=t,[K,H]=re.useState(null),[C,L]=re.useState(null),[q,ne]=re.useState(!1),[be,se]=re.useState(!1),[X,oe]=re.useState(!1),[Ce,Te]=re.useState(!1),[De,Me]=re.useState(!1),[lt,nt]=re.useState(0),[fr,Gt]=re.useState(0),Lt=re.useRef(v.duration||pe||jm),Dr=re.useRef(null),bt=re.useRef(null),lr=T===0,ee=T+1<=b,he=v.type,Ae=v.dismissible!==!1,Fe=v.className||"",Ve=v.descriptionClassName||"",Je=re.useMemo(()=>k.findIndex(Ie=>Ie.toastId===v.id)||0,[k,v.id]),tr=re.useMemo(()=>{var Ie;return(Ie=v.closeButton)!=null?Ie:V},[v.closeButton,V]),Sr=re.useMemo(()=>v.duration||pe||jm,[v.duration,pe]),G=re.useRef(0),ce=re.useRef(0),Oe=re.useRef(0),Se=re.useRef(null),[ct,It]=le.split("-"),Nt=re.useMemo(()=>k.reduce((Ie,_t,ut)=>ut>=Je?Ie:Ie+_t.height,0),[k,Je]),Lr=TT(),He=v.invert||y,St=he==="loading";ce.current=re.useMemo(()=>Je*ge+Nt,[Je,Nt]),re.useEffect(()=>{Lt.current=Sr},[Sr]),re.useEffect(()=>{ne(!0)},[]),re.useEffect(()=>{const Ie=bt.current;if(Ie){const _t=Ie.getBoundingClientRect().height;return Gt(_t),E(ut=>[{toastId:v.id,height:_t,position:v.position},...ut]),()=>E(ut=>ut.filter(Bt=>Bt.toastId!==v.id))}},[E,v.id]),re.useLayoutEffect(()=>{if(!q)return;const Ie=bt.current,_t=Ie.style.height;Ie.style.height="auto";const ut=Ie.getBoundingClientRect().height;Ie.style.height=_t,Gt(ut),E(Bt=>Bt.find(Xe=>Xe.toastId===v.id)?Bt.map(Xe=>Xe.toastId===v.id?{...Xe,height:ut}:Xe):[{toastId:v.id,height:ut,position:v.position},...Bt])},[q,v.title,v.description,E,v.id]);const Mt=re.useCallback(()=>{se(!0),nt(ce.current),E(Ie=>Ie.filter(_t=>_t.toastId!==v.id)),setTimeout(()=>{A(v)},zT)},[v,A,E,ce]);re.useEffect(()=>{if(v.promise&&he==="loading"||v.duration===1/0||v.type==="loading")return;let Ie;return O||_||Lr?(()=>{if(Oe.current<G.current){const Bt=new Date().getTime()-G.current;Lt.current=Lt.current-Bt}Oe.current=new Date().getTime()})():(()=>{Lt.current!==1/0&&(G.current=new Date().getTime(),Ie=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Mt()},Lt.current))})(),()=>clearTimeout(Ie)},[O,_,v,he,Lr,Mt]),re.useEffect(()=>{v.delete&&Mt()},[Mt,v.delete]);function _r(){var Ie;if(Y!=null&&Y.loading){var _t;return re.createElement("div",{className:wn(B==null?void 0:B.loader,v==null||(_t=v.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":he==="loading"},Y.loading)}return re.createElement(bT,{className:wn(B==null?void 0:B.loader,v==null||(Ie=v.classNames)==null?void 0:Ie.loader),visible:he==="loading"})}const Er=v.icon||(Y==null?void 0:Y[he])||wT(he);var Xr,xs;return re.createElement("li",{tabIndex:0,ref:bt,className:wn(ue,Fe,B==null?void 0:B.toast,v==null||(e=v.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[he],v==null||(n=v.classNames)==null?void 0:n[he]),"data-sonner-toast":"","data-rich-colors":(Xr=v.richColors)!=null?Xr:$,"data-styled":!(v.jsx||v.unstyled||S),"data-mounted":q,"data-promise":!!v.promise,"data-swiped":De,"data-removed":be,"data-visible":ee,"data-y-position":ct,"data-x-position":It,"data-index":T,"data-front":lr,"data-swiping":X,"data-dismissible":Ae,"data-type":he,"data-invert":He,"data-swipe-out":Ce,"data-swipe-direction":C,"data-expanded":!!(O||W&&q),style:{"--index":T,"--toasts-before":T,"--z-index":N.length-T,"--offset":`${be?lt:ce.current}px`,"--initial-height":W?"auto":`${fr}px`,...U,...v.style},onDragEnd:()=>{oe(!1),H(null),Se.current=null},onPointerDown:Ie=>{St||!Ae||(Dr.current=new Date,nt(ce.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(oe(!0),Se.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,_t,ut;if(Ce||!Ae)return;Se.current=null;const Bt=Number(((Ie=bt.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pn=Number(((_t=bt.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xe=new Date().getTime()-((ut=Dr.current)==null?void 0:ut.getTime()),dt=K==="x"?Bt:pn,Mr=Math.abs(dt)/Xe;if(Math.abs(dt)>=FT||Mr>.11){nt(ce.current),v.onDismiss==null||v.onDismiss.call(v,v),L(K==="x"?Bt>0?"right":"left":pn>0?"down":"up"),Mt(),Te(!0);return}else{var ft,Jt;(ft=bt.current)==null||ft.style.setProperty("--swipe-amount-x","0px"),(Jt=bt.current)==null||Jt.style.setProperty("--swipe-amount-y","0px")}Me(!1),oe(!1),H(null)},onPointerMove:Ie=>{var _t,ut,Bt;if(!Se.current||!Ae||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;const Xe=Ie.clientY-Se.current.y,dt=Ie.clientX-Se.current.x;var Mr;const ft=(Mr=t.swipeDirections)!=null?Mr:UT(le);!K&&(Math.abs(dt)>1||Math.abs(Xe)>1)&&H(Math.abs(dt)>Math.abs(Xe)?"x":"y");let Jt={x:0,y:0};const Qr=rr=>1/(1.5+Math.abs(rr)/20);if(K==="y"){if(ft.includes("top")||ft.includes("bottom"))if(ft.includes("top")&&Xe<0||ft.includes("bottom")&&Xe>0)Jt.y=Xe;else{const rr=Xe*Qr(Xe);Jt.y=Math.abs(rr)<Math.abs(Xe)?rr:Xe}}else if(K==="x"&&(ft.includes("left")||ft.includes("right")))if(ft.includes("left")&&dt<0||ft.includes("right")&&dt>0)Jt.x=dt;else{const rr=dt*Qr(dt);Jt.x=Math.abs(rr)<Math.abs(dt)?rr:dt}(Math.abs(Jt.x)>0||Math.abs(Jt.y)>0)&&Me(!0),(ut=bt.current)==null||ut.style.setProperty("--swipe-amount-x",`${Jt.x}px`),(Bt=bt.current)==null||Bt.style.setProperty("--swipe-amount-y",`${Jt.y}px`)}},tr&&!v.jsx&&he!=="loading"?re.createElement("button",{"aria-label":I,"data-disabled":St,"data-close-button":!0,onClick:St||!Ae?()=>{}:()=>{Mt(),v.onDismiss==null||v.onDismiss.call(v,v)},className:wn(B==null?void 0:B.closeButton,v==null||(i=v.classNames)==null?void 0:i.closeButton)},(xs=Y==null?void 0:Y.close)!=null?xs:CT):null,(he||v.icon||v.promise)&&v.icon!==null&&((Y==null?void 0:Y[he])!==null||v.icon)?re.createElement("div",{"data-icon":"",className:wn(B==null?void 0:B.icon,v==null||(a=v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||_r():null,v.type!=="loading"?Er:null):null,re.createElement("div",{"data-content":"",className:wn(B==null?void 0:B.content,v==null||(l=v.classNames)==null?void 0:l.content)},re.createElement("div",{"data-title":"",className:wn(B==null?void 0:B.title,v==null||(u=v.classNames)==null?void 0:u.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?re.createElement("div",{"data-description":"",className:wn(de,Ve,B==null?void 0:B.description,v==null||(f=v.classNames)==null?void 0:f.description)},typeof v.description=="function"?v.description():v.description):null),re.isValidElement(v.cancel)?v.cancel:v.cancel&&El(v.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||z,onClick:Ie=>{El(v.cancel)&&Ae&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Ie),Mt())},className:wn(B==null?void 0:B.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,re.isValidElement(v.action)?v.action:v.action&&El(v.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||ie,onClick:Ie=>{El(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Ie),!Ie.defaultPrevented&&Mt())},className:wn(B==null?void 0:B.actionButton,v==null||(m=v.classNames)==null?void 0:m.actionButton)},v.action.label):null)};function Nm(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function VT(t,e){const n={};return[t,e].forEach((i,a)=>{const l=a===1,u=l?"--mobile-offset":"--offset",f=l?LT:DT;function p(m){["top","right","bottom","left"].forEach(y=>{n[`${u}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof i=="number"||typeof i=="string"?p(i):typeof i=="object"?["top","right","bottom","left"].forEach(m=>{i[m]===void 0?n[`${u}-${m}`]=f:n[`${u}-${m}`]=typeof i[m]=="number"?`${i[m]}px`:i[m]}):p(f)}),n}const HT=re.forwardRef(function(e,n){const{invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:p,offset:m,mobileOffset:y,theme:v="light",richColors:S,duration:_,style:E,visibleToasts:b=AT,toastOptions:k,dir:T=Nm(),gap:N=$T,icons:O,containerAriaLabel:A="Notifications"}=e,[$,V]=re.useState([]),U=re.useMemo(()=>Array.from(new Set([a].concat($.filter(C=>C.position).map(C=>C.position)))),[$,a]),[z,ie]=re.useState([]),[ue,de]=re.useState(!1),[pe,le]=re.useState(!1),[ge,W]=re.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=re.useRef(null),Y=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=re.useRef(null),K=re.useRef(!1),H=re.useCallback(C=>{V(L=>{var q;return(q=L.find(ne=>ne.id===C.id))!=null&&q.delete||xr.dismiss(C.id),L.filter(({id:ne})=>ne!==C.id)})},[]);return re.useEffect(()=>xr.subscribe(C=>{if(C.dismiss){requestAnimationFrame(()=>{V(L=>L.map(q=>q.id===C.id?{...q,delete:!0}:q))});return}setTimeout(()=>{Ev.flushSync(()=>{V(L=>{const q=L.findIndex(ne=>ne.id===C.id);return q!==-1?[...L.slice(0,q),{...L[q],...C},...L.slice(q+1)]:[C,...L]})})})}),[$]),re.useEffect(()=>{if(v!=="system"){W(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const C=window.matchMedia("(prefers-color-scheme: dark)");try{C.addEventListener("change",({matches:L})=>{W(L?"dark":"light")})}catch{C.addListener(({matches:q})=>{try{W(q?"dark":"light")}catch(ne){console.error(ne)}})}},[v]),re.useEffect(()=>{$.length<=1&&de(!1)},[$]),re.useEffect(()=>{const C=L=>{var q;if(l.every(se=>L[se]||L.code===se)){var be;de(!0),(be=B.current)==null||be.focus()}L.code==="Escape"&&(document.activeElement===B.current||(q=B.current)!=null&&q.contains(document.activeElement))&&de(!1)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[l]),re.useEffect(()=>{if(B.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,K.current=!1)}},[B.current]),re.createElement("section",{ref:n,"aria-label":`${A} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((C,L)=>{var q;const[ne,be]=C.split("-");return $.length?re.createElement("ol",{key:C,dir:T==="auto"?Nm():T,tabIndex:-1,ref:B,className:p,"data-sonner-toaster":!0,"data-sonner-theme":ge,"data-y-position":ne,"data-lifted":ue&&$.length>1&&!u,"data-x-position":be,style:{"--front-toast-height":`${((q=z[0])==null?void 0:q.height)||0}px`,"--width":`${MT}px`,"--gap":`${N}px`,...E,...VT(m,y)},onBlur:se=>{K.current&&!se.currentTarget.contains(se.relatedTarget)&&(K.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||K.current||(K.current=!0,I.current=se.relatedTarget)},onMouseEnter:()=>de(!0),onMouseMove:()=>de(!0),onMouseLeave:()=>{pe||de(!1)},onDragEnd:()=>de(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||le(!0)},onPointerUp:()=>le(!1)},$.filter(se=>!se.position&&L===0||se.position===C).map((se,X)=>{var oe,Ce;return re.createElement(BT,{key:se.id,icons:O,index:X,toast:se,defaultRichColors:S,duration:(oe=k==null?void 0:k.duration)!=null?oe:_,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:i,visibleToasts:b,closeButton:(Ce=k==null?void 0:k.closeButton)!=null?Ce:f,interacting:pe,position:C,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:H,toasts:$.filter(Te=>Te.position==se.position),heights:z.filter(Te=>Te.position==se.position),setHeights:ie,expandByDefault:u,gap:N,expanded:ue,swipeDirections:e.swipeDirections})})):null}))}),WT=hf("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Wl({className:t,variant:e,...n}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:qe(WT({variant:e}),t),...n})}function Om({className:t,...e}){return d.jsx("div",{"data-slot":"alert-title",className:qe("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...e})}function ql({className:t,...e}){return d.jsx("div",{"data-slot":"alert-description",className:qe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function qT({accessToken:t,userRole:e}){const[n,i]=w.useState([]),[a,l]=w.useState([]),[u,f]=w.useState(!0),[p,m]=w.useState(!1),[y,v]=w.useState(""),[S,_]=w.useState(""),[E,b]=w.useState(""),[k,T]=w.useState(""),[N,O]=w.useState("general"),[A,$]=w.useState([]),[V,U]=w.useState([]);w.useEffect(()=>{z(),ie()},[]);const z=async()=>{try{const W={};t&&(W.Authorization=`Bearer ${t}`);const B=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/points`,{headers:W});if(B.ok){const Y=await B.json();i(Y.points||[])}}catch(W){console.error("Error fetching points:",W),ke.error("Failed to fetch points")}finally{f(!1)}},ie=async()=>{try{const W={};t&&(W.Authorization=`Bearer ${t}`);const B=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{headers:W});if(B.ok){const Y=await B.json();l(Y.cadets||[])}}catch(W){console.error("Error fetching cadets:",W)}},ue=W=>{if(!W.trim()){$([]),U([]);return}const B=W.split(/[,\n]/).map(H=>H.trim()).filter(H=>H.length>0),Y=B.filter((H,C)=>B.indexOf(H)!==C);$([...new Set(Y)]);const I=a.map(H=>H.name.toLowerCase()),K=B.filter(H=>!I.includes(H.toLowerCase()));U(K)};w.useEffect(()=>{ue(y)},[y,a]);const de=async W=>{W.preventDefault();const B=y.split(/[,\n]/).map(Y=>Y.trim()).filter(Y=>Y.length>0);if(B.length===0){ke.error("Please enter at least one cadet name");return}if(V.length>0){ke.error(`Invalid names: ${V.join(", ")}`);return}if(!S){ke.error("Please select a flight");return}m(!0);try{const Y=B.map(async I=>{const K={"Content-Type":"application/json"};t&&(K.Authorization=`Bearer ${t}`);const H=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/points`,{method:"POST",headers:K,body:JSON.stringify({cadetName:I,flight:S,points:parseFloat(E),reason:k,type:N,date:new Date().toISOString()})});if(!H.ok)throw new Error(`Failed to add points for ${I}`);return H.json()});await Promise.all(Y),ke.success(`Points added successfully for ${B.length} cadet(s)!`),v(""),_(""),b(""),T(""),O("general"),$([]),U([]),z()}catch(Y){console.error("Error adding points:",Y),ke.error("Failed to add points for some cadets")}finally{m(!1)}},pe=async W=>{if(confirm("Are you sure you want to delete this point entry?"))try{const B={};t&&(B.Authorization=`Bearer ${t}`);const Y=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/points/${W}`,{method:"DELETE",headers:B});if(Y.ok)ke.success("Point entry deleted"),z();else{const I=await Y.json();ke.error(I.error||"Failed to delete point")}}catch(B){console.error("Error deleting point:",B),ke.error("Failed to delete point")}},le=e==="staff"||e==="snco",ge=Array.from(new Set(a.map(W=>W.flight))).sort();return d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsx(yt,{children:"Add Points"}),d.jsx(br,{children:"Award or deduct points for cadets (supports multiple names)"})]}),d.jsx(wt,{children:d.jsxs("form",{onSubmit:de,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"names",children:"Cadet Name(s)"}),d.jsx(Xd,{id:"names",placeholder:`Enter one or more names (separated by commas or new lines)
e.g., John Smith, Jane Doe
or one name per line`,value:y,onChange:W=>v(W.target.value),required:!0,rows:4}),d.jsx("p",{className:"text-xs text-gray-500",children:"Tip: Enter multiple names separated by commas or line breaks"})]}),A.length>0&&d.jsxs(Wl,{variant:"destructive",children:[d.jsx(Sm,{className:"size-4"}),d.jsxs(ql,{children:["Duplicate names detected: ",A.join(", ")]})]}),V.length>0&&d.jsxs(Wl,{variant:"destructive",children:[d.jsx(Sm,{className:"size-4"}),d.jsxs(ql,{children:["Names not found in system: ",V.join(", ")]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"flight",children:"Flight"}),d.jsxs(Vs,{value:S,onValueChange:_,children:[d.jsx(Ws,{id:"flight",children:d.jsx(Hs,{placeholder:"Select flight"})}),d.jsx(qs,{children:ge.map(W=>d.jsx(Kt,{value:W,children:qt(W)},W))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"type",children:"Type"}),d.jsxs(Vs,{value:N,onValueChange:O,children:[d.jsx(Ws,{id:"type",children:d.jsx(Hs,{})}),d.jsxs(qs,{children:[d.jsx(Kt,{value:"general",children:"General"}),d.jsx(Kt,{value:"good",children:"Good Behavior"}),d.jsx(Kt,{value:"bad",children:"Bad Behavior"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"points",children:"Points"}),d.jsx(er,{id:"points",type:"number",step:"0.5",placeholder:"10",value:E,onChange:W=>b(W.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"reason",children:"Reason"}),d.jsx(Xd,{id:"reason",placeholder:"Describe why points are being awarded/deducted",value:k,onChange:W=>T(W.target.value),required:!0,rows:3})]}),d.jsxs(Be,{type:"submit",className:"w-full",disabled:p||V.length>0,children:[d.jsx(rw,{className:"size-4 mr-2"}),p?"Adding...":"Add Points"]})]})})]}),d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsx(yt,{children:"Recent Points"}),d.jsx(br,{children:"Last 10 point entries"})]}),d.jsx(wt,{children:u?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):n.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No points recorded yet"}):d.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:n.slice(0,10).map(W=>d.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:W.cadetName}),d.jsx("p",{className:"text-sm text-gray-600",children:qt(W.flight)})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(ar,{variant:W.points>=0?"default":"destructive",children:[W.points>=0?"+":"",W.points," pts"]}),le&&d.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>pe(W.id),children:d.jsx(Rf,{className:"size-4 text-red-600"})})]})]}),d.jsx("p",{className:"text-sm text-gray-700 mb-1",children:W.reason}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx(ar,{variant:"outline",className:"text-xs",children:W.type}),d.jsxs("span",{children:[" Given by ",W.givenBy]}),d.jsxs("span",{children:[" ",new Date(W.date).toLocaleDateString()]})]})]},W.id))})})]})]})}function Zo({className:t,...e}){return d.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:d.jsx("table",{"data-slot":"table",className:qe("w-full caption-bottom text-sm",t),...e})})}function ea({className:t,...e}){return d.jsx("thead",{"data-slot":"table-header",className:qe("[&_tr]:border-b",t),...e})}function ta({className:t,...e}){return d.jsx("tbody",{"data-slot":"table-body",className:qe("[&_tr:last-child]:border-0",t),...e})}function Sn({className:t,...e}){return d.jsx("tr",{"data-slot":"table-row",className:qe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function ot({className:t,...e}){return d.jsx("th",{"data-slot":"table-head",className:qe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function at({className:t,...e}){return d.jsx("td",{"data-slot":"table-cell",className:qe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function KT({accessToken:t}){const[e,n]=w.useState([]),[i,a]=w.useState(!0),[l,u]=w.useState({totalPresent:0,totalAbsent:0,averageAttendanceRate:0});w.useEffect(()=>{f();const p=setInterval(f,3e4);return()=>clearInterval(p)},[]);const f=async()=>{try{const p={};t&&(p.Authorization=`Bearer ${t}`);const m=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/attendance-summary`,{headers:p});if(m.ok){const y=await m.json();n(y.summary||[]),u(y.stats||{totalPresent:0,totalAbsent:0,averageAttendanceRate:0})}}catch(p){console.error("Error fetching attendance reports:",p),ke.error("Failed to fetch attendance reports")}finally{a(!1)}};return i?d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-600",children:"Loading attendance reports..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(mt,{className:"bg-gradient-to-br from-green-50 to-white border-green-200",children:[d.jsx(vt,{className:"pb-3",children:d.jsxs(yt,{className:"text-sm flex items-center gap-2",children:[d.jsx(Bo,{className:"size-4 text-green-600"}),"Total Present"]})}),d.jsx(wt,{children:d.jsx("p",{className:"text-3xl font-bold text-green-900",children:l.totalPresent})})]}),d.jsxs(mt,{className:"bg-gradient-to-br from-red-50 to-white border-red-200",children:[d.jsx(vt,{className:"pb-3",children:d.jsxs(yt,{className:"text-sm flex items-center gap-2",children:[d.jsx(Vo,{className:"size-4 text-red-600"}),"Total Absent"]})}),d.jsx(wt,{children:d.jsx("p",{className:"text-3xl font-bold text-red-900",children:l.totalAbsent})})]}),d.jsxs(mt,{className:"bg-gradient-to-br from-blue-50 to-white border-blue-200",children:[d.jsx(vt,{className:"pb-3",children:d.jsxs(yt,{className:"text-sm flex items-center gap-2",children:[d.jsx(iw,{className:"size-4 text-blue-600"}),"Avg. Attendance"]})}),d.jsx(wt,{children:d.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:[l.averageAttendanceRate,"%"]})})]})]}),d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsx(yt,{children:"Attendance Summary by Cadet"}),d.jsx(br,{children:"Breakdown of attendance records per cadet"})]}),d.jsx(wt,{children:e.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No attendance data yet"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Zo,{children:[d.jsx(ea,{children:d.jsxs(Sn,{children:[d.jsx(ot,{children:"Cadet Name"}),d.jsx(ot,{children:"Flight"}),d.jsx(ot,{className:"text-center",children:"Present"}),d.jsx(ot,{className:"text-center",children:"Absent"}),d.jsx(ot,{className:"text-center",children:"Total Records"}),d.jsx(ot,{className:"text-right",children:"Attendance Rate"})]})}),d.jsx(ta,{children:e.sort((p,m)=>m.attendanceRate-p.attendanceRate).map((p,m)=>d.jsxs(Sn,{children:[d.jsx(at,{className:"font-medium",children:p.cadetName}),d.jsx(at,{children:d.jsx(ar,{variant:"outline",children:qt(p.flight)})}),d.jsx(at,{className:"text-center",children:d.jsxs("span",{className:"inline-flex items-center gap-1 text-green-700",children:[d.jsx(Bo,{className:"size-3"}),p.totalPresent]})}),d.jsx(at,{className:"text-center",children:d.jsxs("span",{className:"inline-flex items-center gap-1 text-red-700",children:[d.jsx(Vo,{className:"size-3"}),p.totalAbsent]})}),d.jsx(at,{className:"text-center",children:p.totalRecords}),d.jsx(at,{className:"text-right",children:d.jsxs(ar,{variant:p.attendanceRate>=90?"default":p.attendanceRate>=75?"secondary":"destructive",children:[p.attendanceRate,"%"]})})]},`${p.cadetName}-${m}`))})]})})})]})]})}function GT({accessToken:t}){const[e,n]=w.useState(null),[i,a]=w.useState(!0);w.useEffect(()=>{l();const u=setInterval(l,3e4);return()=>clearInterval(u)},[]);const l=async()=>{try{const u={};t&&(u.Authorization=`Bearer ${t}`);const f=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/leaderboards`,{headers:u});if(f.ok){const p=await f.json();n(p)}}catch(u){console.error("Error fetching leaderboards:",u),ke.error("Failed to fetch leaderboards")}finally{a(!1)}};return i?d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-600",children:"Loading leaderboards..."})}):e?d.jsxs(Xl,{defaultValue:"points",className:"space-y-6",children:[d.jsxs(Ql,{className:"grid w-full grid-cols-2",children:[d.jsx(Gr,{value:"points",children:"Points Leaderboards"}),d.jsx(Gr,{value:"attendance",children:"Attendance Reports"})]}),d.jsxs(Jr,{value:"points",className:"space-y-6",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(mt,{className:"border-yellow-200 bg-gradient-to-br from-yellow-50 to-white",children:[d.jsx(vt,{children:d.jsxs(yt,{className:"flex items-center gap-2",children:[d.jsx(km,{className:"size-6 text-yellow-600"}),"Winning Flight"]})}),d.jsx(wt,{children:e.winningFlight?d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:qt(e.winningFlight.flight)}),d.jsxs("p",{className:"text-xl text-yellow-700",children:[e.winningFlight.points," points"]})]}):d.jsx("p",{className:"text-gray-500",children:"No data yet"})})]}),d.jsxs(mt,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-white",children:[d.jsx(vt,{children:d.jsxs(yt,{className:"flex items-center gap-2",children:[d.jsx(Hl,{className:"size-6 text-blue-600"}),"Winning Cadet"]})}),d.jsx(wt,{children:e.winningCadet?d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:e.winningCadet.name}),d.jsxs("p",{className:"text-xl text-blue-700",children:[e.winningCadet.points," points"]})]}):d.jsx("p",{className:"text-gray-500",children:"No data yet"})})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsx(yt,{children:"Flight Leaderboard"}),d.jsx(br,{children:"Total points by flight"})]}),d.jsx(wt,{children:e.flightLeaderboard&&e.flightLeaderboard.length>0?d.jsxs(Zo,{children:[d.jsx(ea,{children:d.jsxs(Sn,{children:[d.jsx(ot,{className:"w-16",children:"Rank"}),d.jsx(ot,{children:"Flight"}),d.jsx(ot,{className:"text-right",children:"Points"})]})}),d.jsx(ta,{children:e.flightLeaderboard.map((u,f)=>d.jsxs(Sn,{children:[d.jsxs(at,{className:"font-medium",children:[f===0&&d.jsx(km,{className:"inline size-4 text-yellow-600 mr-1"}),"#",f+1]}),d.jsx(at,{className:"font-medium",children:qt(u.flight)}),d.jsx(at,{className:"text-right",children:d.jsx(ar,{variant:f===0?"default":"secondary",children:u.points})})]},u.flight))})]}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No flights recorded yet"})})]}),d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsx(yt,{children:"Cadet Leaderboard"}),d.jsx(br,{children:"Top 10 cadets by points"})]}),d.jsx(wt,{children:e.cadetLeaderboard&&e.cadetLeaderboard.length>0?d.jsxs(Zo,{children:[d.jsx(ea,{children:d.jsxs(Sn,{children:[d.jsx(ot,{className:"w-16",children:"Rank"}),d.jsx(ot,{children:"Cadet"}),d.jsx(ot,{className:"text-right",children:"Points"})]})}),d.jsx(ta,{children:e.cadetLeaderboard.slice(0,10).map((u,f)=>d.jsxs(Sn,{children:[d.jsxs(at,{className:"font-medium",children:[f===0&&d.jsx(Hl,{className:"inline size-4 text-blue-600 mr-1"}),"#",f+1]}),d.jsx(at,{className:"font-medium",children:u.name}),d.jsx(at,{className:"text-right",children:d.jsx(ar,{variant:f===0?"default":"secondary",children:u.points})})]},u.name))})]}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No cadets recorded yet"})})]})]}),d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsxs(yt,{className:"flex items-center gap-2",children:[d.jsx(sw,{className:"size-5"}),"Recent Activity"]}),d.jsx(br,{children:"Latest point awards (excluding attendance)"})]}),d.jsx(wt,{children:e.recentPoints&&e.recentPoints.length>0?d.jsx("div",{className:"space-y-3",children:e.recentPoints.map(u=>d.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg border",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-medium",children:u.cadetName}),d.jsx(ar,{variant:"outline",className:"text-xs",children:qt(u.flight)}),d.jsx(ar,{variant:"outline",className:"text-xs",children:u.type})]}),d.jsx("p",{className:"text-sm text-gray-600",children:u.reason}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(u.date).toLocaleDateString(),"  ",u.givenBy]})]}),d.jsxs(ar,{variant:u.points>=0?"default":"destructive",className:"ml-4",children:[u.points>=0?"+":"",u.points]})]},u.id))}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recent activity"})})]})]}),d.jsx(Jr,{value:"attendance",children:d.jsx(KT,{accessToken:t})})]}):d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-600",children:"No data available"})})}const aw=w.createContext({dragDropManager:void 0});function Kr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Rm=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),Pm=function(){return Math.random().toString(36).substring(7).split("").join(".")},Im={INIT:"@@redux/INIT"+Pm(),REPLACE:"@@redux/REPLACE"+Pm()};function JT(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function lw(t,e,n){var i;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kr(1));return n(lw)(t,e)}if(typeof t!="function")throw new Error(Kr(2));var a=t,l=e,u=[],f=u,p=!1;function m(){f===u&&(f=u.slice())}function y(){if(p)throw new Error(Kr(3));return l}function v(b){if(typeof b!="function")throw new Error(Kr(4));if(p)throw new Error(Kr(5));var k=!0;return m(),f.push(b),function(){if(k){if(p)throw new Error(Kr(6));k=!1,m();var N=f.indexOf(b);f.splice(N,1),u=null}}}function S(b){if(!JT(b))throw new Error(Kr(7));if(typeof b.type>"u")throw new Error(Kr(8));if(p)throw new Error(Kr(9));try{p=!0,l=a(l,b)}finally{p=!1}for(var k=u=f,T=0;T<k.length;T++){var N=k[T];N()}return b}function _(b){if(typeof b!="function")throw new Error(Kr(10));a=b,S({type:Im.REPLACE})}function E(){var b,k=v;return b={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(Kr(11));function O(){N.next&&N.next(y())}O();var A=k(O);return{unsubscribe:A}}},b[Rm]=function(){return this},b}return S({type:Im.INIT}),i={dispatch:S,subscribe:v,getState:y,replaceReducer:_},i[Rm]=E,i}function $e(t,e,...n){if(YT()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;i=new Error(e.replace(/%s/g,function(){return n[a++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}function YT(){return typeof process<"u"&&!0}function XT(t,e,n){return e.split(".").reduce((i,a)=>i&&i[a]?i[a]:n||null,t)}function QT(t,e){return t.filter(n=>n!==e)}function cw(t){return typeof t=="object"}function ZT(t,e){const n=new Map,i=l=>{n.set(l,n.has(l)?n.get(l)+1:1)};t.forEach(i),e.forEach(i);const a=[];return n.forEach((l,u)=>{l===1&&a.push(u)}),a}function ej(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Pf="dnd-core/INIT_COORDS",ac="dnd-core/BEGIN_DRAG",If="dnd-core/PUBLISH_DRAG_SOURCE",lc="dnd-core/HOVER",cc="dnd-core/DROP",uc="dnd-core/END_DRAG";function Am(t,e){return{type:Pf,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const tj={type:Pf,payload:{clientOffset:null,sourceClientOffset:null}};function rj(t){return function(n=[],i={publishSource:!0}){const{publishSource:a=!0,clientOffset:l,getSourceClientOffset:u}=i,f=t.getMonitor(),p=t.getRegistry();t.dispatch(Am(l)),nj(n,f,p);const m=oj(n,f);if(m==null){t.dispatch(tj);return}let y=null;if(l){if(!u)throw new Error("getSourceClientOffset must be defined");sj(u),y=u(m)}t.dispatch(Am(l,y));const S=p.getSource(m).beginDrag(f,m);if(S==null)return;ij(S),p.pinSource(m);const _=p.getSourceType(m);return{type:ac,payload:{itemType:_,item:S,sourceId:m,clientOffset:l||null,sourceClientOffset:y||null,isSourcePublic:!!a}}}}function nj(t,e,n){$e(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(i){$e(n.getSource(i),"Expected sourceIds to be registered.")})}function sj(t){$e(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function ij(t){$e(cw(t),"Item must be an object.")}function oj(t,e){let n=null;for(let i=t.length-1;i>=0;i--)if(e.canDragSource(t[i])){n=t[i];break}return n}function aj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){aj(t,a,n[a])})}return t}function cj(t){return function(n={}){const i=t.getMonitor(),a=t.getRegistry();uj(i),hj(i).forEach((u,f)=>{const p=dj(u,f,a,i),m={type:cc,payload:{dropResult:lj({},n,p)}};t.dispatch(m)})}}function uj(t){$e(t.isDragging(),"Cannot call drop while not dragging."),$e(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function dj(t,e,n,i){const a=n.getTarget(t);let l=a?a.drop(i,t):void 0;return fj(l),typeof l>"u"&&(l=e===0?{}:i.getDropResult()),l}function fj(t){$e(typeof t>"u"||cw(t),"Drop result must either be an object or undefined.")}function hj(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function pj(t){return function(){const n=t.getMonitor(),i=t.getRegistry();gj(n);const a=n.getSourceId();return a!=null&&(i.getSource(a,!0).endDrag(n,a),i.unpinSource()),{type:uc}}}function gj(t){$e(t.isDragging(),"Cannot call endDrag while not dragging.")}function Zd(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function mj(t){return function(n,{clientOffset:i}={}){vj(n);const a=n.slice(0),l=t.getMonitor(),u=t.getRegistry(),f=l.getItemType();return wj(a,u,f),yj(a,l,u),xj(a,l,u),{type:lc,payload:{targetIds:a,clientOffset:i||null}}}}function vj(t){$e(Array.isArray(t),"Expected targetIds to be an array.")}function yj(t,e,n){$e(e.isDragging(),"Cannot call hover while not dragging."),$e(!e.didDrop(),"Cannot call hover after drop.");for(let i=0;i<t.length;i++){const a=t[i];$e(t.lastIndexOf(a)===i,"Expected targetIds to be unique in the passed array.");const l=n.getTarget(a);$e(l,"Expected targetIds to be registered.")}}function wj(t,e,n){for(let i=t.length-1;i>=0;i--){const a=t[i],l=e.getTargetType(a);Zd(l,n)||t.splice(i,1)}}function xj(t,e,n){t.forEach(function(i){n.getTarget(i).hover(e,i)})}function bj(t){return function(){if(t.getMonitor().isDragging())return{type:If}}}function Sj(t){return{beginDrag:rj(t),publishDragSource:bj(t),hover:mj(t),drop:cj(t),endDrag:pj(t)}}class _j{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function i(l){return(...u)=>{const f=l.apply(e,u);typeof f<"u"&&n(f)}}const a=Sj(this);return Object.keys(a).reduce((l,u)=>{const f=a[u];return l[u]=i(f),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const i=this.store.getState().refCount>0;this.backend&&(i&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!i&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function Ej(t,e){return{x:t.x+e.x,y:t.y+e.y}}function uw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kj(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:i}=t;return!e||!n||!i?null:uw(Ej(e,i),n)}function Cj(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:uw(e,n)}const Ho=[],Af=[];Ho.__IS_NONE__=!0;Af.__IS_ALL__=!0;function Tj(t,e){return t===Ho?!1:t===Af||typeof e>"u"?!0:ej(e,t).length>0}class jj{subscribeToStateChange(e,n={}){const{handlerIds:i}=n;$e(typeof e=="function","listener must be a function."),$e(typeof i>"u"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const l=()=>{const u=this.store.getState(),f=u.stateId;try{f===a||f===a+1&&!Tj(u.dirtyHandlerIds,i)||e()}finally{a=f}};return this.store.subscribe(l)}subscribeToOffsetChange(e){$e(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const i=()=>{const a=this.store.getState().dragOffset;a!==n&&(n=a,e())};return this.store.subscribe(i)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return $e(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if($e(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const i=this.registry.getTargetType(e),a=this.getItemType();return Zd(i,a)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if($e(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const i=this.registry.getSourceType(e),a=this.getItemType();return i!==a?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:i}=n;if(!this.isDragging())return!1;const a=this.registry.getTargetType(e),l=this.getItemType();if(l&&!Zd(a,l))return!1;const u=this.getTargetIds();if(!u.length)return!1;const f=u.indexOf(e);return i?f===u.length-1:f>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return kj(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Cj(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const Dm=typeof global<"u"?global:self,dw=Dm.MutationObserver||Dm.WebKitMutationObserver;function fw(t){return function(){const n=setTimeout(a,0),i=setInterval(a,50);function a(){clearTimeout(n),clearInterval(i),t()}}}function Nj(t){let e=1;const n=new dw(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}const Oj=typeof dw=="function"?Nj:fw;class Rj{enqueueTask(e){const{queue:n,requestFlush:i}=this;n.length||(i(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let i=0,a=e.length-this.index;i<a;i++)e[i]=e[i+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Oj(this.flush),this.requestErrorThrow=fw(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Pj{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class Ij{create(e){const n=this.freeTasks,i=n.length?n.pop():new Pj(this.onError,a=>n[n.length]=a);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}const hw=new Rj,Aj=new Ij(hw.registerPendingError);function Dj(t){hw.enqueueTask(Aj.create(t))}const Df="dnd-core/ADD_SOURCE",Lf="dnd-core/ADD_TARGET",Mf="dnd-core/REMOVE_SOURCE",dc="dnd-core/REMOVE_TARGET";function Lj(t){return{type:Df,payload:{sourceId:t}}}function Mj(t){return{type:Lf,payload:{targetId:t}}}function $j(t){return{type:Mf,payload:{sourceId:t}}}function Fj(t){return{type:dc,payload:{targetId:t}}}function zj(t){$e(typeof t.canDrag=="function","Expected canDrag to be a function."),$e(typeof t.beginDrag=="function","Expected beginDrag to be a function."),$e(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Uj(t){$e(typeof t.canDrop=="function","Expected canDrop to be a function."),$e(typeof t.hover=="function","Expected hover to be a function."),$e(typeof t.drop=="function","Expected beginDrag to be a function.")}function ef(t,e){if(e&&Array.isArray(t)){t.forEach(n=>ef(n,!1));return}$e(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Yr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Yr||(Yr={}));let Bj=0;function Vj(){return Bj++}function Hj(t){const e=Vj().toString();switch(t){case Yr.SOURCE:return`S${e}`;case Yr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Lm(t){switch(t[0]){case"S":return Yr.SOURCE;case"T":return Yr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Mm(t,e){const n=t.entries();let i=!1;do{const{done:a,value:[,l]}=n.next();if(l===e)return!0;i=!!a}while(!i);return!1}class Wj{addSource(e,n){ef(e),zj(n);const i=this.addHandler(Yr.SOURCE,e,n);return this.store.dispatch(Lj(i)),i}addTarget(e,n){ef(e,!0),Uj(n);const i=this.addHandler(Yr.TARGET,e,n);return this.store.dispatch(Mj(i)),i}containsHandler(e){return Mm(this.dragSources,e)||Mm(this.dropTargets,e)}getSource(e,n=!1){return $e(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return $e(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return $e(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return $e(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Lm(e)===Yr.SOURCE}isTargetId(e){return Lm(e)===Yr.TARGET}removeSource(e){$e(this.getSource(e),"Expected an existing source."),this.store.dispatch($j(e)),Dj(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){$e(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Fj(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);$e(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){$e(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,i){const a=Hj(e);return this.types.set(a,n),e===Yr.SOURCE?this.dragSources.set(a,i):e===Yr.TARGET&&this.dropTargets.set(a,i),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const qj=(t,e)=>t===e;function Kj(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Gj(t,e,n=qj){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!n(t[i],e[i]))return!1;return!0}function Jj(t=Ho,e){switch(e.type){case lc:break;case Df:case Lf:case dc:case Mf:return Ho;case ac:case If:case uc:case cc:default:return Af}const{targetIds:n=[],prevTargetIds:i=[]}=e.payload,a=ZT(n,i);if(!(a.length>0||!Gj(n,i)))return Ho;const u=i[i.length-1],f=n[n.length-1];return u!==f&&(u&&a.push(u),f&&a.push(f)),a}function Yj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){Yj(t,a,n[a])})}return t}const $m={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Qj(t=$m,e){const{payload:n}=e;switch(e.type){case Pf:case ac:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case lc:return Kj(t.clientOffset,n.clientOffset)?t:Xj({},t,{clientOffset:n.clientOffset});case uc:case cc:return $m;default:return t}}function Zj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){Zj(t,a,n[a])})}return t}const eN={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function tN(t=eN,e){const{payload:n}=e;switch(e.type){case ac:return Di({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case If:return Di({},t,{isSourcePublic:!0});case lc:return Di({},t,{targetIds:n.targetIds});case dc:return t.targetIds.indexOf(n.targetId)===-1?t:Di({},t,{targetIds:QT(t.targetIds,n.targetId)});case cc:return Di({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case uc:return Di({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function rN(t=0,e){switch(e.type){case Df:case Lf:return t+1;case Mf:case dc:return t-1;default:return t}}function nN(t=0){return t+1}function sN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){sN(t,a,n[a])})}return t}function oN(t={},e){return{dirtyHandlerIds:Jj(t.dirtyHandlerIds,{type:e.type,payload:iN({},e.payload,{prevTargetIds:XT(t,"dragOperation.targetIds",[])})}),dragOffset:Qj(t.dragOffset,e),refCount:rN(t.refCount,e),dragOperation:tN(t.dragOperation,e),stateId:nN(t.stateId)}}function aN(t,e=void 0,n={},i=!1){const a=lN(i),l=new jj(a,new Wj(a)),u=new _j(a,l),f=t(u,e,n);return u.receiveBackend(f),u}function lN(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return lw(oN,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function cN(t,e){if(t==null)return{};var n=uN(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function uN(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}let Fm=0;const Nl=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var dN=w.memo(function(e){var{children:n}=e,i=cN(e,["children"]);const[a,l]=fN(i);return w.useEffect(()=>{if(l){const u=pw();return++Fm,()=>{--Fm===0&&(u[Nl]=null)}}},[]),d.jsx(aw.Provider,{value:a,children:n})});function fN(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=hN(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function hN(t,e=pw(),n,i){const a=e;return a[Nl]||(a[Nl]={dragDropManager:aN(t,e,n,i)}),a[Nl]}function pw(){return typeof global<"u"?global:window}var wd,zm;function pN(){return zm||(zm=1,wd=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,a,l;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(a=i;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(n).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[a]))return!1;for(a=i;a--!==0;){var u=l[a];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}),wd}var gN=pN();const mN=sf(gN),Ks=typeof window<"u"?w.useLayoutEffect:w.useEffect;function vN(t,e,n){const[i,a]=w.useState(()=>e(t)),l=w.useCallback(()=>{const u=e(t);mN(i,u)||(a(u),n&&n())},[i,t,n]);return Ks(l),[i,l]}function yN(t,e,n){const[i,a]=vN(t,e,n);return Ks(function(){const u=t.getHandlerId();if(u!=null)return t.subscribeToStateChange(a,{handlerIds:[u]})},[t,a]),i}function gw(t,e,n){return yN(e,t||(()=>({})),()=>n.reconnect())}function mw(t,e){const n=[];return typeof t!="function"&&n.push(t),w.useMemo(()=>typeof t=="function"?t():t,n)}function wN(t){return w.useMemo(()=>t.hooks.dragSource(),[t])}function xN(t){return w.useMemo(()=>t.hooks.dragPreview(),[t])}let xd=!1,bd=!1;class bN{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){$e(!xd,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return xd=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{xd=!1}}isDragging(){if(!this.sourceId)return!1;$e(!bd,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return bd=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{bd=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Sd=!1;class SN{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;$e(!Sd,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Sd=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Sd=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function _N(t,e,n){const i=n.getRegistry(),a=i.addTarget(t,e);return[a,()=>i.removeTarget(a)]}function EN(t,e,n){const i=n.getRegistry(),a=i.addSource(t,e);return[a,()=>i.removeSource(a)]}function tf(t,e,n,i){let a;if(a!==void 0)return!!a;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;const f=Object.prototype.hasOwnProperty.bind(e);for(let p=0;p<l.length;p++){const m=l[p];if(!f(m))return!1;const y=t[m],v=e[m];if(a=void 0,a===!1||a===void 0&&y!==v)return!1}return!0}function rf(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kN(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function CN(t){return(e=null,n=null)=>{if(!w.isValidElement(e)){const l=e;return t(l,n),l}const i=e;return kN(i),TN(i,n?l=>t(l,n):t)}}function vw(t){const e={};return Object.keys(t).forEach(n=>{const i=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const a=CN(i);e[n]=()=>a}}),e}function Um(t,e){typeof t=="function"?t(e):t.current=e}function TN(t,e){const n=t.ref;return $e(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?w.cloneElement(t,{ref:i=>{Um(n,i),Um(e,i)}}):w.cloneElement(t,{ref:e})}class jN{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,i=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(i&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!tf(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!tf(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=vw({dragSource:(n,i)=>{this.clearDragSource(),this.dragSourceOptions=i||null,rf(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,i)=>{this.clearDragPreview(),this.dragPreviewOptions=i||null,rf(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class NN{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!tf(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=vw({dropTarget:(n,i)=>{this.clearDropTarget(),this.dropTargetOptions=i,rf(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Qi(){const{dragDropManager:t}=w.useContext(aw);return $e(t!=null,"Expected drag drop context"),t}function ON(t,e){const n=Qi(),i=w.useMemo(()=>new jN(n.getBackend()),[n]);return Ks(()=>(i.dragSourceOptions=t||null,i.reconnect(),()=>i.disconnectDragSource()),[i,t]),Ks(()=>(i.dragPreviewOptions=e||null,i.reconnect(),()=>i.disconnectDragPreview()),[i,e]),i}function RN(){const t=Qi();return w.useMemo(()=>new bN(t),[t])}class PN{beginDrag(){const e=this.spec,n=this.monitor;let i=null;return typeof e.item=="object"?i=e.item:typeof e.item=="function"?i=e.item(n):i={},i??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const i=this.spec,a=this.monitor,{isDragging:l}=i;return l?l(a):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,i=this.connector,{end:a}=e;a&&a(n.getItem(),n),i.reconnect()}constructor(e,n,i){this.spec=e,this.monitor=n,this.connector=i}}function IN(t,e,n){const i=w.useMemo(()=>new PN(t,e,n),[e,n]);return w.useEffect(()=>{i.spec=t},[t]),i}function AN(t){return w.useMemo(()=>{const e=t.type;return $e(e!=null,"spec.type must be defined"),e},[t])}function DN(t,e,n){const i=Qi(),a=IN(t,e,n),l=AN(t);Ks(function(){if(l!=null){const[f,p]=EN(l,a,i);return e.receiveHandlerId(f),n.receiveHandlerId(f),p}},[i,e,n,a,l])}function LN(t,e){const n=mw(t);$e(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const i=RN(),a=ON(n.options,n.previewOptions);return DN(n,i,a),[gw(n.collect,i,a),wN(a),xN(a)]}function MN(t){return w.useMemo(()=>t.hooks.dropTarget(),[t])}function $N(t){const e=Qi(),n=w.useMemo(()=>new NN(e.getBackend()),[e]);return Ks(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function FN(){const t=Qi();return w.useMemo(()=>new SN(t),[t])}function zN(t){const{accept:e}=t;return w.useMemo(()=>($e(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class UN{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function BN(t,e){const n=w.useMemo(()=>new UN(t,e),[e]);return w.useEffect(()=>{n.spec=t},[t]),n}function VN(t,e,n){const i=Qi(),a=BN(t,e),l=zN(t);Ks(function(){const[f,p]=_N(l,a,i);return e.receiveHandlerId(f),n.receiveHandlerId(f),p},[i,e,a,n,l.map(u=>u.toString()).join("|")])}function HN(t,e){const n=mw(t),i=FN(),a=$N(n.options);return VN(n,i,a),[gw(n.collect,i,a),MN(a)]}function yw(t){let e=null;return()=>(e==null&&(e=t()),e)}function WN(t,e){return t.filter(n=>n!==e)}function qN(t,e){const n=new Set,i=l=>n.add(l);t.forEach(i),e.forEach(i);const a=[];return n.forEach(l=>a.push(l)),a}class KN{enter(e){const n=this.entered.length,i=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=qN(this.entered.filter(i),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=WN(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class GN{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(i=>{const a=this.config.exposeProperties[i];a!=null&&(n[i]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const ww="__NATIVE_FILE__",xw="__NATIVE_URL__",bw="__NATIVE_TEXT__",Sw="__NATIVE_HTML__",Bm=Object.freeze(Object.defineProperty({__proto__:null,FILE:ww,HTML:Sw,TEXT:bw,URL:xw},Symbol.toStringTag,{value:"Module"}));function _d(t,e,n){const i=e.reduce((a,l)=>a||t.getData(l),"");return i??n}const nf={[ww]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Sw]:{exposeProperties:{html:(t,e)=>_d(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[xw]:{exposeProperties:{urls:(t,e)=>_d(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[bw]:{exposeProperties:{text:(t,e)=>_d(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function JN(t,e){const n=nf[t];if(!n)throw new Error(`native type ${t} has no configuration`);const i=new GN(n);return i.loadDataTransfer(e),i}function Ed(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(nf).filter(n=>{const i=nf[n];return i!=null&&i.matchesTypes?i.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}const YN=yw(()=>/firefox/i.test(navigator.userAgent)),_w=yw(()=>!!window.safari);class Vm{interpolate(e){const{xs:n,ys:i,c1s:a,c2s:l,c3s:u}=this;let f=n.length-1;if(e===n[f])return i[f];let p=0,m=u.length-1,y;for(;p<=m;){y=Math.floor(.5*(p+m));const _=n[y];if(_<e)p=y+1;else if(_>e)m=y-1;else return i[y]}f=Math.max(0,m);const v=e-n[f],S=v*v;return i[f]+a[f]*v+l[f]*S+u[f]*v*S}constructor(e,n){const{length:i}=e,a=[];for(let _=0;_<i;_++)a.push(_);a.sort((_,E)=>e[_]<e[E]?-1:1);const l=[],u=[];let f,p;for(let _=0;_<i-1;_++)f=e[_+1]-e[_],p=n[_+1]-n[_],l.push(f),u.push(p/f);const m=[u[0]];for(let _=0;_<l.length-1;_++){const E=u[_],b=u[_+1];if(E*b<=0)m.push(0);else{f=l[_];const k=l[_+1],T=f+k;m.push(3*T/((T+k)/E+(T+f)/b))}}m.push(u[u.length-1]);const y=[],v=[];let S;for(let _=0;_<m.length-1;_++){S=u[_];const E=m[_],b=1/l[_],k=E+m[_+1]-S-S;y.push((S-E-k)*b),v.push(k*b*b)}this.xs=e,this.ys=n,this.c1s=m,this.c2s=y,this.c3s=v}}const XN=1;function Ew(t){const e=t.nodeType===XN?t:t.parentElement;if(!e)return null;const{top:n,left:i}=e.getBoundingClientRect();return{x:i,y:n}}function kl(t){return{x:t.clientX,y:t.clientY}}function QN(t){var e;return t.nodeName==="IMG"&&(YN()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function ZN(t,e,n,i){let a=t?e.width:n,l=t?e.height:i;return _w()&&t&&(l/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:l}}function eO(t,e,n,i,a){const l=QN(e),f=Ew(l?t:e),p={x:n.x-f.x,y:n.y-f.y},{offsetWidth:m,offsetHeight:y}=t,{anchorX:v,anchorY:S}=i,{dragPreviewWidth:_,dragPreviewHeight:E}=ZN(l,e,m,y),b=()=>{let V=new Vm([0,.5,1],[p.y,p.y/y*E,p.y+E-y]).interpolate(S);return _w()&&l&&(V+=(window.devicePixelRatio-1)*E),V},k=()=>new Vm([0,.5,1],[p.x,p.x/m*_,p.x+_-m]).interpolate(v),{offsetX:T,offsetY:N}=a,O=T===0||T,A=N===0||N;return{x:O?T:k(),y:A?N:b()}}class tO{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function rO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){rO(t,a,n[a])})}return t}class nO{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,i){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,i);const a=u=>this.handleDragStart(u,e),l=u=>this.handleSelectStart(u);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",l),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const i=u=>this.handleDragEnter(u,e),a=u=>this.handleDragOver(u,e),l=u=>this.handleDrop(u,e);return n.addEventListener("dragenter",i),n.addEventListener("dragover",a),n.addEventListener("drop",l),()=>{n.removeEventListener("dragenter",i),n.removeEventListener("dragover",a),n.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return Hm({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return Hm({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Bm).some(n=>Bm[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=JN(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var i;return(i=this.rootElement)===null||i===void 0?void 0:i.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,i){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const l=this.sourceNodes.get(a);return l&&Ew(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const u=kl(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:f}=a,p=Ed(f);if(this.monitor.isDragging()){if(f&&typeof f.setDragImage=="function"){const y=this.monitor.getSourceId(),v=this.sourceNodes.get(y),S=this.sourcePreviewNodes.get(y)||v;if(S){const{anchorX:_,anchorY:E,offsetX:b,offsetY:k}=this.getCurrentSourcePreviewNodeOptions(),O=eO(v,S,u,{anchorX:_,anchorY:E},{offsetX:b,offsetY:k});f.setDragImage(S,O.x,O.y)}}try{f==null||f.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(p)this.beginDragNativeItem(p);else{if(f&&!f.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:f}=a,p=Ed(f);p&&this.beginDragNativeItem(p,f)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,l.length>0&&this.actions.hover(l,{clientOffset:kl(a)}),l.some(f=>this.monitor.canDropOnTarget(f))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=kl(a),this.scheduleHover(l),(l||[]).some(f=>this.monitor.canDropOnTarget(f))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;a.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}else Ed(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:kl(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const l=a.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(a.preventDefault(),l.dragDrop()))},this.options=new tO(n,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new KN(this.isNodeInDocument)}}const sO=function(e,n,i){return new nO(e,n,i)};var $f="Dialog",[kw]=Js($f),[iO,hn]=kw($f),Cw=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:a,onOpenChange:l,modal:u=!0}=t,f=w.useRef(null),p=w.useRef(null),[m=!1,y]=Vi({prop:i,defaultProp:a,onChange:l});return d.jsx(iO,{scope:e,triggerRef:f,contentRef:p,contentId:hs(),titleId:hs(),descriptionId:hs(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(v=>!v),[y]),modal:u,children:n})};Cw.displayName=$f;var Tw="DialogTrigger",jw=w.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=hn(Tw,n),l=jt(e,a.triggerRef);return d.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Uf(a.open),...i,ref:l,onClick:We(t.onClick,a.onOpenToggle)})});jw.displayName=Tw;var Ff="DialogPortal",[oO,Nw]=kw(Ff,{forceMount:void 0}),Ow=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:a}=t,l=hn(Ff,e);return d.jsx(oO,{scope:e,forceMount:n,children:w.Children.map(i,u=>d.jsx(Gi,{present:n||l.open,children:d.jsx(jf,{asChild:!0,container:a,children:u})}))})};Ow.displayName=Ff;var Kl="DialogOverlay",Rw=w.forwardRef((t,e)=>{const n=Nw(Kl,t.__scopeDialog),{forceMount:i=n.forceMount,...a}=t,l=hn(Kl,t.__scopeDialog);return l.modal?d.jsx(Gi,{present:i||l.open,children:d.jsx(aO,{...a,ref:e})}):null});Rw.displayName=Kl;var aO=w.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=hn(Kl,n);return d.jsx(Nf,{as:gs,allowPinchZoom:!0,shards:[a.contentRef],children:d.jsx(Ke.div,{"data-state":Uf(a.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Gs="DialogContent",Pw=w.forwardRef((t,e)=>{const n=Nw(Gs,t.__scopeDialog),{forceMount:i=n.forceMount,...a}=t,l=hn(Gs,t.__scopeDialog);return d.jsx(Gi,{present:i||l.open,children:l.modal?d.jsx(lO,{...a,ref:e}):d.jsx(cO,{...a,ref:e})})});Pw.displayName=Gs;var lO=w.forwardRef((t,e)=>{const n=hn(Gs,t.__scopeDialog),i=w.useRef(null),a=jt(e,n.contentRef,i);return w.useEffect(()=>{const l=i.current;if(l)return wy(l)},[]),d.jsx(Iw,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:We(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:We(t.onFocusOutside,l=>l.preventDefault())})}),cO=w.forwardRef((t,e)=>{const n=hn(Gs,t.__scopeDialog),i=w.useRef(!1),a=w.useRef(!1);return d.jsx(Iw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(i.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:l=>{var p,m;(p=t.onInteractOutside)==null||p.call(t,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),Iw=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=t,f=hn(Gs,n),p=w.useRef(null),m=jt(e,p);return Wv(),d.jsxs(d.Fragment,{children:[d.jsx(wf,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:l,children:d.jsx(yf,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Uf(f.open),...u,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(uO,{titleId:f.titleId}),d.jsx(fO,{contentRef:p,descriptionId:f.descriptionId})]})]})}),zf="DialogTitle",Aw=w.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=hn(zf,n);return d.jsx(Ke.h2,{id:a.titleId,...i,ref:e})});Aw.displayName=zf;var Dw="DialogDescription",Lw=w.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=hn(Dw,n);return d.jsx(Ke.p,{id:a.descriptionId,...i,ref:e})});Lw.displayName=Dw;var Mw="DialogClose",$w=w.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,a=hn(Mw,n);return d.jsx(Ke.button,{type:"button",...i,ref:e,onClick:We(t.onClick,()=>a.onOpenChange(!1))})});$w.displayName=Mw;function Uf(t){return t?"open":"closed"}var Fw="DialogTitleWarning",[UO,zw]=sE(Fw,{contentName:Gs,titleName:zf,docsSlug:"dialog"}),uO=({titleId:t})=>{const e=zw(Fw),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dO="DialogDescriptionWarning",fO=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zw(dO).contentName}}.`;return w.useEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},hO=Cw,pO=jw,gO=Ow,mO=Rw,vO=Pw,yO=Aw,wO=Lw,xO=$w;function Ol({...t}){return d.jsx(hO,{"data-slot":"dialog",...t})}function bO({...t}){return d.jsx(pO,{"data-slot":"dialog-trigger",...t})}function SO({...t}){return d.jsx(gO,{"data-slot":"dialog-portal",...t})}function _O({className:t,...e}){return d.jsx(mO,{"data-slot":"dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Rl({className:t,children:e,...n}){return d.jsxs(SO,{"data-slot":"dialog-portal",children:[d.jsx(_O,{}),d.jsxs(vO,{"data-slot":"dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,d.jsxs(xO,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(ow,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Pl({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Il({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Al({className:t,...e}){return d.jsx(yO,{"data-slot":"dialog-title",className:qe("text-lg leading-none font-semibold",t),...e})}function Dl({className:t,...e}){return d.jsx(wO,{"data-slot":"dialog-description",className:qe("text-muted-foreground text-sm",t),...e})}var Bf="Checkbox",[EO]=Js(Bf),[kO,CO]=EO(Bf),Uw=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:i,checked:a,defaultChecked:l,required:u,disabled:f,value:p="on",onCheckedChange:m,form:y,...v}=t,[S,_]=w.useState(null),E=jt(e,A=>_(A)),b=w.useRef(!1),k=S?y||!!S.closest("form"):!0,[T=!1,N]=Vi({prop:a,defaultProp:l,onChange:m}),O=w.useRef(T);return w.useEffect(()=>{const A=S==null?void 0:S.form;if(A){const $=()=>N(O.current);return A.addEventListener("reset",$),()=>A.removeEventListener("reset",$)}},[S,N]),d.jsxs(kO,{scope:n,state:T,disabled:f,children:[d.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":ps(T)?"mixed":T,"aria-required":u,"data-state":Hw(T),"data-disabled":f?"":void 0,disabled:f,value:p,...v,ref:E,onKeyDown:We(t.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:We(t.onClick,A=>{N($=>ps($)?!0:!$),k&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),k&&d.jsx(TO,{control:S,bubbles:!b.current,name:i,value:p,checked:T,required:u,disabled:f,form:y,style:{transform:"translateX(-100%)"},defaultChecked:ps(l)?!1:l})]})});Uw.displayName=Bf;var Bw="CheckboxIndicator",Vw=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:i,...a}=t,l=CO(Bw,n);return d.jsx(Gi,{present:i||ps(l.state)||l.state===!0,children:d.jsx(Ke.span,{"data-state":Hw(l.state),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});Vw.displayName=Bw;var TO=t=>{const{control:e,checked:n,bubbles:i=!0,defaultChecked:a,...l}=t,u=w.useRef(null),f=my(n),p=iy(e);w.useEffect(()=>{const y=u.current,v=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(v,"checked").set;if(f!==n&&_){const E=new Event("click",{bubbles:i});y.indeterminate=ps(n),_.call(y,ps(n)?!1:n),y.dispatchEvent(E)}},[f,n,i]);const m=w.useRef(ps(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,...l,tabIndex:-1,ref:u,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ps(t){return t==="indeterminate"}function Hw(t){return ps(t)?"indeterminate":t?"checked":"unchecked"}var jO=Uw,NO=Vw;function Ww({className:t,...e}){return d.jsx(jO,{"data-slot":"checkbox",className:qe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(NO,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:d.jsx(Zy,{className:"size-3.5"})})})}function OO({accessToken:t}){const[e,n]=w.useState([]),[i,a]=w.useState(!0),[l,u]=w.useState(!1),[f,p]=w.useState(!1),[m,y]=w.useState(""),[v,S]=w.useState(""),_=w.useRef(null),[E,b]=w.useState(!1),[k,T]=w.useState([]),[N,O]=w.useState(!1),[A,$]=w.useState([]),[V,U]=w.useState("1"),[z,ie]=w.useState(new Set),[ue,de]=w.useState(!1),[pe,le]=w.useState(""),[ge,W]=w.useState(!1),[B,Y]=w.useState(null),[I,K]=w.useState(""),[H,C]=w.useState(""),[L,q]=w.useState(""),[ne,be]=w.useState(!1);w.useEffect(()=>{se()},[]);const se=async()=>{try{const ee={};t&&(ee.Authorization=`Bearer ${t}`);const he=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{headers:ee});if(he.ok){const Ae=await he.json();n(Ae.cadets||[])}}catch(ee){console.error("Error fetching cadets:",ee),ke.error("Failed to fetch cadets")}finally{a(!1)}},X=ee=>{const he=ee.split(/\r?\n/).map(Ve=>Ve.trim()).filter(Boolean);if(he.length===0)return[];const Ae=he[0].toLowerCase();let Fe=0;return Ae.includes("name")&&(Ae.includes("flight")||Ae.includes("join"))&&(Fe=1),he.slice(Fe).map(Ve=>{const Je=Ve.split(/,|;/).map(tr=>tr.trim());return{name:Je[0]||"",flight:Je[1]||"Unassigned",joinDate:Je[2]?new Date(Je[2]).toISOString():new Date().toISOString()}}).filter(Ve=>Ve.name.length>0)},oe=async ee=>{var Ae;const he=(Ae=ee.target.files)==null?void 0:Ae[0];if(!he){ke.error("No file selected");return}try{const Fe=await he.text(),Ve=X(Fe);if(Ve.length===0){ke.error("No valid rows found in CSV");return}T(Ve),b(!0),ke.success(`Loaded ${Ve.length} rows from ${he.name}`)}catch(Fe){console.error("CSV read error",Fe),ke.error("Failed to read CSV file")}finally{_.current&&(_.current.value="")}},Ce=async ee=>{const he=k;if(O(!0),!t){ke.error("You must be signed in as a staff/SNCO to import cadets"),O(!1);return}try{const Ae={"Content-Type":"application/json"};t&&(Ae.Authorization=`Bearer ${t}`);const Ve=(await Promise.all(he.map(async Je=>{try{const tr=Je.flight&&Je.flight!=="Unassigned"?Je.flight:V,Sr=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{method:"POST",headers:Ae,body:JSON.stringify({name:Je.name,flight:tr,joinDate:Je.joinDate})});if(!Sr.ok){const G=await Sr.json().catch(()=>({error:"unknown"}));return{ok:!1,name:Je.name,reason:G.error||Sr.statusText}}return{ok:!0,name:Je.name}}catch(tr){return{ok:!1,name:Je.name,reason:String(tr)}}}))).filter(Je=>!Je.ok);if($(Ve),Ve.length>0){const Je=Ve.slice(0,5).map(tr=>`${tr.name} (${tr.reason})`).join(", ");ke.error(`Imported with ${Ve.length} failures: ${Je}${Ve.length>5?"...":""}`),b(!0)}else ke.success(`Imported ${he.length} cadets`),b(!1);se()}catch(Ae){console.error("CSV import failed",Ae),ke.error("Failed to import CSV")}finally{O(!1)}},Te=async(ee,he)=>{try{const Ae={"Content-Type":"application/json"};t&&(Ae.Authorization=`Bearer ${t}`);const Fe=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets/${ee}`,{method:"PUT",headers:Ae,body:JSON.stringify({flight:he})});if(Fe.ok)n(Ve=>Ve.map(Je=>Je.id===ee?{...Je,flight:he}:Je)),ke.success("Cadet moved");else{const Ve=await Fe.json();ke.error(Ve.error||"Failed to move cadet")}}catch(Ae){console.error("Error moving cadet:",Ae),ke.error("Failed to move cadet")}},De=ee=>{Y(ee),K(ee.name),C(ee.flight),q(ee.joinDate),W(!0)},Me=async()=>{if(B){be(!0);try{const ee={"Content-Type":"application/json"};t&&(ee.Authorization=`Bearer ${t}`);const he=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets/${B.id}`,{method:"PUT",headers:ee,body:JSON.stringify({name:I,flight:H,joinDate:L})});if(he.ok)ke.success("Cadet updated"),W(!1),Y(null),se();else{const Ae=await he.json();ke.error(Ae.error||"Failed to update cadet")}}catch(ee){console.error("Error updating cadet:",ee),ke.error("Failed to update cadet")}finally{be(!1)}}},lt=async()=>{if(pe!=="DELETE"){ke.error("Type DELETE to confirm");return}const ee=Array.from(z);if(ee.length===0){ke.error("No cadets selected");return}de(!1),le("");try{const he={};t&&(he.Authorization=`Bearer ${t}`);const Ae=await Promise.all(ee.map(async Ve=>{try{return(await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets/${Ve}`,{method:"DELETE",headers:he})).ok?{id:Ve,ok:!0}:{id:Ve,ok:!1}}catch{return{id:Ve,ok:!1}}})),Fe=Ae.filter(Ve=>!Ve.ok);Fe.length>0?ke.error(`${Fe.length} cadet(s) failed to delete`):ke.success(`Deleted ${Ae.length} cadet(s)`),ie(new Set),se()}catch(he){console.error("Bulk delete error:",he),ke.error("Bulk delete failed")}},nt={CADET:"cadet"};function fr({cadet:ee}){const[,he]=LN(()=>({type:nt.CADET,item:{id:ee.id,flight:ee.flight}})),Ae=z.has(ee.id);return d.jsxs("div",{ref:he,className:`p-3 mb-2 bg-white rounded border flex justify-between items-center ${Ae?"ring-2 ring-red-200":""}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ww,{checked:Ae,onCheckedChange:()=>{const Fe=new Set(z);Fe.has(ee.id)?Fe.delete(ee.id):Fe.add(ee.id),ie(Fe)}}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:ee.name}),d.jsx("div",{className:"text-xs text-gray-500",children:qt(ee.flight)})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>{De(ee)},children:d.jsx(tw,{className:"size-4"})}),d.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>Dr(ee.id,ee.name),children:d.jsx(Rf,{className:"size-4 text-red-600"})})]})]})}function Gt({flight:ee,items:he}){const[,Ae]=HN(()=>({accept:nt.CADET,drop:Fe=>{Fe.id&&Fe.flight!==ee&&Te(Fe.id,ee)}}));return d.jsxs("div",{ref:Ae,className:"bg-blue-50 rounded p-3 min-h-[200px]",children:[d.jsxs("h4",{className:"font-semibold mb-2",children:[qt(ee)," (",he.length,")"]}),d.jsx("div",{children:he.sort((Fe,Ve)=>Fe.name.localeCompare(Ve.name)).map(Fe=>d.jsx(fr,{cadet:Fe},Fe.id))})]})}const Lt=async ee=>{ee.preventDefault(),p(!0);try{const he={"Content-Type":"application/json"};t&&(he.Authorization=`Bearer ${t}`);const Ae=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{method:"POST",headers:he,body:JSON.stringify({name:m,flight:v,joinDate:new Date().toISOString()})});if(Ae.ok)ke.success("Cadet added successfully!"),y(""),S(""),u(!1),se();else{const Fe=await Ae.json();ke.error(Fe.error||"Failed to add cadet")}}catch(he){console.error("Error adding cadet:",he),ke.error("Failed to add cadet")}finally{p(!1)}},Dr=async(ee,he)=>{if(confirm(`Are you sure you want to remove ${he} from the system?`))try{const Ae={};t&&(Ae.Authorization=`Bearer ${t}`);const Fe=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets/${ee}`,{method:"DELETE",headers:Ae});if(Fe.ok)ke.success("Cadet removed"),se();else{const Ve=await Fe.json();ke.error(Ve.error||"Failed to remove cadet")}}catch(Ae){console.error("Error deleting cadet:",Ae),ke.error("Failed to remove cadet")}},bt=e.reduce((ee,he)=>(ee[he.flight]||(ee[he.flight]=[]),ee[he.flight].push(he),ee),{}),lr=Object.keys(bt).sort();return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(mt,{children:[d.jsx(vt,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(yt,{children:"Manage Cadets"}),d.jsx(br,{children:"Add and remove cadets from the system"})]}),d.jsxs(Ol,{open:l,onOpenChange:u,children:[d.jsx(bO,{asChild:!0,children:d.jsxs(Be,{children:[d.jsx(rw,{className:"size-4 mr-2"}),"Add Cadet"]})}),d.jsx(Rl,{children:d.jsxs("form",{onSubmit:Lt,children:[d.jsxs(Pl,{children:[d.jsx(Al,{children:"Add New Cadet"}),d.jsx(Dl,{children:"Enter the cadet's information below"})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"cadet-name",children:"Full Name"}),d.jsx(er,{id:"cadet-name",placeholder:"John Smith",value:m,onChange:ee=>y(ee.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"cadet-flight",children:"Flight"}),d.jsx(er,{id:"cadet-flight",placeholder:"e.g., Alpha, Bravo, Charlie",value:v,onChange:ee=>S(ee.target.value),required:!0})]})]}),d.jsxs(Il,{children:[d.jsx(Be,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),d.jsxs(Be,{type:"submit",disabled:f,children:[d.jsx(Cm,{className:"size-4 mr-2"}),f?"Adding...":"Add Cadet"]})]})]})})]}),d.jsx("div",{className:"ml-2",children:d.jsxs(Be,{variant:"destructive",disabled:z.size===0,onClick:()=>de(!0),children:["Bulk Remove (",z.size,")"]})}),d.jsx("input",{ref:_,type:"file",accept:".csv",className:"hidden",onChange:oe}),d.jsx("div",{className:"ml-3",children:d.jsx(Be,{variant:"outline",onClick:()=>{var ee;return(ee=_.current)==null?void 0:ee.click()},children:"Import CSV"})})]})}),d.jsx(Ol,{open:ue,onOpenChange:de,children:d.jsxs(Rl,{children:[d.jsxs(Pl,{children:[d.jsx(Al,{children:"Confirm Bulk Remove"}),d.jsxs(Dl,{children:["This will permanently delete ",z.size," cadet(s) and cannot be undone. Type ",d.jsx("span",{className:"font-mono",children:"DELETE"})," to confirm."]})]}),d.jsx("div",{className:"py-3",children:d.jsx(er,{value:pe,onChange:ee=>le(ee.target.value),placeholder:"Type DELETE to confirm"})}),d.jsxs(Il,{children:[d.jsx(Be,{variant:"outline",onClick:()=>{de(!1),le("")},children:"Cancel"}),d.jsx(Be,{variant:"destructive",disabled:pe!=="DELETE",onClick:()=>lt(),children:"Confirm Remove"})]})]})}),d.jsx(wt,{children:i?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading cadets..."}):e.length===0?d.jsxs("div",{className:"text-center py-12 text-gray-500",children:[d.jsx(Cm,{className:"size-12 mx-auto mb-4 text-gray-400"}),d.jsx("p",{children:"No cadets added yet"}),d.jsx("p",{className:"text-sm",children:'Click "Add Cadet" to get started'})]}):d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"flex-1 overflow-x-auto",children:d.jsx(dN,{backend:sO,children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:lr.map(ee=>d.jsx("div",{children:d.jsx(Gt,{flight:ee,items:bt[ee]||[]})},ee))})})}),d.jsxs("div",{className:"w-80",children:[d.jsx("h4",{className:"text-sm font-semibold mb-2",children:"CSV Import Preview"}),d.jsxs("div",{className:"border rounded p-3",children:[d.jsx("p",{className:"text-xs text-gray-600",children:"Use the 'Import CSV' button to preview rows before importing."}),d.jsxs("div",{className:"mt-2 mb-2 flex items-center gap-2",children:[d.jsx(et,{className:"text-sm",children:"Assign flight for missing rows"}),d.jsxs(Vs,{value:V,onValueChange:ee=>U(ee),children:[d.jsx(Ws,{id:"csv-import-flight",className:"w-24",children:d.jsx(Hs,{})}),d.jsxs(qs,{children:[d.jsx(Kt,{value:"1",children:qt("1")}),d.jsx(Kt,{value:"2",children:qt("2")}),d.jsx(Kt,{value:"3",children:qt("3")}),d.jsx(Kt,{value:"4",children:qt("4")})]})]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Applied to rows without a flight value"})]}),k.length>0?d.jsxs("div",{className:"mt-2 max-h-48 overflow-y-auto text-sm",children:[k.map((ee,he)=>d.jsxs("div",{className:"py-1 border-b last:border-b-0",children:[ee.name,"  ",qt(ee.flight==="Unassigned"||!ee.flight?V:ee.flight)]},he)),A.length>0&&d.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-100 rounded text-sm text-red-700",children:[d.jsxs("div",{className:"font-semibold mb-1",children:["Import Failures (",A.length,")"]}),d.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:A.map((ee,he)=>d.jsxs("div",{className:"text-xs",children:[ee.name,"  ",d.jsx("span",{className:"font-mono",children:ee.reason})]},he))})]}),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsx(Be,{size:"sm",onClick:()=>Ce(),disabled:N||!t,children:N?"Importing...":"Confirm Import"}),d.jsx(Be,{size:"sm",variant:"outline",onClick:()=>{T([]),b(!1),$([])},children:"Cancel"})]}),!t&&d.jsx("div",{className:"text-xs text-yellow-700 mt-2",children:"You must be signed in as staff/SNCO to import cadets."}),d.jsx(Ol,{open:ge,onOpenChange:W,children:d.jsxs(Rl,{children:[d.jsxs(Pl,{children:[d.jsx(Al,{children:"Edit Cadet"}),d.jsx(Dl,{children:"Edit cadet name, flight and join date"})]}),d.jsxs("form",{onSubmit:ee=>{ee.preventDefault(),Me()},children:[d.jsxs("div",{className:"space-y-3 py-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{children:"Full Name"}),d.jsx(er,{value:I,onChange:ee=>K(ee.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{children:"Flight"}),d.jsx(er,{value:H,onChange:ee=>C(ee.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{children:"Join Date"}),d.jsx(er,{type:"date",value:L?L.split("T")[0]:"",onChange:ee=>q(ee.target.value)})]})]}),d.jsxs(Il,{children:[d.jsx(Be,{variant:"outline",onClick:()=>{W(!1),Y(null)},children:"Cancel"}),d.jsx(Be,{type:"submit",disabled:ne,children:ne?"Saving...":"Save"})]})]})]})})]}):d.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"No preview loaded"})]})]})]})})]}),d.jsxs(mt,{className:"bg-blue-50 border-blue-200",children:[d.jsx(vt,{children:d.jsx(yt,{className:"text-blue-900",children:"Summary"})}),d.jsx(wt,{children:d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:e.length}),d.jsx("p",{className:"text-sm text-blue-700",children:"Total Cadets"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:lr.length}),d.jsx("p",{className:"text-sm text-blue-700",children:"Flights"})]})]})})]})]})}function RO({accessToken:t,userRole:e}){const[n,i]=w.useState([]),[a,l]=w.useState([]),[u,f]=w.useState(!0),[p,m]=w.useState(!1),[y,v]=w.useState([]),[S,_]=w.useState({}),[E,b]=w.useState(new Set),[k,T]=w.useState(!1),[N,O]=w.useState(!1),[A,$]=w.useState("all"),[V,U]=w.useState([]),[z,ie]=w.useState([]);w.useRef(null);const[ue,de]=w.useState(null),[pe,le]=w.useState(""),[ge,W]=w.useState(!1),[B,Y]=w.useState(null),[I,K]=w.useState([]),H=w.useRef(null),[C,L]=w.useState(!1),[q,ne]=w.useState([]),[be,se]=w.useState(new Date().toISOString().split("T")[0]),[X,oe]=w.useState(""),[Ce,Te]=w.useState(""),De=()=>{if(k){b(new Set),T(!1);return}const G=a.filter(ce=>A==="all"||ce.flight===A).map(ce=>ce.id);b(new Set(G)),T(!0)},Me=G=>{var Se;const ce=(Se=G.target.files)==null?void 0:Se[0];if(!ce)return;const Oe=URL.createObjectURL(ce);de(Oe),le(""),K([]),Y(null)},lt=async()=>{var G;if(!ue){Y("Please select an image first");return}W(!0),Y(null),le(""),K([]),ne([]);try{const ce="tesseract.js";let Oe;try{const He=await import(ce);Oe=He.createWorker||((G=He.default)==null?void 0:G.createWorker)||He}catch(He){console.warn("tesseract import failed, falling back to tick-detection",He),await Gt();return}const Se=Oe({logger:He=>{}});await Se.load(),await Se.loadLanguage("eng"),await Se.initialize("eng");const{data:{text:ct}}=await Se.recognize(ue);await Se.terminate(),le(ct||"");const It=ct.split(/\r?\n/).map(He=>He.trim()).filter(Boolean),Nt=[],Lr=a.map(He=>({...He,_name:He.name.toLowerCase()}));for(const He of It){const St=He.toLowerCase(),Mt=Lr.find(_r=>_r._name.includes(St)||St.includes(_r._name)||_r._name.split(" ")[0]===St.split(" ")[0]);Nt.push({line:He,cadet:Mt})}K(Nt);try{await Gt()}catch(He){console.warn("tick detection after ocr failed",He)}}catch(ce){console.error("OCR failed",ce);try{await Gt()}catch(Oe){console.error("Tick-detection fallback also failed",Oe);const Se=(Oe==null?void 0:Oe.message)||String(Oe)||"OCR failed. Try a clearer photo or use manual entry.";Y(Se.includes("flight")||Se.includes("cadets")?Se:"OCR failed. Try a clearer photo or use manual entry.")}}finally{W(!1)}},[nt,fr]=w.useState(.03),Gt=async()=>{if(!ue)throw new Error("No image");if(!a||a.length===0)throw new Error("No cadets loaded to match rows");const G=A==="all"?a:a.filter(we=>we.flight===A);if(G.length===0)throw new Error("No cadets for selected flight  choose a flight first");L(!0),ne([]);const ce=await new Promise((we,ht)=>{const Et=new Image;Et.crossOrigin="anonymous",Et.onload=()=>we(Et),Et.onerror=Zr=>ht(new Error("Image load failed")),Et.src=ue}),Se=Math.min(1,1200/ce.naturalWidth),ct=Math.max(1,Math.floor(ce.naturalWidth*Se)),It=Math.max(1,Math.floor(ce.naturalHeight*Se)),Nt=document.createElement("canvas"),Lr=Nt.getContext("2d");if(!Lr)throw new Error("Canvas not available");Nt.width=ct,Nt.height=It,Lr.drawImage(ce,0,0,ct,It);const He=Nt.width,St=Nt.height,Mt=Lr.getImageData(0,0,He,St),_r=new Float32Array(He*St),Er=[];for(let we=0;we<Mt.data.length;we+=4){const ht=Mt.data[we],Et=Mt.data[we+1],Zr=Mt.data[we+2],$r=.299*ht+.587*Et+.114*Zr;_r[we/4]=$r,Er.push($r)}Er.sort((we,ht)=>we-ht);const Xr=Er[Math.floor(Er.length/2)]||128,xs=Math.max(40,Math.min(220,Xr*.9)),Ie=new Uint8ClampedArray(He*St);for(let we=0;we<_r.length;we++)Ie[we]=_r[we]<xs?1:0;const _t=Math.floor(He*.6),ut=new Array(St).fill(0);for(let we=0;we<St;we++){let ht=0;for(let Et=0;Et<_t;Et++)Ie[we*He+Et]&&ht++;ut[we]=ht}const Bt=ut.reduce((we,ht)=>we+ht,0)/ut.length,pn=ut.map(we=>we>Math.max(2,Bt*.12)),Xe=[];let dt=!1,Mr=0;for(let we=0;we<St;we++)pn[we]?dt||(dt=!0,Mr=we):dt&&(dt=!1,Xe.push({y0:Mr,y1:we-1}));dt&&Xe.push({y0:Mr,y1:St-1});const ft=Xe.map(we=>Math.floor((we.y0+we.y1)/2));if(ft.length<Math.max(3,G.length/2)){const we=Xe.length?Xe[0].y0:0,ht=Xe.length?Xe[Xe.length-1].y1:St-1,Et=G.length,Zr=Math.max(8,Math.floor((ht-we+1)/Et));ft.length=0;for(let $r=0;$r<Et;$r++)ft.push(we+$r*Zr+Math.floor(Zr/2))}const Jt=Math.max(0,Math.floor(He*.55)),Qr=He-1,rr=new Array(He).fill(0);for(let we=Jt;we<=Qr;we++){let ht=0;for(let Et=0;Et<St;Et++)ht+=Ie[Et*He+we];rr[we]=ht}let Tn=Jt,Ys=-1;for(let we=Jt;we<=Qr;we++)rr[we]>Ys&&(Ys=rr[we],Tn=we);const Bn=Math.max(0,Tn-Math.floor(He*.06)),fc=Math.min(He,Tn+Math.floor(He*.06)),Xs=Math.max(6,fc-Bn+1),kr=[];for(let we=0;we<ft.length&&we<G.length;we++){const ht=ft[we],Et=Math.max(6,Math.floor(St/ft.length*.6)),Zr=Math.max(0,ht-Math.floor(Et/2)),$r=Math.min(St-1,ht+Math.floor(Et/2));let Zi=0,Qs=0,Vn=0;for(let jn=Zr;jn<=$r;jn++){let zr=0;for(let bs=Bn;bs<Bn+Xs;bs++){const ri=jn*He+bs;Ie[ri]?(Zi++,zr++):(zr>Vn&&(Vn=zr),zr=0),Qs++}zr>Vn&&(Vn=zr)}const oa=Qs>0?Zi/Qs:0;let pt=0,eo=0;const to=Math.max(2,Math.min(Xs*2,Bn)),aa=Math.max(0,Bn-to);for(let jn=Zr;jn<=$r;jn++)for(let zr=aa;zr<Bn;zr++){const bs=jn*He+zr;Ie[bs]&&pt++,eo++}const Zs=eo>0?pt/eo:0,ei=Math.max(.01,Zs+nt),la=Math.max(3,Math.floor(Xs*.4)),ti=oa>ei&&Vn>=la,Fr=ei>=.5?0:(oa-ei)/(.5-ei),hc=Math.min(1,Math.max(0,Fr))*Math.min(1,Vn/(Xs*2)),hr=G[we];kr.push({cadetId:hr.id,cadetName:hr.name,present:ti,confidence:hc})}if(kr.length<G.length)for(let we=kr.length;we<G.length;we++){const ht=G[we];kr.push({cadetId:ht.id,cadetName:ht.name,present:!1,confidence:0})}ne(kr),L(!1)},Lt=()=>{const G=new Set(E);_(ce=>{const Oe={...ce};return I.forEach(Se=>{Se.cadet&&(Oe[Se.cadet.id]="present",G.add(Se.cadet.id))}),Oe}),b(G),ke.success(`Applied ${I.filter(ce=>ce.cadet).length} OCR matches`)},Dr=G=>{_(ce=>{const Oe={...ce};return a.forEach(Se=>{(E.size===0||E.has(Se.id))&&(Oe[Se.id]=G)}),Oe})},bt=async()=>{const G=a.filter(ce=>(E.size?E.has(ce.id):!0)&&(A==="all"||ce.flight===A));if(G.length===0){ke.error("No cadets selected for bulk save");return}O(!0),U([]);try{const ce={"Content-Type":"application/json"};t&&(ce.Authorization=`Bearer ${t}`);const Oe=G.map(Nt=>({cadetName:Nt.name,flight:Nt.flight,date:new Date(be).toISOString(),status:S[Nt.id]||"absent"})),Se=crypto.randomUUID(),ct=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/attendance/bulk`,{method:"POST",headers:ce,body:JSON.stringify({entries:Oe,date:new Date(be).toISOString(),flightFilter:A,bulkId:Se})});if(!ct.ok){const Nt=await ct.json().catch(()=>({error:"unknown"}));ke.error(Nt.error||"Failed to save attendance in bulk"),O(!1);return}const It=await ct.json();It&&It.bulk?ke.success(`Saved ${It.bulk.totalRecords} attendance records (${It.bulk.totalPresent} present)`):ke.success(`Saved ${Oe.length} attendance records`),b(new Set),T(!1),lr(),ee()}catch(ce){console.error("Bulk save error:",ce),ke.error("Failed to save attendance in bulk")}finally{O(!1)}};w.useEffect(()=>{lr(),he(),ee()},[]);const lr=async()=>{try{const G={};t&&(G.Authorization=`Bearer ${t}`);const ce=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/attendance`,{headers:G});if(ce.ok){const Oe=await ce.json();i(Oe.attendance||[])}}catch(G){console.error("Error fetching attendance:",G),ke.error("Failed to fetch attendance")}finally{f(!1)}},ee=async()=>{try{const G={};t&&(G.Authorization=`Bearer ${t}`);const ce=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/attendance/bulk`,{headers:G});if(ce.ok){const Oe=await ce.json();v(Oe.bulks||[])}}catch(G){console.error("Error fetching bulk attendance:",G)}},he=async()=>{try{const G={};t&&(G.Authorization=`Bearer ${t}`);const ce=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{headers:G});if(ce.ok){const Se=(await ce.json()).cadets||[];l(Se),_(ct=>{const It={...ct};return Se.forEach(Nt=>{It[Nt.id]||(It[Nt.id]="absent")}),It})}}catch(G){console.error("Error fetching cadets:",G)}},Ae=async G=>{if(confirm("Delete this bulk attendance session and its attendance records? This is irreversible."))try{const ce={};t&&(ce.Authorization=`Bearer ${t}`);const Oe=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/attendance/bulk/${G}`,{method:"DELETE",headers:ce});if(Oe.ok)ke.success("Bulk attendance deleted"),ee(),lr();else{const Se=await Oe.json();ke.error(Se.error||"Failed to delete bulk attendance")}}catch(ce){console.error("Error deleting bulk attendance:",ce),ke.error("Failed to delete bulk attendance")}},Fe=e==="staff"||e==="snco",Ve=Array.from(new Set(a.map(G=>G.flight))).sort(),tr=a.filter(G=>A==="all"||G.flight===A).filter(G=>S[G.id]==="present").length,Sr=E.size;return d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsxs(yt,{className:"flex items-center gap-2",children:[d.jsx(iw,{className:"size-5"}),"Bulk Attendance"]}),d.jsx(br,{children:"Quickly mark attendance for many cadets  select, set status, then 'Save All'"})]}),d.jsx(wt,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3 items-end",children:[d.jsxs("div",{className:"space-y-2 sm:col-span-1",children:[d.jsx(et,{children:"Date"}),d.jsx(er,{type:"date",value:be,onChange:G=>se(G.target.value)})]}),d.jsxs("div",{className:"space-y-2 sm:col-span-1",children:[d.jsx(et,{children:"Flight"}),d.jsxs(Vs,{value:A,onValueChange:G=>$(G),children:[d.jsx(Ws,{id:"bulk-flight",children:d.jsx(Hs,{})}),d.jsxs(qs,{children:[d.jsx(Kt,{value:"all",children:"All Flights"}),Ve.map(G=>d.jsx(Kt,{value:G,children:qt(G)},G))]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:col-span-2",children:[d.jsxs("div",{className:"w-full sm:w-auto mr-2 text-sm text-gray-600",children:["Marked present: ",tr,"  Selected: ",Sr]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("label",{className:"inline-flex items-center text-sm cursor-pointer",children:[d.jsx(Ww,{checked:k,onCheckedChange:De}),d.jsx("span",{className:"ml-2",children:"Select All"})]})}),d.jsx(Be,{variant:"outline",size:"sm",onClick:()=>Dr("present"),children:"Mark Selected Present"}),d.jsx(Be,{variant:"outline",size:"sm",onClick:()=>Dr("absent"),children:"Clear Selected"}),d.jsx(Be,{onClick:bt,disabled:N,children:N?"Saving...":"Save All"})]})]}),d.jsxs("div",{className:"mt-4 border-t pt-4",children:[d.jsx(et,{children:"Photo Register (OCR)"}),d.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[d.jsx("input",{ref:H,type:"file",accept:"image/*",className:"hidden",onChange:Me}),d.jsx(Be,{variant:"outline",onClick:()=>{var G;return(G=H.current)==null?void 0:G.click()},children:"Choose Photo"}),d.jsx(Be,{onClick:lt,disabled:ge||C||!ue,children:ge||C?"Scanning...":"Run OCR"}),d.jsx(Be,{variant:"ghost",onClick:()=>{de(null),le(""),K([]),ne([]),Y(null),L(!1)},children:"Clear"})]}),A==="all"&&d.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Tip: Select a flight in the filter before scanning for best results (maps rows to cadets automatically)."}),d.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Sensitivity (higher = stricter)"}),d.jsx("input",{type:"range",min:"0.005",max:"0.12",step:"0.005",value:nt,onChange:G=>fr(Number(G.target.value))}),d.jsxs("div",{className:"text-xs text-gray-500",children:[(nt*100).toFixed(1),"%"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Tip: increase sensitivity if too many false positives"})]}),ue&&d.jsx("div",{className:"mt-3",children:d.jsx("img",{src:ue,className:"max-h-48 object-contain rounded border",alt:"OCR upload preview"})}),B&&d.jsx("div",{className:"text-sm text-red-600 mt-2",children:B}),pe&&d.jsxs("div",{className:"mt-3 space-y-2",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"Parsed lines (click to accept match):"}),d.jsx("div",{className:"grid gap-2",children:I.map((G,ce)=>d.jsxs("div",{className:"p-2 border rounded flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium",children:G.line}),d.jsx("div",{className:"text-xs text-gray-500",children:G.cadet?`Matched: ${G.cadet.name}`:"No match"})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Be,{size:"sm",variant:"outline",onClick:()=>{G.cadet?(_(Oe=>({...Oe,[G.cadet.id]:"present"})),b(Oe=>new Set(Oe).add(G.cadet.id)),ke.success(`Accepted ${G.cadet.name}`)):ke.error("No matched cadet for this line")},children:"Accept"})})]},ce))}),d.jsx("div",{className:"mt-3",children:d.jsx(Be,{onClick:Lt,disabled:I.filter(G=>G.cadet).length===0,children:"Apply Matches to Bulk"})})]}),q.length>0&&d.jsxs("div",{className:"mt-3 space-y-2",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"Detected ticks (preview):"}),d.jsx("div",{className:"grid gap-2",children:q.map((G,ce)=>d.jsxs("div",{className:"p-2 border rounded flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium",children:G.cadetName}),d.jsxs("div",{className:"text-xs text-gray-500",children:[G.present?"Detected: Present":"Detected: Not present","  Confidence: ",(G.confidence*100).toFixed(0),"%"]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Be,{size:"sm",variant:G.present?"default":"outline",onClick:()=>{ne(Oe=>Oe.map((Se,ct)=>ct===ce?{...Se,present:!Se.present}:Se))},children:G.present?"Present":"Mark Present"})})]},ce))}),d.jsxs("div",{className:"mt-3 flex gap-2",children:[d.jsx(Be,{onClick:()=>{const G=new Set(E);_(ce=>{const Oe={...ce};return q.forEach(Se=>{Se.cadetId&&(Oe[Se.cadetId]=Se.present?"present":"absent",Se.present?G.add(Se.cadetId):G.delete(Se.cadetId))}),Oe}),b(G),ke.success(`Applied ${q.filter(ce=>ce.present).length} detected presents`)},children:"Apply Detections to Bulk"}),d.jsx(Be,{variant:"outline",onClick:()=>ne([]),children:"Clear Detections"})]})]}),V.length>0&&d.jsxs("div",{className:"mt-3 text-sm text-red-600",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:["Failed to save ",V.length," records:"]}),d.jsx("div",{children:d.jsx(Be,{size:"sm",variant:"outline",onClick:async()=>{if(z.length!==0){O(!0);try{const G={"Content-Type":"application/json"};t&&(G.Authorization=`Bearer ${t}`);const Oe=(await Promise.all(z.map(async Se=>{try{const ct=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/attendance`,{method:"POST",headers:G,body:JSON.stringify(Se)});if(!ct.ok){const It=await ct.json().catch(()=>({error:"unknown"}));return{ok:!1,name:Se.cadetName,reason:It.error||ct.statusText}}return{ok:!0,name:Se.cadetName}}catch(ct){return{ok:!1,name:Se.cadetName,reason:String(ct)}}}))).filter(Se=>!Se.ok);Oe.length>0?(U(Oe.map(Se=>({cadetName:Se.name,reason:Se.reason}))),ie(Oe.map(Se=>Se.entry)),ke.error(`Retry completed: ${Oe.length} failures remain`)):(U([]),ie([]),ke.success("All failed entries retried successfully")),lr()}catch(G){console.error("Retry failed",G),ke.error("Retry failed")}finally{O(!1)}}},children:"Retry Failed"})})]}),d.jsx("ul",{className:"list-disc pl-5 mt-1",children:V.map((G,ce)=>d.jsxs("li",{children:[G.cadetName,": ",G.reason||"Unknown"]},ce))})]})]})]})})]}),d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsx(yt,{children:"Recent Attendance"}),d.jsx(br,{children:"Last 15 bulk attendance sessions"})]}),d.jsx(wt,{children:u?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):y.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No bulk attendance recorded yet"}):d.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:y.slice(0,15).map(G=>d.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsxs("p",{className:"font-medium",children:["Session on ",new Date(G.date).toLocaleString()]}),d.jsx(ar,{variant:"outline",className:"text-xs",children:qt(G.flightFilter)})]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Present: ",G.totalPresent," / ",G.totalRecords]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Submitted by: ",G.submittedBy]})]}),Fe&&d.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>Ae(G.id),children:d.jsx(Rf,{className:"size-4 text-red-600"})})]})},G.id))})})]})]})}function PO({accessToken:t}){const[e,n]=w.useState([]),[i,a]=w.useState(!0),[l,u]=w.useState({totalChecks:0,passed:0,warnings:0,failed:0});w.useEffect(()=>{f();const y=setInterval(f,3e4);return()=>clearInterval(y)},[]);const f=async()=>{try{const y={};t&&(y.Authorization=`Bearer ${t}`);const v=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/integrity-check`,{headers:y});if(v.ok){const S=await v.json();n(S.checks||[]),u(S.summary||{totalChecks:0,passed:0,warnings:0,failed:0})}}catch(y){console.error("Error performing integrity checks:",y),ke.error("Failed to perform integrity checks")}finally{a(!1)}},p=y=>{switch(y){case"pass":return d.jsx(Bo,{className:"size-5 text-green-600"});case"warning":return d.jsx(Em,{className:"size-5 text-yellow-600"});case"fail":return d.jsx(Vo,{className:"size-5 text-red-600"});default:return null}},m=y=>{switch(y){case"pass":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"fail":return"bg-red-50 border-red-200";default:return"bg-gray-50"}};return i?d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-600",children:"Running integrity checks..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[d.jsxs(mt,{className:"bg-gradient-to-br from-blue-50 to-white border-blue-200",children:[d.jsx(vt,{className:"pb-3",children:d.jsxs(yt,{className:"text-sm flex items-center gap-2",children:[d.jsx(nw,{className:"size-4 text-blue-600"}),"Total Checks"]})}),d.jsx(wt,{children:d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:l.totalChecks})})]}),d.jsxs(mt,{className:"bg-gradient-to-br from-green-50 to-white border-green-200",children:[d.jsx(vt,{className:"pb-3",children:d.jsxs(yt,{className:"text-sm flex items-center gap-2",children:[d.jsx(Bo,{className:"size-4 text-green-600"}),"Passed"]})}),d.jsx(wt,{children:d.jsx("p",{className:"text-3xl font-bold text-green-900",children:l.passed})})]}),d.jsxs(mt,{className:"bg-gradient-to-br from-yellow-50 to-white border-yellow-200",children:[d.jsx(vt,{className:"pb-3",children:d.jsxs(yt,{className:"text-sm flex items-center gap-2",children:[d.jsx(Em,{className:"size-4 text-yellow-600"}),"Warnings"]})}),d.jsx(wt,{children:d.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:l.warnings})})]}),d.jsxs(mt,{className:"bg-gradient-to-br from-red-50 to-white border-red-200",children:[d.jsx(vt,{className:"pb-3",children:d.jsxs(yt,{className:"text-sm flex items-center gap-2",children:[d.jsx(Vo,{className:"size-4 text-red-600"}),"Failed"]})}),d.jsx(wt,{children:d.jsx("p",{className:"text-3xl font-bold text-red-900",children:l.failed})})]})]}),l.failed===0&&l.warnings===0&&l.passed>0&&d.jsxs(Wl,{className:"bg-green-50 border-green-200",children:[d.jsx(Bo,{className:"size-4 text-green-600"}),d.jsx(Om,{className:"text-green-900",children:"All Systems Operational"}),d.jsx(ql,{className:"text-green-700",children:"All data integrity checks passed successfully. Your system is healthy."})]}),l.failed>0&&d.jsxs(Wl,{variant:"destructive",children:[d.jsx(Vo,{className:"size-4"}),d.jsx(Om,{children:"Critical Issues Detected"}),d.jsxs(ql,{children:[l.failed," critical issue",l.failed>1?"s":""," found. Please review and address immediately."]})]}),d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsx(yt,{children:"Detailed Integrity Checks"}),d.jsx(br,{children:"Comprehensive validation of all system data"})]}),d.jsx(wt,{children:e.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No checks performed yet"}):d.jsx("div",{className:"space-y-3",children:e.map((y,v)=>d.jsx("div",{className:`p-4 border rounded-lg ${m(y.status)}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[p(y.status),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h4",{className:"font-medium",children:y.name}),d.jsx(ar,{variant:y.status==="pass"?"default":y.status==="warning"?"secondary":"destructive",children:y.status.toUpperCase()})]}),d.jsx("p",{className:"text-sm text-gray-700",children:y.message}),y.details&&d.jsx("p",{className:"text-xs text-gray-600 mt-2 font-mono bg-white/50 p-2 rounded",children:y.details})]})]})},v))})})]})]})}function IO({accessToken:t,userRole:e}){const[n,i]=w.useState([]),[a,l]=w.useState([]),[u,f]=w.useState([]),[p,m]=w.useState(!0),[y,v]=w.useState(""),[S,_]=w.useState(""),[E,b]=w.useState("all"),[k,T]=w.useState("all"),[N,O]=w.useState(null),[A,$]=w.useState({points:"",reason:""});w.useEffect(()=>{V()},[]);const V=async()=>{m(!0);try{await Promise.all([U(),z(),ie()])}finally{m(!1)}},U=async()=>{try{const C={};t&&(C.Authorization=`Bearer ${t}`);const L=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/points`,{headers:C});if(L.ok){const q=await L.json();i(q.points||[])}}catch(C){console.error("Error fetching points:",C)}},z=async()=>{try{const C={};t&&(C.Authorization=`Bearer ${t}`);const L=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/attendance`,{headers:C});if(L.ok){const q=await L.json();l(q.attendance||[])}}catch(C){console.error("Error fetching attendance:",C)}},ie=async()=>{try{const C={};t&&(C.Authorization=`Bearer ${t}`);const L=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{headers:C});if(L.ok){const q=await L.json();f(q.cadets||[])}}catch(C){console.error("Error fetching cadets:",C)}},ue=async()=>{if(N)try{const C={"Content-Type":"application/json"};t&&(C.Authorization=`Bearer ${t}`),(await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-73a3871f/points/${N.id}`,{method:"PUT",headers:C,body:JSON.stringify({points:parseFloat(A.points),reason:A.reason})})).ok?(ke.success("Point updated successfully"),O(null),U()):ke.error("Failed to update point")}catch(C){console.error("Error updating point:",C),ke.error("Failed to update point")}},de=C=>{O(C),$({points:C.points.toString(),reason:C.reason})},pe=C=>C.filter(L=>{const q=new Date(L.date);return!(y&&q<new Date(y)||S&&q>new Date(S)||E!=="all"&&L.flight!==E||k!=="all"&&L.cadetName!==k)}),le=pe(n),ge=pe(a),W=(C,L,q)=>{const ne=[q.join(","),...C.map(oe=>q.map(Ce=>{const Te=oe[Ce]??"",De=String(Te).replace(/"/g,'""');return De.includes(",")?`"${De}"`:De}).join(","))].join(`
`),be=new Blob([ne],{type:"text/csv;charset=utf-8;"}),se=document.createElement("a"),X=URL.createObjectURL(be);se.setAttribute("href",X),se.setAttribute("download",`${L}_${new Date().toISOString().split("T")[0]}.csv`),se.style.visibility="hidden",document.body.appendChild(se),se.click(),document.body.removeChild(se),ke.success("CSV exported successfully!")},B=()=>{W(le,"points_report",["cadetName","flight","points","reason","type","date","givenBy"])},Y=()=>{W(ge,"attendance_report",["cadetName","flight","status","date","submittedBy"])},I=Array.from(new Set(u.map(C=>C.flight))).sort(),K=u.map(C=>C.name).sort(),H=e==="staff"||e==="snco";return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(mt,{children:[d.jsxs(vt,{children:[d.jsxs(yt,{className:"flex items-center gap-2",children:[d.jsx(XC,{className:"size-5"}),"Filters"]}),d.jsx(br,{children:"Filter data by date range, flight, or cadet"})]}),d.jsxs(wt,{children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"date-from",children:"From Date"}),d.jsx(er,{id:"date-from",type:"date",value:y,onChange:C=>v(C.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"date-to",children:"To Date"}),d.jsx(er,{id:"date-to",type:"date",value:S,onChange:C=>_(C.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"filter-flight",children:"Flight"}),d.jsxs(Vs,{value:E,onValueChange:b,children:[d.jsx(Ws,{id:"filter-flight",children:d.jsx(Hs,{})}),d.jsxs(qs,{children:[d.jsx(Kt,{value:"all",children:"All Flights"}),I.map(C=>d.jsx(Kt,{value:C,children:qt(C)},C))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"filter-cadet",children:"Cadet"}),d.jsxs(Vs,{value:k,onValueChange:T,children:[d.jsx(Ws,{id:"filter-cadet",children:d.jsx(Hs,{})}),d.jsxs(qs,{children:[d.jsx(Kt,{value:"all",children:"All Cadets"}),K.map(C=>d.jsx(Kt,{value:C,children:C},C))]})]})]})]}),(y||S||E!=="all"||k!=="all")&&d.jsx("div",{className:"mt-4",children:d.jsx(Be,{variant:"outline",size:"sm",onClick:()=>{v(""),_(""),b("all"),T("all")},children:"Clear Filters"})})]})]}),d.jsxs(Xl,{defaultValue:"points",className:"space-y-6",children:[d.jsxs(Ql,{className:"grid w-full grid-cols-2",children:[d.jsx(Gr,{value:"points",children:"Points Records"}),d.jsx(Gr,{value:"attendance",children:"Attendance Records"})]}),d.jsx(Jr,{value:"points",children:d.jsxs(mt,{children:[d.jsx(vt,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(yt,{children:"Points Records"}),d.jsxs(br,{children:[le.length," record(s) found"]})]}),d.jsxs(Be,{onClick:B,children:[d.jsx(_m,{className:"size-4 mr-2"}),"Export CSV"]})]})}),d.jsx(wt,{children:p?d.jsx("div",{className:"text-center py-8",children:"Loading..."}):le.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No records found"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Zo,{children:[d.jsx(ea,{children:d.jsxs(Sn,{children:[d.jsx(ot,{children:"Date"}),d.jsx(ot,{children:"Cadet"}),d.jsx(ot,{children:"Flight"}),d.jsx(ot,{children:"Type"}),d.jsx(ot,{children:"Points"}),d.jsx(ot,{children:"Reason"}),d.jsx(ot,{children:"Given By"}),H&&d.jsx(ot,{children:"Actions"})]})}),d.jsx(ta,{children:le.map(C=>d.jsxs(Sn,{children:[d.jsx(at,{children:new Date(C.date).toLocaleDateString()}),d.jsx(at,{className:"font-medium",children:C.cadetName}),d.jsx(at,{children:d.jsx(ar,{variant:"outline",children:qt(C.flight)})}),d.jsx(at,{children:d.jsx(ar,{variant:"outline",children:C.type})}),d.jsx(at,{children:d.jsxs(ar,{variant:C.points>=0?"default":"destructive",children:[C.points>=0?"+":"",C.points]})}),d.jsx(at,{className:"max-w-xs truncate",children:C.reason}),d.jsx(at,{className:"text-sm text-gray-600",children:C.givenBy}),H&&d.jsx(at,{children:d.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>de(C),children:d.jsx(tw,{className:"size-4"})})})]},C.id))})]})})})]})}),d.jsx(Jr,{value:"attendance",children:d.jsxs(mt,{children:[d.jsx(vt,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(yt,{children:"Attendance Records"}),d.jsxs(br,{children:[ge.length," record(s) found"]})]}),d.jsxs(Be,{onClick:Y,children:[d.jsx(_m,{className:"size-4 mr-2"}),"Export CSV"]})]})}),d.jsx(wt,{children:p?d.jsx("div",{className:"text-center py-8",children:"Loading..."}):ge.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No records found"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Zo,{children:[d.jsx(ea,{children:d.jsxs(Sn,{children:[d.jsx(ot,{children:"Date"}),d.jsx(ot,{children:"Cadet"}),d.jsx(ot,{children:"Flight"}),d.jsx(ot,{children:"Status"}),d.jsx(ot,{children:"Submitted By"})]})}),d.jsx(ta,{children:ge.map(C=>d.jsxs(Sn,{children:[d.jsx(at,{children:new Date(C.date).toLocaleDateString()}),d.jsx(at,{className:"font-medium",children:C.cadetName}),d.jsx(at,{children:d.jsx(ar,{variant:"outline",children:qt(C.flight)})}),d.jsx(at,{children:d.jsx(ar,{variant:C.status==="present"?"default":C.status==="authorised_absence"?"secondary":"destructive",children:C.status==="present"?"Present":C.status==="authorised_absence"?"Auth. Absence":"Absent"})}),d.jsx(at,{className:"text-sm text-gray-600",children:C.submittedBy})]},C.id))})]})})})]})})]}),d.jsx(Ol,{open:N!==null,onOpenChange:C=>!C&&O(null),children:d.jsxs(Rl,{children:[d.jsxs(Pl,{children:[d.jsx(Al,{children:"Edit Point Entry"}),d.jsx(Dl,{children:"Make changes to this point record"})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(et,{children:["Cadet: ",N==null?void 0:N.cadetName]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",N&&new Date(N.date).toLocaleDateString()]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"edit-points",children:"Points"}),d.jsx(er,{id:"edit-points",type:"number",step:"0.5",value:A.points,onChange:C=>$({...A,points:C.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(et,{htmlFor:"edit-reason",children:"Reason"}),d.jsx(Xd,{id:"edit-reason",value:A.reason,onChange:C=>$({...A,reason:C.target.value}),rows:3})]})]}),d.jsxs(Il,{children:[d.jsxs(Be,{variant:"outline",onClick:()=>O(null),children:[d.jsx(ow,{className:"size-4 mr-2"}),"Cancel"]}),d.jsxs(Be,{onClick:ue,children:[d.jsx(nT,{className:"size-4 mr-2"}),"Save Changes"]})]})]})})]})}function AO({user:t,accessToken:e,onLogout:n}){var f,p;const i=((f=t==null?void 0:t.user_metadata)==null?void 0:f.role)||"cadet",a=((p=t==null?void 0:t.user_metadata)==null?void 0:p.name)||(t==null?void 0:t.email)||"User",l=i==="pointgiver"||i==="snco"||i==="staff",u=i==="snco"||i==="staff";return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[d.jsx("header",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Hl,{className:"size-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"RAF Air Cadet Squadron"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Flight Points System"})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:a}),d.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i})]}),d.jsxs(Be,{variant:"outline",size:"sm",onClick:n,children:[d.jsx(ZC,{className:"size-4 mr-2"}),"Logout"]})]})]})})}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs(Xl,{defaultValue:"leaderboards",className:"space-y-6",children:[d.jsx(Jr,{value:"leaderboards",children:d.jsx(GT,{accessToken:e})}),l&&d.jsxs(d.Fragment,{children:[d.jsx(Jr,{value:"points",children:d.jsx(qT,{accessToken:e,userRole:i})}),d.jsx(Jr,{value:"attendance",children:d.jsx(RO,{accessToken:e,userRole:i})})]}),u&&d.jsxs(d.Fragment,{children:[d.jsx(Jr,{value:"cadets",children:d.jsx(OO,{accessToken:e})}),d.jsx(Jr,{value:"reports",children:d.jsx(IO,{accessToken:e,userRole:i})}),d.jsx(Jr,{value:"integrity",children:d.jsx(PO,{accessToken:e})})]}),d.jsx("div",{className:"flex justify-center mt-6",children:d.jsxs(Ql,{className:"flex items-center gap-3",children:[d.jsxs(Gr,{value:"leaderboards",children:[d.jsx(sw,{className:"size-4 mr-2"}),"Leaderboards"]}),l&&d.jsxs(d.Fragment,{children:[d.jsxs(Gr,{value:"points",children:[d.jsx(Hl,{className:"size-4 mr-2"}),"Points"]}),d.jsxs(Gr,{value:"attendance",children:[d.jsx(FC,{className:"size-4 mr-2"}),"Attendance"]})]}),u&&d.jsxs(d.Fragment,{children:[d.jsxs(Gr,{value:"cadets",children:[d.jsx(fT,{className:"size-4 mr-2"}),"Cadets"]}),d.jsxs(Gr,{value:"reports",children:[d.jsx(JC,{className:"size-4 mr-2"}),"Reports"]}),d.jsxs(Gr,{value:"integrity",children:[d.jsx(nw,{className:"size-4 mr-2"}),"Integrity"]})]})]})})]})})]})}var DO=(t,e,n,i,a,l,u,f)=>{let p=document.documentElement,m=["light","dark"];function y(_){(Array.isArray(t)?t:[t]).forEach(E=>{let b=E==="class",k=b&&l?a.map(T=>l[T]||T):a;b?(p.classList.remove(...k),p.classList.add(l&&l[_]?l[_]:_)):p.setAttribute(E,_)}),v(_)}function v(_){f&&m.includes(_)&&(p.style.colorScheme=_)}function S(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)y(i);else try{let _=localStorage.getItem(e)||n,E=u&&_==="system"?S():_;y(E)}catch{}},LO=w.createContext(void 0),MO={setTheme:t=>{},themes:[]},$O=()=>{var t;return(t=w.useContext(LO))!=null?t:MO};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:a,defaultTheme:l,value:u,themes:f,nonce:p,scriptProps:m})=>{let y=JSON.stringify([n,e,l,t,f,u,i,a]).slice(1,-1);return w.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${DO.toString()})(${y})`}})});const FO=({...t})=>{const{theme:e="system"}=$O();return d.jsx(HT,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},Wm=uv(`https://${Ze}.supabase.co`,ff);function zO(){const[t,e]=w.useState(null),[n,i]=w.useState(null),[a,l]=w.useState(!0);w.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{session:m},error:y}=await Wm.auth.getSession();if(y){console.error("Session error:",y),l(!1);return}m&&(e(m.access_token),i(m.user))}catch(m){console.error("Error checking session:",m)}finally{l(!1)}},f=(m,y)=>{e(m),i(y)},p=async()=>{try{t&&await Wm.auth.signOut()}catch(m){console.error("Error signing out:",m)}finally{e(null),i(null)}};return a?d.jsx("div",{className:"size-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:d.jsx("div",{className:"text-gray-600",children:"Loading..."})}):d.jsxs(d.Fragment,{children:[n?d.jsx(AO,{user:n,accessToken:t,onLogout:p}):d.jsx(mT,{onLogin:f}),d.jsx(FO,{})]})}Dx.createRoot(document.getElementById("root")).render(d.jsx(zO,{}));
