function Cx(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(o,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function qd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Au={exports:{}},ji={},Du={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Tx(){if(rg)return $e;rg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function C(E,D,K){this.props=E,this.context=D,this.refs=b,this.updater=K||_}C.prototype.isReactComponent={},C.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function T(){}T.prototype=C.prototype;function j(E,D,K){this.props=E,this.context=D,this.refs=b,this.updater=K||_}var R=j.prototype=new T;R.constructor=j,k(R,C.prototype),R.isPureReactComponent=!0;var A=Array.isArray,$=Object.prototype.hasOwnProperty,H={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function B(E,D,K){var te,we={},se=null,X=null;if(D!=null)for(te in D.ref!==void 0&&(X=D.ref),D.key!==void 0&&(se=""+D.key),D)$.call(D,te)&&!V.hasOwnProperty(te)&&(we[te]=D[te]);var oe=arguments.length-2;if(oe===1)we.children=K;else if(1<oe){for(var _e=Array(oe),Ee=0;Ee<oe;Ee++)_e[Ee]=arguments[Ee+2];we.children=_e}if(E&&E.defaultProps)for(te in oe=E.defaultProps,oe)we[te]===void 0&&(we[te]=oe[te]);return{$$typeof:t,type:E,key:se,ref:X,props:we,_owner:H.current}}function ne(E,D){return{$$typeof:t,type:E.type,key:D,ref:E.ref,props:E.props,_owner:E._owner}}function le(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function de(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return D[K]})}var me=/\/+/g;function ce(E,D){return typeof E=="object"&&E!==null&&E.key!=null?de(""+E.key):D.toString(36)}function fe(E,D,K,te,we){var se=typeof E;(se==="undefined"||se==="boolean")&&(E=null);var X=!1;if(E===null)X=!0;else switch(se){case"string":case"number":X=!0;break;case"object":switch(E.$$typeof){case t:case e:X=!0}}if(X)return X=E,we=we(X),E=te===""?"."+ce(X,0):te,A(we)?(K="",E!=null&&(K=E.replace(me,"$&/")+"/"),fe(we,D,K,"",function(Ee){return Ee})):we!=null&&(le(we)&&(we=ne(we,K+(!we.key||X&&X.key===we.key?"":(""+we.key).replace(me,"$&/")+"/")+E)),D.push(we)),1;if(X=0,te=te===""?".":te+":",A(E))for(var oe=0;oe<E.length;oe++){se=E[oe];var _e=te+ce(se,oe);X+=fe(se,D,K,_e,we)}else if(_e=S(E),typeof _e=="function")for(E=_e.call(E),oe=0;!(se=E.next()).done;)se=se.value,_e=te+ce(se,oe++),X+=fe(se,D,K,_e,we);else if(se==="object")throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return X}function G(E,D,K){if(E==null)return E;var te=[],we=0;return fe(E,te,"","",function(se){return D.call(K,se,we++)}),te}function W(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var Y={current:null},O={transition:null},U={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:O,ReactCurrentOwner:H};function z(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:G,forEach:function(E,D,K){G(E,function(){D.apply(this,arguments)},K)},count:function(E){var D=0;return G(E,function(){D++}),D},toArray:function(E){return G(E,function(D){return D})||[]},only:function(E){if(!le(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},$e.Component=C,$e.Fragment=n,$e.Profiler=a,$e.PureComponent=j,$e.StrictMode=o,$e.Suspense=p,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,$e.act=z,$e.cloneElement=function(E,D,K){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var te=k({},E.props),we=E.key,se=E.ref,X=E._owner;if(D!=null){if(D.ref!==void 0&&(se=D.ref,X=H.current),D.key!==void 0&&(we=""+D.key),E.type&&E.type.defaultProps)var oe=E.type.defaultProps;for(_e in D)$.call(D,_e)&&!V.hasOwnProperty(_e)&&(te[_e]=D[_e]===void 0&&oe!==void 0?oe[_e]:D[_e])}var _e=arguments.length-2;if(_e===1)te.children=K;else if(1<_e){oe=Array(_e);for(var Ee=0;Ee<_e;Ee++)oe[Ee]=arguments[Ee+2];te.children=oe}return{$$typeof:t,type:E.type,key:we,ref:se,props:te,_owner:X}},$e.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},$e.createElement=B,$e.createFactory=function(E){var D=B.bind(null,E);return D.type=E,D},$e.createRef=function(){return{current:null}},$e.forwardRef=function(E){return{$$typeof:f,render:E}},$e.isValidElement=le,$e.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:W}},$e.memo=function(E,D){return{$$typeof:m,type:E,compare:D===void 0?null:D}},$e.startTransition=function(E){var D=O.transition;O.transition={};try{E()}finally{O.transition=D}},$e.unstable_act=z,$e.useCallback=function(E,D){return Y.current.useCallback(E,D)},$e.useContext=function(E){return Y.current.useContext(E)},$e.useDebugValue=function(){},$e.useDeferredValue=function(E){return Y.current.useDeferredValue(E)},$e.useEffect=function(E,D){return Y.current.useEffect(E,D)},$e.useId=function(){return Y.current.useId()},$e.useImperativeHandle=function(E,D,K){return Y.current.useImperativeHandle(E,D,K)},$e.useInsertionEffect=function(E,D){return Y.current.useInsertionEffect(E,D)},$e.useLayoutEffect=function(E,D){return Y.current.useLayoutEffect(E,D)},$e.useMemo=function(E,D){return Y.current.useMemo(E,D)},$e.useReducer=function(E,D,K){return Y.current.useReducer(E,D,K)},$e.useRef=function(E){return Y.current.useRef(E)},$e.useState=function(E){return Y.current.useState(E)},$e.useSyncExternalStore=function(E,D,K){return Y.current.useSyncExternalStore(E,D,K)},$e.useTransition=function(){return Y.current.useTransition()},$e.version="18.3.1",$e}var ng;function Kd(){return ng||(ng=1,Du.exports=Tx()),Du.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function jx(){if(sg)return ji;sg=1;var t=Kd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,m){var y,v={},S=null,_=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(_=p.ref);for(y in p)o.call(p,y)&&!l.hasOwnProperty(y)&&(v[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:e,type:f,key:S,ref:_,props:v,_owner:a.current}}return ji.Fragment=n,ji.jsx=u,ji.jsxs=u,ji}var og;function Nx(){return og||(og=1,Au.exports=jx()),Au.exports}var d=Nx(),sl={},Lu={exports:{}},dr={},Mu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function Ox(){return ig||(ig=1,(function(t){function e(O,U){var z=O.length;O.push(U);e:for(;0<z;){var E=z-1>>>1,D=O[E];if(0<a(D,U))O[E]=U,O[z]=D,z=E;else break e}}function n(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var U=O[0],z=O.pop();if(z!==U){O[0]=z;e:for(var E=0,D=O.length,K=D>>>1;E<K;){var te=2*(E+1)-1,we=O[te],se=te+1,X=O[se];if(0>a(we,z))se<D&&0>a(X,we)?(O[E]=X,O[se]=z,E=se):(O[E]=we,O[te]=z,E=te);else if(se<D&&0>a(X,z))O[E]=X,O[se]=z,E=se;else break e}}return U}function a(O,U){var z=O.sortIndex-U.sortIndex;return z!==0?z:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,v=null,S=3,_=!1,k=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(O){for(var U=n(m);U!==null;){if(U.callback===null)o(m);else if(U.startTime<=O)o(m),U.sortIndex=U.expirationTime,e(p,U);else break;U=n(m)}}function A(O){if(b=!1,R(O),!k)if(n(p)!==null)k=!0,W($);else{var U=n(m);U!==null&&Y(A,U.startTime-O)}}function $(O,U){k=!1,b&&(b=!1,T(B),B=-1),_=!0;var z=S;try{for(R(U),v=n(p);v!==null&&(!(v.expirationTime>U)||O&&!de());){var E=v.callback;if(typeof E=="function"){v.callback=null,S=v.priorityLevel;var D=E(v.expirationTime<=U);U=t.unstable_now(),typeof D=="function"?v.callback=D:v===n(p)&&o(p),R(U)}else o(p);v=n(p)}if(v!==null)var K=!0;else{var te=n(m);te!==null&&Y(A,te.startTime-U),K=!1}return K}finally{v=null,S=z,_=!1}}var H=!1,V=null,B=-1,ne=5,le=-1;function de(){return!(t.unstable_now()-le<ne)}function me(){if(V!==null){var O=t.unstable_now();le=O;var U=!0;try{U=V(!0,O)}finally{U?ce():(H=!1,V=null)}}else H=!1}var ce;if(typeof j=="function")ce=function(){j(me)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,G=fe.port2;fe.port1.onmessage=me,ce=function(){G.postMessage(null)}}else ce=function(){C(me,0)};function W(O){V=O,H||(H=!0,ce())}function Y(O,U){B=C(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){k||_||(k=!0,W($))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(O){switch(S){case 1:case 2:case 3:var U=3;break;default:U=S}var z=S;S=U;try{return O()}finally{S=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=S;S=O;try{return U()}finally{S=z}},t.unstable_scheduleCallback=function(O,U,z){var E=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?E+z:E):z=E,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=z+D,O={id:y++,callback:U,priorityLevel:O,startTime:z,expirationTime:D,sortIndex:-1},z>E?(O.sortIndex=z,e(m,O),n(p)===null&&O===n(m)&&(b?(T(B),B=-1):b=!0,Y(A,z-E))):(O.sortIndex=D,e(p,O),k||_||(k=!0,W($))),O},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(O){var U=S;return function(){var z=S;S=U;try{return O.apply(this,arguments)}finally{S=z}}}})($u)),$u}var ag;function Rx(){return ag||(ag=1,Mu.exports=Ox()),Mu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function Px(){if(lg)return dr;lg=1;var t=Kd(),e=Rx();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(a[r]=s,r=0;r<s.length;r++)o.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function S(r){return p.call(v,r)?!0:p.call(y,r)?!1:m.test(r)?v[r]=!0:(y[r]=!0,!1)}function _(r,s,i,c){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,s,i,c){if(s===null||typeof s>"u"||_(r,s,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,i,c,h,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];C[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function j(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(T,j);C[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(T,j);C[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(T,j);C[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,s,i,c){var h=C.hasOwnProperty(s)?C[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,i,h,c)&&(i=null),c||h===null?S(s)&&(i===null?r.removeAttribute(s):r.setAttribute(s,""+i)):h.mustUseProperty?r[h.propertyName]=i===null?h.type===3?!1:"":i:(s=h.attributeName,c=h.attributeNamespace,i===null?r.removeAttribute(s):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,c?r.setAttributeNS(c,s,i):r.setAttribute(s,i))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),H=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),de=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),O=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var z=Object.assign,E;function D(r){if(E===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);E=s&&s[1]||""}return`
`+E+r}var K=!1;function te(r,s){if(!r||K)return"";K=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(F){var c=F}Reflect.construct(r,[],s)}else{try{s.call()}catch(F){c=F}r.call(s.prototype)}else{try{throw Error()}catch(F){c=F}r()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),g=c.stack.split(`
`),w=h.length-1,N=g.length-1;1<=w&&0<=N&&h[w]!==g[N];)N--;for(;1<=w&&0<=N;w--,N--)if(h[w]!==g[N]){if(w!==1||N!==1)do if(w--,N--,0>N||h[w]!==g[N]){var P=`
`+h[w].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=w&&0<=N);break}}}finally{K=!1,Error.prepareStackTrace=i}return(r=r?r.displayName||r.name:"")?D(r):""}function we(r){switch(r.tag){case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return r=te(r.type,!1),r;case 11:return r=te(r.type.render,!1),r;case 1:return r=te(r.type,!0),r;default:return""}}function se(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case H:return"Portal";case ne:return"Profiler";case B:return"StrictMode";case ce:return"Suspense";case fe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case de:return(r.displayName||"Context")+".Consumer";case le:return(r._context.displayName||"Context")+".Provider";case me:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return s=r.displayName||null,s!==null?s:se(r.type)||"Memo";case W:s=r._payload,r=r._init;try{return se(r(s))}catch{}}return null}function X(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(s);case 8:return s===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function _e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ee(r){var s=_e(r)?"checked":"value",i=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,g=i.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Pe(r){r._valueTracker||(r._valueTracker=Ee(r))}function Ae(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return r&&(c=_e(r)?r.checked?"true":"false":r.value),r=c,r!==i?(s.setValue(r),!0):!1}function ht(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Nt(r,s){var i=s.checked;return z({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??r._wrapperState.initialChecked})}function Er(r,s){var i=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;i=oe(s.value!=null?s.value:i),r._wrapperState={initialChecked:c,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ut(r,s){s=s.checked,s!=null&&R(r,"checked",s,!1)}function Bt(r,s){Ut(r,s);var i=oe(s.value),c=s.type;if(i!=null)c==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+i):r.value!==""+i&&(r.value=""+i);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ot(r,s.type,i):s.hasOwnProperty("defaultValue")&&Ot(r,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Mr(r,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,i||s===r.value||(r.value=s),r.defaultValue=s}i=r.name,i!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,i!==""&&(r.name=i)}function Ot(r,s,i){(s!=="number"||ht(r.ownerDocument)!==r)&&(i==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+i&&(r.defaultValue=""+i))}var bn=Array.isArray;function en(r,s,i,c){if(r=r.options,s){s={};for(var h=0;h<i.length;h++)s["$"+i[h]]=!0;for(i=0;i<r.length;i++)h=s.hasOwnProperty("$"+r[i].value),r[i].selected!==h&&(r[i].selected=h),h&&c&&(r[i].defaultSelected=!0)}else{for(i=""+oe(i),s=null,h=0;h<r.length;h++){if(r[h].value===i){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function pt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $r(r,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(n(92));if(bn(i)){if(1<i.length)throw Error(n(93));i=i[0]}s=i}s==null&&(s=""),i=s}r._wrapperState={initialValue:oe(i)}}function Ws(r,s){var i=oe(s.value),c=oe(s.defaultValue);i!=null&&(i=""+i,i!==r.value&&(r.value=i),s.defaultValue==null&&r.defaultValue!==i&&(r.defaultValue=i)),c!=null&&(r.defaultValue=""+c)}function qs(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Sn(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fn(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Sn(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _n,zn=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,i,c,h)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(_n=_n||document.createElement("div"),_n.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_n.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function q(r,s){if(s){var i=r.firstChild;if(i&&i===r.lastChild&&i.nodeType===3){i.nodeValue=s;return}}r.textContent=s}var ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(r){ke.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ae[s]=ae[r]})});function be(r,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||ae.hasOwnProperty(r)&&ae[r]?(""+s).trim():s+"px"}function Ye(r,s){r=r.style;for(var i in s)if(s.hasOwnProperty(i)){var c=i.indexOf("--")===0,h=be(i,s[i],c);i==="float"&&(i="cssFloat"),c?r.setProperty(i,h):r[i]=h}}var Be=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(r,s){if(s){if(Be[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function pr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Me=null;function Ke(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var kr=null,Gt=null,sr=null;function ws(r){if(r=hi(r)){if(typeof kr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=wa(s),kr(r.stateNode,r.type,s))}}function Ie(r){Gt?sr?sr.push(r):sr=[r]:Gt=r}function Xe(){if(Gt){var r=Gt,s=sr;if(sr=Gt=null,ws(r),s)for(r=0;r<s.length;r++)ws(s[r])}}function kt(r,s){return r(s)}function Ct(){}var tn=!1;function bt(r,s,i){if(tn)return r(s,i);tn=!0;try{return kt(r,s,i)}finally{tn=!1,(Gt!==null||sr!==null)&&(Ct(),Xe())}}function Je(r,s){var i=r.stateNode;if(i===null)return null;var c=wa(i);if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(i&&typeof i!="function")throw Error(n(231,s,typeof i));return i}var or=!1;if(f)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){or=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{or=!1}function Rt(r,s,i,c,h,g,w,N,P){var F=Array.prototype.slice.call(arguments,3);try{s.apply(i,F)}catch(Q){this.onError(Q)}}var Cr=!1,Zt=null,En=!1,xs=null,Qi={onError:function(r){Cr=!0,Zt=r}};function qo(r,s,i,c,h,g,w,N,P){Cr=!1,Zt=null,Rt.apply(Qi,arguments)}function Zl(r,s,i,c,h,g,w,N,P){if(qo.apply(this,arguments),Cr){if(Cr){var F=Zt;Cr=!1,Zt=null}else throw Error(n(198));En||(En=!0,xs=F)}}function kn(r){var s=r,i=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(i=s.return),r=s.return;while(r)}return s.tag===3?i:null}function Un(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ve(r){if(kn(r)!==r)throw Error(n(188))}function gt(r){var s=r.alternate;if(!s){if(s=kn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var i=r,c=s;;){var h=i.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===i)return ve(h),r;if(g===c)return ve(h),s;g=g.sibling}throw Error(n(188))}if(i.return!==c.return)i=h,c=g;else{for(var w=!1,N=h.child;N;){if(N===i){w=!0,i=h,c=g;break}if(N===c){w=!0,c=h,i=g;break}N=N.sibling}if(!w){for(N=g.child;N;){if(N===i){w=!0,i=g,c=h;break}if(N===c){w=!0,c=g,i=h;break}N=N.sibling}if(!w)throw Error(n(189))}}if(i.alternate!==c)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?r:s}function dt(r){return r=gt(r),r!==null?rn(r):null}function rn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=rn(r);if(s!==null)return s;r=r.sibling}return null}var Fr=e.unstable_scheduleCallback,Ko=e.unstable_cancelCallback,Go=e.unstable_shouldYield,Zi=e.unstable_requestPaint,mt=e.unstable_now,ec=e.unstable_getCurrentPriorityLevel,Ks=e.unstable_ImmediatePriority,Gs=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,zw=e.unstable_LowPriority,Pf=e.unstable_IdlePriority,ea=null,nn=null;function Uw(r){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ea,r,void 0,(r.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:Hw,Bw=Math.log,Vw=Math.LN2;function Hw(r){return r>>>=0,r===0?32:31-(Bw(r)/Vw|0)|0}var ta=64,ra=4194304;function Jo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function na(r,s){var i=r.pendingLanes;if(i===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,w=i&268435455;if(w!==0){var N=w&~h;N!==0?c=Jo(N):(g&=w,g!==0&&(c=Jo(g)))}else w=i&~h,w!==0?c=Jo(w):g!==0&&(c=Jo(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,g=s&-s,h>=g||h===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=i&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)i=31-zr(s),h=1<<i,c|=r[i],s&=~h;return c}function Ww(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qw(r,s){for(var i=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-zr(g),N=1<<w,P=h[w];P===-1?((N&i)===0||(N&c)!==0)&&(h[w]=Ww(N,s)):P<=s&&(r.expiredLanes|=N),g&=~N}}function tc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function If(){var r=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),r}function rc(r){for(var s=[],i=0;31>i;i++)s.push(r);return s}function Yo(r,s,i){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-zr(s),r[s]=i}function Kw(r,s){var i=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<i;){var h=31-zr(i),g=1<<h;s[h]=0,c[h]=-1,r[h]=-1,i&=~g}}function nc(r,s){var i=r.entangledLanes|=s;for(r=r.entanglements;i;){var c=31-zr(i),h=1<<c;h&s|r[c]&s&&(r[c]|=s),i&=~h}}var qe=0;function Af(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Df,sc,Lf,Mf,$f,oc=!1,sa=[],Vn=null,Hn=null,Wn=null,Xo=new Map,Qo=new Map,qn=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ff(r,s){switch(r){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Xo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(s.pointerId)}}function Zo(r,s,i,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=hi(s),s!==null&&sc(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Jw(r,s,i,c,h){switch(s){case"focusin":return Vn=Zo(Vn,r,s,i,c,h),!0;case"dragenter":return Hn=Zo(Hn,r,s,i,c,h),!0;case"mouseover":return Wn=Zo(Wn,r,s,i,c,h),!0;case"pointerover":var g=h.pointerId;return Xo.set(g,Zo(Xo.get(g)||null,r,s,i,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Qo.set(g,Zo(Qo.get(g)||null,r,s,i,c,h)),!0}return!1}function zf(r){var s=bs(r.target);if(s!==null){var i=kn(s);if(i!==null){if(s=i.tag,s===13){if(s=Un(i),s!==null){r.blockedOn=s,$f(r.priority,function(){Lf(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){r.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}r.blockedOn=null}function oa(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var i=ac(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(i===null){i=r.nativeEvent;var c=new i.constructor(i.type,i);Me=c,i.target.dispatchEvent(c),Me=null}else return s=hi(i),s!==null&&sc(s),r.blockedOn=i,!1;s.shift()}return!0}function Uf(r,s,i){oa(r)&&i.delete(s)}function Yw(){oc=!1,Vn!==null&&oa(Vn)&&(Vn=null),Hn!==null&&oa(Hn)&&(Hn=null),Wn!==null&&oa(Wn)&&(Wn=null),Xo.forEach(Uf),Qo.forEach(Uf)}function ei(r,s){r.blockedOn===s&&(r.blockedOn=null,oc||(oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yw)))}function ti(r){function s(h){return ei(h,r)}if(0<sa.length){ei(sa[0],r);for(var i=1;i<sa.length;i++){var c=sa[i];c.blockedOn===r&&(c.blockedOn=null)}}for(Vn!==null&&ei(Vn,r),Hn!==null&&ei(Hn,r),Wn!==null&&ei(Wn,r),Xo.forEach(s),Qo.forEach(s),i=0;i<qn.length;i++)c=qn[i],c.blockedOn===r&&(c.blockedOn=null);for(;0<qn.length&&(i=qn[0],i.blockedOn===null);)zf(i),i.blockedOn===null&&qn.shift()}var Js=A.ReactCurrentBatchConfig,ia=!0;function Xw(r,s,i,c){var h=qe,g=Js.transition;Js.transition=null;try{qe=1,ic(r,s,i,c)}finally{qe=h,Js.transition=g}}function Qw(r,s,i,c){var h=qe,g=Js.transition;Js.transition=null;try{qe=4,ic(r,s,i,c)}finally{qe=h,Js.transition=g}}function ic(r,s,i,c){if(ia){var h=ac(r,s,i,c);if(h===null)Ec(r,s,c,aa,i),Ff(r,c);else if(Jw(h,r,s,i,c))c.stopPropagation();else if(Ff(r,c),s&4&&-1<Gw.indexOf(r)){for(;h!==null;){var g=hi(h);if(g!==null&&Df(g),g=ac(r,s,i,c),g===null&&Ec(r,s,c,aa,i),g===h)break;h=g}h!==null&&c.stopPropagation()}else Ec(r,s,c,null,i)}}var aa=null;function ac(r,s,i,c){if(aa=null,r=Ke(c),r=bs(r),r!==null)if(s=kn(r),s===null)r=null;else if(i=s.tag,i===13){if(r=Un(s),r!==null)return r;r=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return aa=r,null}function Bf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case Ks:return 1;case Gs:return 4;case Bn:case zw:return 16;case Pf:return 536870912;default:return 16}default:return 16}}var Kn=null,lc=null,la=null;function Vf(){if(la)return la;var r,s=lc,i=s.length,c,h="value"in Kn?Kn.value:Kn.textContent,g=h.length;for(r=0;r<i&&s[r]===h[r];r++);var w=i-r;for(c=1;c<=w&&s[i-c]===h[g-c];c++);return la=h.slice(r,1<c?1-c:void 0)}function ca(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ua(){return!0}function Hf(){return!1}function gr(r){function s(i,c,h,g,w){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(i=r[N],this[N]=i?i(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ua:Hf,this.isPropagationStopped=Hf,this}return z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),s}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=gr(Ys),ri=z({},Ys,{view:0,detail:0}),Zw=gr(ri),uc,dc,ni,da=z({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ni&&(ni&&r.type==="mousemove"?(uc=r.screenX-ni.screenX,dc=r.screenY-ni.screenY):dc=uc=0,ni=r),uc)},movementY:function(r){return"movementY"in r?r.movementY:dc}}),Wf=gr(da),e0=z({},da,{dataTransfer:0}),t0=gr(e0),r0=z({},ri,{relatedTarget:0}),fc=gr(r0),n0=z({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),s0=gr(n0),o0=z({},Ys,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),i0=gr(o0),a0=z({},Ys,{data:0}),qf=gr(a0),l0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d0(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=u0[r])?!!s[r]:!1}function hc(){return d0}var f0=z({},ri,{key:function(r){if(r.key){var s=l0[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ca(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?c0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(r){return r.type==="keypress"?ca(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ca(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),h0=gr(f0),p0=z({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=gr(p0),g0=z({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),m0=gr(g0),v0=z({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0=gr(v0),w0=z({},da,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=gr(w0),b0=[9,13,27,32],pc=f&&"CompositionEvent"in window,si=null;f&&"documentMode"in document&&(si=document.documentMode);var S0=f&&"TextEvent"in window&&!si,Gf=f&&(!pc||si&&8<si&&11>=si),Jf=" ",Yf=!1;function Xf(r,s){switch(r){case"keyup":return b0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xs=!1;function _0(r,s){switch(r){case"compositionend":return Qf(s);case"keypress":return s.which!==32?null:(Yf=!0,Jf);case"textInput":return r=s.data,r===Jf&&Yf?null:r;default:return null}}function E0(r,s){if(Xs)return r==="compositionend"||!pc&&Xf(r,s)?(r=Vf(),la=lc=Kn=null,Xs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gf&&s.locale!=="ko"?null:s.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!k0[r.type]:s==="textarea"}function eh(r,s,i,c){Ie(c),s=ma(s,"onChange"),0<s.length&&(i=new cc("onChange","change",null,i,c),r.push({event:i,listeners:s}))}var oi=null,ii=null;function C0(r){yh(r,0)}function fa(r){var s=ro(r);if(Ae(s))return r}function T0(r,s){if(r==="change")return s}var th=!1;if(f){var gc;if(f){var mc="oninput"in document;if(!mc){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),mc=typeof rh.oninput=="function"}gc=mc}else gc=!1;th=gc&&(!document.documentMode||9<document.documentMode)}function nh(){oi&&(oi.detachEvent("onpropertychange",sh),ii=oi=null)}function sh(r){if(r.propertyName==="value"&&fa(ii)){var s=[];eh(s,ii,r,Ke(r)),bt(C0,s)}}function j0(r,s,i){r==="focusin"?(nh(),oi=s,ii=i,oi.attachEvent("onpropertychange",sh)):r==="focusout"&&nh()}function N0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fa(ii)}function O0(r,s){if(r==="click")return fa(s)}function R0(r,s){if(r==="input"||r==="change")return fa(s)}function P0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ur=typeof Object.is=="function"?Object.is:P0;function ai(r,s){if(Ur(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var i=Object.keys(r),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!p.call(s,h)||!Ur(r[h],s[h]))return!1}return!0}function oh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ih(r,s){var i=oh(r);r=0;for(var c;i;){if(i.nodeType===3){if(c=r+i.textContent.length,r<=s&&c>=s)return{node:i,offset:s-r};r=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=oh(i)}}function ah(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ah(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function lh(){for(var r=window,s=ht();s instanceof r.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)r=s.contentWindow;else break;s=ht(r.document)}return s}function vc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function I0(r){var s=lh(),i=r.focusedElem,c=r.selectionRange;if(s!==i&&i&&i.ownerDocument&&ah(i.ownerDocument.documentElement,i)){if(c!==null&&vc(i)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(r,i.value.length);else if(r=(s=i.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=i.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!r.extend&&g>c&&(h=c,c=g,g=h),h=ih(i,g);var w=ih(i,c);h&&w&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=i;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)r=s[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var A0=f&&"documentMode"in document&&11>=document.documentMode,Qs=null,yc=null,li=null,wc=!1;function ch(r,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;wc||Qs==null||Qs!==ht(c)||(c=Qs,"selectionStart"in c&&vc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),li&&ai(li,c)||(li=c,c=ma(yc,"onSelect"),0<c.length&&(s=new cc("onSelect","select",null,s,i),r.push({event:s,listeners:c}),s.target=Qs)))}function ha(r,s){var i={};return i[r.toLowerCase()]=s.toLowerCase(),i["Webkit"+r]="webkit"+s,i["Moz"+r]="moz"+s,i}var Zs={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionend:ha("Transition","TransitionEnd")},xc={},uh={};f&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function pa(r){if(xc[r])return xc[r];if(!Zs[r])return r;var s=Zs[r],i;for(i in s)if(s.hasOwnProperty(i)&&i in uh)return xc[r]=s[i];return r}var dh=pa("animationend"),fh=pa("animationiteration"),hh=pa("animationstart"),ph=pa("transitionend"),gh=new Map,mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(r,s){gh.set(r,s),l(s,[r])}for(var bc=0;bc<mh.length;bc++){var Sc=mh[bc],D0=Sc.toLowerCase(),L0=Sc[0].toUpperCase()+Sc.slice(1);Gn(D0,"on"+L0)}Gn(dh,"onAnimationEnd"),Gn(fh,"onAnimationIteration"),Gn(hh,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(ph,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function vh(r,s,i){var c=r.type||"unknown-event";r.currentTarget=i,Zl(c,s,void 0,r),r.currentTarget=null}function yh(r,s){s=(s&4)!==0;for(var i=0;i<r.length;i++){var c=r[i],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var N=c[w],P=N.instance,F=N.currentTarget;if(N=N.listener,P!==g&&h.isPropagationStopped())break e;vh(h,N,F),g=P}else for(w=0;w<c.length;w++){if(N=c[w],P=N.instance,F=N.currentTarget,N=N.listener,P!==g&&h.isPropagationStopped())break e;vh(h,N,F),g=P}}}if(En)throw r=xs,En=!1,xs=null,r}function it(r,s){var i=s[Oc];i===void 0&&(i=s[Oc]=new Set);var c=r+"__bubble";i.has(c)||(wh(s,r,2,!1),i.add(c))}function _c(r,s,i){var c=0;s&&(c|=4),wh(i,r,c,s)}var ga="_reactListening"+Math.random().toString(36).slice(2);function ui(r){if(!r[ga]){r[ga]=!0,o.forEach(function(i){i!=="selectionchange"&&(M0.has(i)||_c(i,!1,r),_c(i,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ga]||(s[ga]=!0,_c("selectionchange",!1,s))}}function wh(r,s,i,c){switch(Bf(s)){case 1:var h=Xw;break;case 4:h=Qw;break;default:h=ic}i=h.bind(null,s,i,r),h=void 0,!or||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,i,{capture:!0,passive:h}):r.addEventListener(s,i,!0):h!==void 0?r.addEventListener(s,i,{passive:h}):r.addEventListener(s,i,!1)}function Ec(r,s,i,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var N=c.stateNode.containerInfo;if(N===h||N.nodeType===8&&N.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;w=w.return}for(;N!==null;){if(w=bs(N),w===null)return;if(P=w.tag,P===5||P===6){c=g=w;continue e}N=N.parentNode}}c=c.return}bt(function(){var F=g,Q=Ke(i),Z=[];e:{var J=gh.get(r);if(J!==void 0){var ie=cc,he=r;switch(r){case"keypress":if(ca(i)===0)break e;case"keydown":case"keyup":ie=h0;break;case"focusin":he="focus",ie=fc;break;case"focusout":he="blur",ie=fc;break;case"beforeblur":case"afterblur":ie=fc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=t0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=m0;break;case dh:case fh:case hh:ie=s0;break;case ph:ie=y0;break;case"scroll":ie=Zw;break;case"wheel":ie=x0;break;case"copy":case"cut":case"paste":ie=i0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Kf}var ye=(s&4)!==0,jt=!ye&&r==="scroll",L=ye?J!==null?J+"Capture":null:J;ye=[];for(var I=F,M;I!==null;){M=I;var ee=M.stateNode;if(M.tag===5&&ee!==null&&(M=ee,L!==null&&(ee=Je(I,L),ee!=null&&ye.push(di(I,ee,M)))),jt)break;I=I.return}0<ye.length&&(J=new ie(J,he,null,i,Q),Z.push({event:J,listeners:ye}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",J&&i!==Me&&(he=i.relatedTarget||i.fromElement)&&(bs(he)||he[Cn]))break e;if((ie||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(he=i.relatedTarget||i.toElement,ie=F,he=he?bs(he):null,he!==null&&(jt=kn(he),he!==jt||he.tag!==5&&he.tag!==6)&&(he=null)):(ie=null,he=F),ie!==he)){if(ye=Wf,ee="onMouseLeave",L="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(ye=Kf,ee="onPointerLeave",L="onPointerEnter",I="pointer"),jt=ie==null?J:ro(ie),M=he==null?J:ro(he),J=new ye(ee,I+"leave",ie,i,Q),J.target=jt,J.relatedTarget=M,ee=null,bs(Q)===F&&(ye=new ye(L,I+"enter",he,i,Q),ye.target=M,ye.relatedTarget=jt,ee=ye),jt=ee,ie&&he)t:{for(ye=ie,L=he,I=0,M=ye;M;M=eo(M))I++;for(M=0,ee=L;ee;ee=eo(ee))M++;for(;0<I-M;)ye=eo(ye),I--;for(;0<M-I;)L=eo(L),M--;for(;I--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=eo(ye),L=eo(L)}ye=null}else ye=null;ie!==null&&xh(Z,J,ie,ye,!1),he!==null&&jt!==null&&xh(Z,jt,he,ye,!0)}}e:{if(J=F?ro(F):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var xe=T0;else if(Zf(J))if(th)xe=R0;else{xe=N0;var Ce=j0}else(ie=J.nodeName)&&ie.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(xe=O0);if(xe&&(xe=xe(r,F))){eh(Z,xe,i,Q);break e}Ce&&Ce(r,J,F),r==="focusout"&&(Ce=J._wrapperState)&&Ce.controlled&&J.type==="number"&&Ot(J,"number",J.value)}switch(Ce=F?ro(F):window,r){case"focusin":(Zf(Ce)||Ce.contentEditable==="true")&&(Qs=Ce,yc=F,li=null);break;case"focusout":li=yc=Qs=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,ch(Z,i,Q);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":ch(Z,i,Q)}var Te;if(pc)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Xs?Xf(r,i)&&(Re="onCompositionEnd"):r==="keydown"&&i.keyCode===229&&(Re="onCompositionStart");Re&&(Gf&&i.locale!=="ko"&&(Xs||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Xs&&(Te=Vf()):(Kn=Q,lc="value"in Kn?Kn.value:Kn.textContent,Xs=!0)),Ce=ma(F,Re),0<Ce.length&&(Re=new qf(Re,r,null,i,Q),Z.push({event:Re,listeners:Ce}),Te?Re.data=Te:(Te=Qf(i),Te!==null&&(Re.data=Te)))),(Te=S0?_0(r,i):E0(r,i))&&(F=ma(F,"onBeforeInput"),0<F.length&&(Q=new qf("onBeforeInput","beforeinput",null,i,Q),Z.push({event:Q,listeners:F}),Q.data=Te))}yh(Z,s)})}function di(r,s,i){return{instance:r,listener:s,currentTarget:i}}function ma(r,s){for(var i=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=Je(r,i),g!=null&&c.unshift(di(r,g,h)),g=Je(r,s),g!=null&&c.push(di(r,g,h))),r=r.return}return c}function eo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function xh(r,s,i,c,h){for(var g=s._reactName,w=[];i!==null&&i!==c;){var N=i,P=N.alternate,F=N.stateNode;if(P!==null&&P===c)break;N.tag===5&&F!==null&&(N=F,h?(P=Je(i,g),P!=null&&w.unshift(di(i,P,N))):h||(P=Je(i,g),P!=null&&w.push(di(i,P,N)))),i=i.return}w.length!==0&&r.push({event:s,listeners:w})}var $0=/\r\n?/g,F0=/\u0000|\uFFFD/g;function bh(r){return(typeof r=="string"?r:""+r).replace($0,`
`).replace(F0,"")}function va(r,s,i){if(s=bh(s),bh(r)!==s&&i)throw Error(n(425))}function ya(){}var kc=null,Cc=null;function Tc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jc=typeof setTimeout=="function"?setTimeout:void 0,z0=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(r){return Sh.resolve(null).then(r).catch(B0)}:jc;function B0(r){setTimeout(function(){throw r})}function Nc(r,s){var i=s,c=0;do{var h=i.nextSibling;if(r.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(c===0){r.removeChild(h),ti(s);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=h}while(i);ti(s)}function Jn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function _h(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return r;s--}else i==="/$"&&s++}r=r.previousSibling}return null}var to=Math.random().toString(36).slice(2),sn="__reactFiber$"+to,fi="__reactProps$"+to,Cn="__reactContainer$"+to,Oc="__reactEvents$"+to,V0="__reactListeners$"+to,H0="__reactHandles$"+to;function bs(r){var s=r[sn];if(s)return s;for(var i=r.parentNode;i;){if(s=i[Cn]||i[sn]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(r=_h(r);r!==null;){if(i=r[sn])return i;r=_h(r)}return s}r=i,i=r.parentNode}return null}function hi(r){return r=r[sn]||r[Cn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ro(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function wa(r){return r[fi]||null}var Rc=[],no=-1;function Yn(r){return{current:r}}function at(r){0>no||(r.current=Rc[no],Rc[no]=null,no--)}function Qe(r,s){no++,Rc[no]=r.current,r.current=s}var Xn={},Jt=Yn(Xn),ir=Yn(!1),Ss=Xn;function so(r,s){var i=r.type.contextTypes;if(!i)return Xn;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in i)h[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function ar(r){return r=r.childContextTypes,r!=null}function xa(){at(ir),at(Jt)}function Eh(r,s,i){if(Jt.current!==Xn)throw Error(n(168));Qe(Jt,s),Qe(ir,i)}function kh(r,s,i){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(n(108,X(r)||"Unknown",h));return z({},i,c)}function ba(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Xn,Ss=Jt.current,Qe(Jt,r),Qe(ir,ir.current),!0}function Ch(r,s,i){var c=r.stateNode;if(!c)throw Error(n(169));i?(r=kh(r,s,Ss),c.__reactInternalMemoizedMergedChildContext=r,at(ir),at(Jt),Qe(Jt,r)):at(ir),Qe(ir,i)}var Tn=null,Sa=!1,Pc=!1;function Th(r){Tn===null?Tn=[r]:Tn.push(r)}function W0(r){Sa=!0,Th(r)}function Qn(){if(!Pc&&Tn!==null){Pc=!0;var r=0,s=qe;try{var i=Tn;for(qe=1;r<i.length;r++){var c=i[r];do c=c(!0);while(c!==null)}Tn=null,Sa=!1}catch(h){throw Tn!==null&&(Tn=Tn.slice(r+1)),Fr(Ks,Qn),h}finally{qe=s,Pc=!1}}return null}var oo=[],io=0,_a=null,Ea=0,Tr=[],jr=0,_s=null,jn=1,Nn="";function Es(r,s){oo[io++]=Ea,oo[io++]=_a,_a=r,Ea=s}function jh(r,s,i){Tr[jr++]=jn,Tr[jr++]=Nn,Tr[jr++]=_s,_s=r;var c=jn;r=Nn;var h=32-zr(c)-1;c&=~(1<<h),i+=1;var g=32-zr(s)+h;if(30<g){var w=h-h%5;g=(c&(1<<w)-1).toString(32),c>>=w,h-=w,jn=1<<32-zr(s)+h|i<<h|c,Nn=g+r}else jn=1<<g|i<<h|c,Nn=r}function Ic(r){r.return!==null&&(Es(r,1),jh(r,1,0))}function Ac(r){for(;r===_a;)_a=oo[--io],oo[io]=null,Ea=oo[--io],oo[io]=null;for(;r===_s;)_s=Tr[--jr],Tr[jr]=null,Nn=Tr[--jr],Tr[jr]=null,jn=Tr[--jr],Tr[jr]=null}var mr=null,vr=null,ft=!1,Br=null;function Nh(r,s){var i=Pr(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=r,s=r.deletions,s===null?(r.deletions=[i],r.flags|=16):s.push(i)}function Oh(r,s){switch(r.tag){case 5:var i=r.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mr=r,vr=Jn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mr=r,vr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=_s!==null?{id:jn,overflow:Nn}:null,r.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Pr(18,null,null,0),i.stateNode=s,i.return=r,r.child=i,mr=r,vr=null,!0):!1;default:return!1}}function Dc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Lc(r){if(ft){var s=vr;if(s){var i=s;if(!Oh(r,s)){if(Dc(r))throw Error(n(418));s=Jn(i.nextSibling);var c=mr;s&&Oh(r,s)?Nh(c,i):(r.flags=r.flags&-4097|2,ft=!1,mr=r)}}else{if(Dc(r))throw Error(n(418));r.flags=r.flags&-4097|2,ft=!1,mr=r}}}function Rh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mr=r}function ka(r){if(r!==mr)return!1;if(!ft)return Rh(r),ft=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Tc(r.type,r.memoizedProps)),s&&(s=vr)){if(Dc(r))throw Ph(),Error(n(418));for(;s;)Nh(r,s),s=Jn(s.nextSibling)}if(Rh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="/$"){if(s===0){vr=Jn(r.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}r=r.nextSibling}vr=null}}else vr=mr?Jn(r.stateNode.nextSibling):null;return!0}function Ph(){for(var r=vr;r;)r=Jn(r.nextSibling)}function ao(){vr=mr=null,ft=!1}function Mc(r){Br===null?Br=[r]:Br.push(r)}var q0=A.ReactCurrentBatchConfig;function pi(r,s,i){if(r=i.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var c=i.stateNode}if(!c)throw Error(n(147,r));var h=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var N=h.refs;w===null?delete N[g]:N[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,r))}return r}function Ca(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Ih(r){var s=r._init;return s(r._payload)}function Ah(r){function s(L,I){if(r){var M=L.deletions;M===null?(L.deletions=[I],L.flags|=16):M.push(I)}}function i(L,I){if(!r)return null;for(;I!==null;)s(L,I),I=I.sibling;return null}function c(L,I){for(L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function h(L,I){return L=is(L,I),L.index=0,L.sibling=null,L}function g(L,I,M){return L.index=M,r?(M=L.alternate,M!==null?(M=M.index,M<I?(L.flags|=2,I):M):(L.flags|=2,I)):(L.flags|=1048576,I)}function w(L){return r&&L.alternate===null&&(L.flags|=2),L}function N(L,I,M,ee){return I===null||I.tag!==6?(I=ju(M,L.mode,ee),I.return=L,I):(I=h(I,M),I.return=L,I)}function P(L,I,M,ee){var xe=M.type;return xe===V?Q(L,I,M.props.children,ee,M.key):I!==null&&(I.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===W&&Ih(xe)===I.type)?(ee=h(I,M.props),ee.ref=pi(L,I,M),ee.return=L,ee):(ee=Ya(M.type,M.key,M.props,null,L.mode,ee),ee.ref=pi(L,I,M),ee.return=L,ee)}function F(L,I,M,ee){return I===null||I.tag!==4||I.stateNode.containerInfo!==M.containerInfo||I.stateNode.implementation!==M.implementation?(I=Nu(M,L.mode,ee),I.return=L,I):(I=h(I,M.children||[]),I.return=L,I)}function Q(L,I,M,ee,xe){return I===null||I.tag!==7?(I=Ps(M,L.mode,ee,xe),I.return=L,I):(I=h(I,M),I.return=L,I)}function Z(L,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return I=ju(""+I,L.mode,M),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $:return M=Ya(I.type,I.key,I.props,null,L.mode,M),M.ref=pi(L,null,I),M.return=L,M;case H:return I=Nu(I,L.mode,M),I.return=L,I;case W:var ee=I._init;return Z(L,ee(I._payload),M)}if(bn(I)||U(I))return I=Ps(I,L.mode,M,null),I.return=L,I;Ca(L,I)}return null}function J(L,I,M,ee){var xe=I!==null?I.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return xe!==null?null:N(L,I,""+M,ee);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $:return M.key===xe?P(L,I,M,ee):null;case H:return M.key===xe?F(L,I,M,ee):null;case W:return xe=M._init,J(L,I,xe(M._payload),ee)}if(bn(M)||U(M))return xe!==null?null:Q(L,I,M,ee,null);Ca(L,M)}return null}function ie(L,I,M,ee,xe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return L=L.get(M)||null,N(I,L,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case $:return L=L.get(ee.key===null?M:ee.key)||null,P(I,L,ee,xe);case H:return L=L.get(ee.key===null?M:ee.key)||null,F(I,L,ee,xe);case W:var Ce=ee._init;return ie(L,I,M,Ce(ee._payload),xe)}if(bn(ee)||U(ee))return L=L.get(M)||null,Q(I,L,ee,xe,null);Ca(I,ee)}return null}function he(L,I,M,ee){for(var xe=null,Ce=null,Te=I,Re=I=0,zt=null;Te!==null&&Re<M.length;Re++){Te.index>Re?(zt=Te,Te=null):zt=Te.sibling;var He=J(L,Te,M[Re],ee);if(He===null){Te===null&&(Te=zt);break}r&&Te&&He.alternate===null&&s(L,Te),I=g(He,I,Re),Ce===null?xe=He:Ce.sibling=He,Ce=He,Te=zt}if(Re===M.length)return i(L,Te),ft&&Es(L,Re),xe;if(Te===null){for(;Re<M.length;Re++)Te=Z(L,M[Re],ee),Te!==null&&(I=g(Te,I,Re),Ce===null?xe=Te:Ce.sibling=Te,Ce=Te);return ft&&Es(L,Re),xe}for(Te=c(L,Te);Re<M.length;Re++)zt=ie(Te,L,Re,M[Re],ee),zt!==null&&(r&&zt.alternate!==null&&Te.delete(zt.key===null?Re:zt.key),I=g(zt,I,Re),Ce===null?xe=zt:Ce.sibling=zt,Ce=zt);return r&&Te.forEach(function(as){return s(L,as)}),ft&&Es(L,Re),xe}function ye(L,I,M,ee){var xe=U(M);if(typeof xe!="function")throw Error(n(150));if(M=xe.call(M),M==null)throw Error(n(151));for(var Ce=xe=null,Te=I,Re=I=0,zt=null,He=M.next();Te!==null&&!He.done;Re++,He=M.next()){Te.index>Re?(zt=Te,Te=null):zt=Te.sibling;var as=J(L,Te,He.value,ee);if(as===null){Te===null&&(Te=zt);break}r&&Te&&as.alternate===null&&s(L,Te),I=g(as,I,Re),Ce===null?xe=as:Ce.sibling=as,Ce=as,Te=zt}if(He.done)return i(L,Te),ft&&Es(L,Re),xe;if(Te===null){for(;!He.done;Re++,He=M.next())He=Z(L,He.value,ee),He!==null&&(I=g(He,I,Re),Ce===null?xe=He:Ce.sibling=He,Ce=He);return ft&&Es(L,Re),xe}for(Te=c(L,Te);!He.done;Re++,He=M.next())He=ie(Te,L,Re,He.value,ee),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?Re:He.key),I=g(He,I,Re),Ce===null?xe=He:Ce.sibling=He,Ce=He);return r&&Te.forEach(function(kx){return s(L,kx)}),ft&&Es(L,Re),xe}function jt(L,I,M,ee){if(typeof M=="object"&&M!==null&&M.type===V&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case $:e:{for(var xe=M.key,Ce=I;Ce!==null;){if(Ce.key===xe){if(xe=M.type,xe===V){if(Ce.tag===7){i(L,Ce.sibling),I=h(Ce,M.props.children),I.return=L,L=I;break e}}else if(Ce.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===W&&Ih(xe)===Ce.type){i(L,Ce.sibling),I=h(Ce,M.props),I.ref=pi(L,Ce,M),I.return=L,L=I;break e}i(L,Ce);break}else s(L,Ce);Ce=Ce.sibling}M.type===V?(I=Ps(M.props.children,L.mode,ee,M.key),I.return=L,L=I):(ee=Ya(M.type,M.key,M.props,null,L.mode,ee),ee.ref=pi(L,I,M),ee.return=L,L=ee)}return w(L);case H:e:{for(Ce=M.key;I!==null;){if(I.key===Ce)if(I.tag===4&&I.stateNode.containerInfo===M.containerInfo&&I.stateNode.implementation===M.implementation){i(L,I.sibling),I=h(I,M.children||[]),I.return=L,L=I;break e}else{i(L,I);break}else s(L,I);I=I.sibling}I=Nu(M,L.mode,ee),I.return=L,L=I}return w(L);case W:return Ce=M._init,jt(L,I,Ce(M._payload),ee)}if(bn(M))return he(L,I,M,ee);if(U(M))return ye(L,I,M,ee);Ca(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,I!==null&&I.tag===6?(i(L,I.sibling),I=h(I,M),I.return=L,L=I):(i(L,I),I=ju(M,L.mode,ee),I.return=L,L=I),w(L)):i(L,I)}return jt}var lo=Ah(!0),Dh=Ah(!1),Ta=Yn(null),ja=null,co=null,$c=null;function Fc(){$c=co=ja=null}function zc(r){var s=Ta.current;at(Ta),r._currentValue=s}function Uc(r,s,i){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===i)break;r=r.return}}function uo(r,s){ja=r,$c=co=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(lr=!0),r.firstContext=null)}function Nr(r){var s=r._currentValue;if($c!==r)if(r={context:r,memoizedValue:s,next:null},co===null){if(ja===null)throw Error(n(308));co=r,ja.dependencies={lanes:0,firstContext:r}}else co=co.next=r;return s}var ks=null;function Bc(r){ks===null?ks=[r]:ks.push(r)}function Lh(r,s,i,c){var h=s.interleaved;return h===null?(i.next=i,Bc(s)):(i.next=h.next,h.next=i),s.interleaved=i,On(r,c)}function On(r,s){r.lanes|=s;var i=r.alternate;for(i!==null&&(i.lanes|=s),i=r,r=r.return;r!==null;)r.childLanes|=s,i=r.alternate,i!==null&&(i.childLanes|=s),i=r,r=r.return;return i.tag===3?i.stateNode:null}var Zn=!1;function Vc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Rn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function es(r,s,i){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,On(r,i)}return h=c.interleaved,h===null?(s.next=s,Bc(c)):(s.next=h.next,h.next=s),c.interleaved=s,On(r,i)}function Na(r,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,i|=c,s.lanes=i,nc(r,i)}}function $h(r,s){var i=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?h=g=w:g=g.next=w,i=i.next}while(i!==null);g===null?h=g=s:g=g.next=s}else h=g=s;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=i;return}r=i.lastBaseUpdate,r===null?i.firstBaseUpdate=s:r.next=s,i.lastBaseUpdate=s}function Oa(r,s,i,c){var h=r.updateQueue;Zn=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var P=N,F=P.next;P.next=null,w===null?g=F:w.next=F,w=P;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,N=Q.lastBaseUpdate,N!==w&&(N===null?Q.firstBaseUpdate=F:N.next=F,Q.lastBaseUpdate=P))}if(g!==null){var Z=h.baseState;w=0,Q=F=P=null,N=g;do{var J=N.lane,ie=N.eventTime;if((c&J)===J){Q!==null&&(Q=Q.next={eventTime:ie,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var he=r,ye=N;switch(J=s,ie=i,ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(ie,Z,J);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,J=typeof he=="function"?he.call(ie,Z,J):he,J==null)break e;Z=z({},Z,J);break e;case 2:Zn=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,J=h.effects,J===null?h.effects=[N]:J.push(N))}else ie={eventTime:ie,lane:J,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Q===null?(F=Q=ie,P=Z):Q=Q.next=ie,w|=J;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;J=N,N=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);if(Q===null&&(P=Z),h.baseState=P,h.firstBaseUpdate=F,h.lastBaseUpdate=Q,s=h.shared.interleaved,s!==null){h=s;do w|=h.lane,h=h.next;while(h!==s)}else g===null&&(h.shared.lanes=0);js|=w,r.lanes=w,r.memoizedState=Z}}function Fh(r,s,i){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=i,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var gi={},on=Yn(gi),mi=Yn(gi),vi=Yn(gi);function Cs(r){if(r===gi)throw Error(n(174));return r}function Hc(r,s){switch(Qe(vi,s),Qe(mi,r),Qe(on,gi),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Fn(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Fn(s,r)}at(on),Qe(on,s)}function fo(){at(on),at(mi),at(vi)}function zh(r){Cs(vi.current);var s=Cs(on.current),i=Fn(s,r.type);s!==i&&(Qe(mi,r),Qe(on,i))}function Wc(r){mi.current===r&&(at(on),at(mi))}var vt=Yn(0);function Ra(r){for(var s=r;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qc=[];function Kc(){for(var r=0;r<qc.length;r++)qc[r]._workInProgressVersionPrimary=null;qc.length=0}var Pa=A.ReactCurrentDispatcher,Gc=A.ReactCurrentBatchConfig,Ts=0,yt=null,At=null,$t=null,Ia=!1,yi=!1,wi=0,K0=0;function Yt(){throw Error(n(321))}function Jc(r,s){if(s===null)return!1;for(var i=0;i<s.length&&i<r.length;i++)if(!Ur(r[i],s[i]))return!1;return!0}function Yc(r,s,i,c,h,g){if(Ts=g,yt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pa.current=r===null||r.memoizedState===null?X0:Q0,r=i(c,h),yi){g=0;do{if(yi=!1,wi=0,25<=g)throw Error(n(301));g+=1,$t=At=null,s.updateQueue=null,Pa.current=Z0,r=i(c,h)}while(yi)}if(Pa.current=La,s=At!==null&&At.next!==null,Ts=0,$t=At=yt=null,Ia=!1,s)throw Error(n(300));return r}function Xc(){var r=wi!==0;return wi=0,r}function an(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?yt.memoizedState=$t=r:$t=$t.next=r,$t}function Or(){if(At===null){var r=yt.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=$t===null?yt.memoizedState:$t.next;if(s!==null)$t=s,At=r;else{if(r===null)throw Error(n(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},$t===null?yt.memoizedState=$t=r:$t=$t.next=r}return $t}function xi(r,s){return typeof s=="function"?s(r):s}function Qc(r){var s=Or(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=r;var c=At,h=c.baseQueue,g=i.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}c.baseQueue=h=g,i.pending=null}if(h!==null){g=h.next,c=c.baseState;var N=w=null,P=null,F=g;do{var Q=F.lane;if((Ts&Q)===Q)P!==null&&(P=P.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:r(c,F.action);else{var Z={lane:Q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};P===null?(N=P=Z,w=c):P=P.next=Z,yt.lanes|=Q,js|=Q}F=F.next}while(F!==null&&F!==g);P===null?w=c:P.next=N,Ur(c,s.memoizedState)||(lr=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=P,i.lastRenderedState=c}if(r=i.interleaved,r!==null){h=r;do g=h.lane,yt.lanes|=g,js|=g,h=h.next;while(h!==r)}else h===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Zc(r){var s=Or(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=r;var c=i.dispatch,h=i.pending,g=s.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do g=r(g,w.action),w=w.next;while(w!==h);Ur(g,s.memoizedState)||(lr=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),i.lastRenderedState=g}return[g,c]}function Uh(){}function Bh(r,s){var i=yt,c=Or(),h=s(),g=!Ur(c.memoizedState,h);if(g&&(c.memoizedState=h,lr=!0),c=c.queue,eu(Wh.bind(null,i,c,r),[r]),c.getSnapshot!==s||g||$t!==null&&$t.memoizedState.tag&1){if(i.flags|=2048,bi(9,Hh.bind(null,i,c,h,s),void 0,null),Ft===null)throw Error(n(349));(Ts&30)!==0||Vh(i,s,h)}return h}function Vh(r,s,i){r.flags|=16384,r={getSnapshot:s,value:i},s=yt.updateQueue,s===null?(s={lastEffect:null,stores:null},yt.updateQueue=s,s.stores=[r]):(i=s.stores,i===null?s.stores=[r]:i.push(r))}function Hh(r,s,i,c){s.value=i,s.getSnapshot=c,qh(s)&&Kh(r)}function Wh(r,s,i){return i(function(){qh(s)&&Kh(r)})}function qh(r){var s=r.getSnapshot;r=r.value;try{var i=s();return!Ur(r,i)}catch{return!0}}function Kh(r){var s=On(r,1);s!==null&&qr(s,r,1,-1)}function Gh(r){var s=an();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:r},s.queue=r,r=r.dispatch=Y0.bind(null,yt,r),[s.memoizedState,r]}function bi(r,s,i,c){return r={tag:r,create:s,destroy:i,deps:c,next:null},s=yt.updateQueue,s===null?(s={lastEffect:null,stores:null},yt.updateQueue=s,s.lastEffect=r.next=r):(i=s.lastEffect,i===null?s.lastEffect=r.next=r:(c=i.next,i.next=r,r.next=c,s.lastEffect=r)),r}function Jh(){return Or().memoizedState}function Aa(r,s,i,c){var h=an();yt.flags|=r,h.memoizedState=bi(1|s,i,void 0,c===void 0?null:c)}function Da(r,s,i,c){var h=Or();c=c===void 0?null:c;var g=void 0;if(At!==null){var w=At.memoizedState;if(g=w.destroy,c!==null&&Jc(c,w.deps)){h.memoizedState=bi(s,i,g,c);return}}yt.flags|=r,h.memoizedState=bi(1|s,i,g,c)}function Yh(r,s){return Aa(8390656,8,r,s)}function eu(r,s){return Da(2048,8,r,s)}function Xh(r,s){return Da(4,2,r,s)}function Qh(r,s){return Da(4,4,r,s)}function Zh(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ep(r,s,i){return i=i!=null?i.concat([r]):null,Da(4,4,Zh.bind(null,s,r),i)}function tu(){}function tp(r,s){var i=Or();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&Jc(s,c[1])?c[0]:(i.memoizedState=[r,s],r)}function rp(r,s){var i=Or();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&Jc(s,c[1])?c[0]:(r=r(),i.memoizedState=[r,s],r)}function np(r,s,i){return(Ts&21)===0?(r.baseState&&(r.baseState=!1,lr=!0),r.memoizedState=i):(Ur(i,s)||(i=If(),yt.lanes|=i,js|=i,r.baseState=!0),s)}function G0(r,s){var i=qe;qe=i!==0&&4>i?i:4,r(!0);var c=Gc.transition;Gc.transition={};try{r(!1),s()}finally{qe=i,Gc.transition=c}}function sp(){return Or().memoizedState}function J0(r,s,i){var c=ss(r);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},op(r))ip(s,i);else if(i=Lh(r,s,i,c),i!==null){var h=tr();qr(i,r,c,h),ap(i,s,c)}}function Y0(r,s,i){var c=ss(r),h={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(op(r))ip(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,N=g(w,i);if(h.hasEagerState=!0,h.eagerState=N,Ur(N,w)){var P=s.interleaved;P===null?(h.next=h,Bc(s)):(h.next=P.next,P.next=h),s.interleaved=h;return}}catch{}finally{}i=Lh(r,s,h,c),i!==null&&(h=tr(),qr(i,r,c,h),ap(i,s,c))}}function op(r){var s=r.alternate;return r===yt||s!==null&&s===yt}function ip(r,s){yi=Ia=!0;var i=r.pending;i===null?s.next=s:(s.next=i.next,i.next=s),r.pending=s}function ap(r,s,i){if((i&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,i|=c,s.lanes=i,nc(r,i)}}var La={readContext:Nr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},X0={readContext:Nr,useCallback:function(r,s){return an().memoizedState=[r,s===void 0?null:s],r},useContext:Nr,useEffect:Yh,useImperativeHandle:function(r,s,i){return i=i!=null?i.concat([r]):null,Aa(4194308,4,Zh.bind(null,s,r),i)},useLayoutEffect:function(r,s){return Aa(4194308,4,r,s)},useInsertionEffect:function(r,s){return Aa(4,2,r,s)},useMemo:function(r,s){var i=an();return s=s===void 0?null:s,r=r(),i.memoizedState=[r,s],r},useReducer:function(r,s,i){var c=an();return s=i!==void 0?i(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=J0.bind(null,yt,r),[c.memoizedState,r]},useRef:function(r){var s=an();return r={current:r},s.memoizedState=r},useState:Gh,useDebugValue:tu,useDeferredValue:function(r){return an().memoizedState=r},useTransition:function(){var r=Gh(!1),s=r[0];return r=G0.bind(null,r[1]),an().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,i){var c=yt,h=an();if(ft){if(i===void 0)throw Error(n(407));i=i()}else{if(i=s(),Ft===null)throw Error(n(349));(Ts&30)!==0||Vh(c,s,i)}h.memoizedState=i;var g={value:i,getSnapshot:s};return h.queue=g,Yh(Wh.bind(null,c,g,r),[r]),c.flags|=2048,bi(9,Hh.bind(null,c,g,i,s),void 0,null),i},useId:function(){var r=an(),s=Ft.identifierPrefix;if(ft){var i=Nn,c=jn;i=(c&~(1<<32-zr(c)-1)).toString(32)+i,s=":"+s+"R"+i,i=wi++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=K0++,s=":"+s+"r"+i.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Q0={readContext:Nr,useCallback:tp,useContext:Nr,useEffect:eu,useImperativeHandle:ep,useInsertionEffect:Xh,useLayoutEffect:Qh,useMemo:rp,useReducer:Qc,useRef:Jh,useState:function(){return Qc(xi)},useDebugValue:tu,useDeferredValue:function(r){var s=Or();return np(s,At.memoizedState,r)},useTransition:function(){var r=Qc(xi)[0],s=Or().memoizedState;return[r,s]},useMutableSource:Uh,useSyncExternalStore:Bh,useId:sp,unstable_isNewReconciler:!1},Z0={readContext:Nr,useCallback:tp,useContext:Nr,useEffect:eu,useImperativeHandle:ep,useInsertionEffect:Xh,useLayoutEffect:Qh,useMemo:rp,useReducer:Zc,useRef:Jh,useState:function(){return Zc(xi)},useDebugValue:tu,useDeferredValue:function(r){var s=Or();return At===null?s.memoizedState=r:np(s,At.memoizedState,r)},useTransition:function(){var r=Zc(xi)[0],s=Or().memoizedState;return[r,s]},useMutableSource:Uh,useSyncExternalStore:Bh,useId:sp,unstable_isNewReconciler:!1};function Vr(r,s){if(r&&r.defaultProps){s=z({},s),r=r.defaultProps;for(var i in r)s[i]===void 0&&(s[i]=r[i]);return s}return s}function ru(r,s,i,c){s=r.memoizedState,i=i(c,s),i=i==null?s:z({},s,i),r.memoizedState=i,r.lanes===0&&(r.updateQueue.baseState=i)}var Ma={isMounted:function(r){return(r=r._reactInternals)?kn(r)===r:!1},enqueueSetState:function(r,s,i){r=r._reactInternals;var c=tr(),h=ss(r),g=Rn(c,h);g.payload=s,i!=null&&(g.callback=i),s=es(r,g,h),s!==null&&(qr(s,r,h,c),Na(s,r,h))},enqueueReplaceState:function(r,s,i){r=r._reactInternals;var c=tr(),h=ss(r),g=Rn(c,h);g.tag=1,g.payload=s,i!=null&&(g.callback=i),s=es(r,g,h),s!==null&&(qr(s,r,h,c),Na(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var i=tr(),c=ss(r),h=Rn(i,c);h.tag=2,s!=null&&(h.callback=s),s=es(r,h,c),s!==null&&(qr(s,r,c,i),Na(s,r,c))}};function lp(r,s,i,c,h,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!ai(i,c)||!ai(h,g):!0}function cp(r,s,i){var c=!1,h=Xn,g=s.contextType;return typeof g=="object"&&g!==null?g=Nr(g):(h=ar(s)?Ss:Jt.current,c=s.contextTypes,g=(c=c!=null)?so(r,h):Xn),s=new s(i,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ma,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=g),s}function up(r,s,i,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==r&&Ma.enqueueReplaceState(s,s.state,null)}function nu(r,s,i,c){var h=r.stateNode;h.props=i,h.state=r.memoizedState,h.refs={},Vc(r);var g=s.contextType;typeof g=="object"&&g!==null?h.context=Nr(g):(g=ar(s)?Ss:Jt.current,h.context=so(r,g)),h.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(ru(r,s,g,i),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ma.enqueueReplaceState(h,h.state,null),Oa(r,i,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function ho(r,s){try{var i="",c=s;do i+=we(c),c=c.return;while(c);var h=i}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:h,digest:null}}function su(r,s,i){return{value:r,source:null,stack:i??null,digest:s??null}}function ou(r,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var ex=typeof WeakMap=="function"?WeakMap:Map;function dp(r,s,i){i=Rn(-1,i),i.tag=3,i.payload={element:null};var c=s.value;return i.callback=function(){Ha||(Ha=!0,xu=c),ou(r,s)},i}function fp(r,s,i){i=Rn(-1,i),i.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;i.payload=function(){return c(h)},i.callback=function(){ou(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){ou(r,s),typeof c!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),i}function hp(r,s,i){var c=r.pingCache;if(c===null){c=r.pingCache=new ex;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(i)||(h.add(i),r=px.bind(null,r,s,i),s.then(r,r))}function pp(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function gp(r,s,i,c,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=Rn(-1,1),s.tag=2,es(i,s,1))),i.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var tx=A.ReactCurrentOwner,lr=!1;function er(r,s,i,c){s.child=r===null?Dh(s,null,i,c):lo(s,r.child,i,c)}function mp(r,s,i,c,h){i=i.render;var g=s.ref;return uo(s,h),c=Yc(r,s,i,c,g,h),i=Xc(),r!==null&&!lr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Pn(r,s,h)):(ft&&i&&Ic(s),s.flags|=1,er(r,s,c,h),s.child)}function vp(r,s,i,c,h){if(r===null){var g=i.type;return typeof g=="function"&&!Tu(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=g,yp(r,s,g,c,h)):(r=Ya(i.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&h)===0){var w=g.memoizedProps;if(i=i.compare,i=i!==null?i:ai,i(w,c)&&r.ref===s.ref)return Pn(r,s,h)}return s.flags|=1,r=is(g,c),r.ref=s.ref,r.return=s,s.child=r}function yp(r,s,i,c,h){if(r!==null){var g=r.memoizedProps;if(ai(g,c)&&r.ref===s.ref)if(lr=!1,s.pendingProps=c=g,(r.lanes&h)!==0)(r.flags&131072)!==0&&(lr=!0);else return s.lanes=r.lanes,Pn(r,s,h)}return iu(r,s,i,c,h)}function wp(r,s,i){var c=s.pendingProps,h=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(go,yr),yr|=i;else{if((i&1073741824)===0)return r=g!==null?g.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(go,yr),yr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:i,Qe(go,yr),yr|=c}else g!==null?(c=g.baseLanes|i,s.memoizedState=null):c=i,Qe(go,yr),yr|=c;return er(r,s,h,i),s.child}function xp(r,s){var i=s.ref;(r===null&&i!==null||r!==null&&r.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function iu(r,s,i,c,h){var g=ar(i)?Ss:Jt.current;return g=so(s,g),uo(s,h),i=Yc(r,s,i,c,g,h),c=Xc(),r!==null&&!lr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Pn(r,s,h)):(ft&&c&&Ic(s),s.flags|=1,er(r,s,i,h),s.child)}function bp(r,s,i,c,h){if(ar(i)){var g=!0;ba(s)}else g=!1;if(uo(s,h),s.stateNode===null)Fa(r,s),cp(s,i,c),nu(s,i,c,h),c=!0;else if(r===null){var w=s.stateNode,N=s.memoizedProps;w.props=N;var P=w.context,F=i.contextType;typeof F=="object"&&F!==null?F=Nr(F):(F=ar(i)?Ss:Jt.current,F=so(s,F));var Q=i.getDerivedStateFromProps,Z=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==c||P!==F)&&up(s,w,c,F),Zn=!1;var J=s.memoizedState;w.state=J,Oa(s,c,w,h),P=s.memoizedState,N!==c||J!==P||ir.current||Zn?(typeof Q=="function"&&(ru(s,i,Q,c),P=s.memoizedState),(N=Zn||lp(s,i,N,c,J,P,F))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),w.props=c,w.state=P,w.context=F,c=N):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Mh(r,s),N=s.memoizedProps,F=s.type===s.elementType?N:Vr(s.type,N),w.props=F,Z=s.pendingProps,J=w.context,P=i.contextType,typeof P=="object"&&P!==null?P=Nr(P):(P=ar(i)?Ss:Jt.current,P=so(s,P));var ie=i.getDerivedStateFromProps;(Q=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==Z||J!==P)&&up(s,w,c,P),Zn=!1,J=s.memoizedState,w.state=J,Oa(s,c,w,h);var he=s.memoizedState;N!==Z||J!==he||ir.current||Zn?(typeof ie=="function"&&(ru(s,i,ie,c),he=s.memoizedState),(F=Zn||lp(s,i,F,c,J,he,P)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,he,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,he,P)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),w.props=c,w.state=he,w.context=P,c=F):(typeof w.componentDidUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return au(r,s,i,c,g,h)}function au(r,s,i,c,h,g){xp(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return h&&Ch(s,i,!1),Pn(r,s,g);c=s.stateNode,tx.current=s;var N=w&&typeof i.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=lo(s,r.child,null,g),s.child=lo(s,null,N,g)):er(r,s,N,g),s.memoizedState=c.state,h&&Ch(s,i,!0),s.child}function Sp(r){var s=r.stateNode;s.pendingContext?Eh(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Eh(r,s.context,!1),Hc(r,s.containerInfo)}function _p(r,s,i,c,h){return ao(),Mc(h),s.flags|=256,er(r,s,i,c),s.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function cu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ep(r,s,i){var c=s.pendingProps,h=vt.current,g=!1,w=(s.flags&128)!==0,N;if((N=w)||(N=r!==null&&r.memoizedState===null?!1:(h&2)!==0),N?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Qe(vt,h&1),r===null)return Lc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Xa(w,c,0,null),r=Ps(r,c,i,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=cu(i),s.memoizedState=lu,r):uu(s,w));if(h=r.memoizedState,h!==null&&(N=h.dehydrated,N!==null))return rx(r,s,w,c,N,h,i);if(g){g=c.fallback,w=s.mode,h=r.child,N=h.sibling;var P={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=is(h,P),c.subtreeFlags=h.subtreeFlags&14680064),N!==null?g=is(N,g):(g=Ps(g,w,i,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?cu(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~i,s.memoizedState=lu,c}return g=r.child,r=g.sibling,c=is(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=i),c.return=s,c.sibling=null,r!==null&&(i=s.deletions,i===null?(s.deletions=[r],s.flags|=16):i.push(r)),s.child=c,s.memoizedState=null,c}function uu(r,s){return s=Xa({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function $a(r,s,i,c){return c!==null&&Mc(c),lo(s,r.child,null,i),r=uu(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function rx(r,s,i,c,h,g,w){if(i)return s.flags&256?(s.flags&=-257,c=su(Error(n(422))),$a(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,h=s.mode,c=Xa({mode:"visible",children:c.children},h,0,null),g=Ps(g,h,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&lo(s,r.child,null,w),s.child.memoizedState=cu(w),s.memoizedState=lu,g);if((s.mode&1)===0)return $a(r,s,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var N=c.dgst;return c=N,g=Error(n(419)),c=su(g,c,void 0),$a(r,s,w,c)}if(N=(w&r.childLanes)!==0,lr||N){if(c=Ft,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|w))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,On(r,h),qr(c,r,h,-1))}return Cu(),c=su(Error(n(421))),$a(r,s,w,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=gx.bind(null,r),h._reactRetry=s,null):(r=g.treeContext,vr=Jn(h.nextSibling),mr=s,ft=!0,Br=null,r!==null&&(Tr[jr++]=jn,Tr[jr++]=Nn,Tr[jr++]=_s,jn=r.id,Nn=r.overflow,_s=s),s=uu(s,c.children),s.flags|=4096,s)}function kp(r,s,i){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Uc(r.return,s,i)}function du(r,s,i,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=i,g.tailMode=h)}function Cp(r,s,i){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(er(r,s,c.children,i),c=vt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kp(r,i,s);else if(r.tag===19)kp(r,i,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Qe(vt,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(i=s.child,h=null;i!==null;)r=i.alternate,r!==null&&Ra(r)===null&&(h=i),i=i.sibling;i=h,i===null?(h=s.child,s.child=null):(h=i.sibling,i.sibling=null),du(s,!1,h,i,g);break;case"backwards":for(i=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Ra(r)===null){s.child=h;break}r=h.sibling,h.sibling=i,i=h,h=r}du(s,!0,i,null,g);break;case"together":du(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fa(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Pn(r,s,i){if(r!==null&&(s.dependencies=r.dependencies),js|=s.lanes,(i&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,i=is(r,r.pendingProps),s.child=i,i.return=s;r.sibling!==null;)r=r.sibling,i=i.sibling=is(r,r.pendingProps),i.return=s;i.sibling=null}return s.child}function nx(r,s,i){switch(s.tag){case 3:Sp(s),ao();break;case 5:zh(s);break;case 1:ar(s.type)&&ba(s);break;case 4:Hc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;Qe(Ta,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Qe(vt,vt.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?Ep(r,s,i):(Qe(vt,vt.current&1),r=Pn(r,s,i),r!==null?r.sibling:null);Qe(vt,vt.current&1);break;case 19:if(c=(i&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Cp(r,s,i);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(vt,vt.current),c)break;return null;case 22:case 23:return s.lanes=0,wp(r,s,i)}return Pn(r,s,i)}var Tp,fu,jp,Np;Tp=function(r,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},fu=function(){},jp=function(r,s,i,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,Cs(on.current);var g=null;switch(i){case"input":h=Nt(r,h),c=Nt(r,c),g=[];break;case"select":h=z({},h,{value:void 0}),c=z({},c,{value:void 0}),g=[];break;case"textarea":h=pt(r,h),c=pt(r,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=ya)}ut(i,c);var w;i=null;for(F in h)if(!c.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var N=h[F];for(w in N)N.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?g||(g=[]):(g=g||[]).push(F,null));for(F in c){var P=c[F];if(N=h!=null?h[F]:void 0,c.hasOwnProperty(F)&&P!==N&&(P!=null||N!=null))if(F==="style")if(N){for(w in N)!N.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in P)P.hasOwnProperty(w)&&N[w]!==P[w]&&(i||(i={}),i[w]=P[w])}else i||(g||(g=[]),g.push(F,i)),i=P;else F==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,N=N?N.__html:void 0,P!=null&&N!==P&&(g=g||[]).push(F,P)):F==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(F,""+P):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(P!=null&&F==="onScroll"&&it("scroll",r),g||N===P||(g=[])):(g=g||[]).push(F,P))}i&&(g=g||[]).push("style",i);var F=g;(s.updateQueue=F)&&(s.flags|=4)}},Np=function(r,s,i,c){i!==c&&(s.flags|=4)};function Si(r,s){if(!ft)switch(r.tailMode){case"hidden":s=r.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?r.tail=null:i.sibling=null;break;case"collapsed":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,i=0,c=0;if(s)for(var h=r.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=i,s}function sx(r,s,i){var c=s.pendingProps;switch(Ac(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return ar(s.type)&&xa(),Xt(s),null;case 3:return c=s.stateNode,fo(),at(ir),at(Jt),Kc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ka(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Br!==null&&(_u(Br),Br=null))),fu(r,s),Xt(s),null;case 5:Wc(s);var h=Cs(vi.current);if(i=s.type,r!==null&&s.stateNode!=null)jp(r,s,i,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return Xt(s),null}if(r=Cs(on.current),ka(s)){c=s.stateNode,i=s.type;var g=s.memoizedProps;switch(c[sn]=s,c[fi]=g,r=(s.mode&1)!==0,i){case"dialog":it("cancel",c),it("close",c);break;case"iframe":case"object":case"embed":it("load",c);break;case"video":case"audio":for(h=0;h<ci.length;h++)it(ci[h],c);break;case"source":it("error",c);break;case"img":case"image":case"link":it("error",c),it("load",c);break;case"details":it("toggle",c);break;case"input":Er(c,g),it("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},it("invalid",c);break;case"textarea":$r(c,g),it("invalid",c)}ut(i,g),h=null;for(var w in g)if(g.hasOwnProperty(w)){var N=g[w];w==="children"?typeof N=="string"?c.textContent!==N&&(g.suppressHydrationWarning!==!0&&va(c.textContent,N,r),h=["children",N]):typeof N=="number"&&c.textContent!==""+N&&(g.suppressHydrationWarning!==!0&&va(c.textContent,N,r),h=["children",""+N]):a.hasOwnProperty(w)&&N!=null&&w==="onScroll"&&it("scroll",c)}switch(i){case"input":Pe(c),Mr(c,g,!0);break;case"textarea":Pe(c),qs(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=ya)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Sn(i)),r==="http://www.w3.org/1999/xhtml"?i==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(i,{is:c.is}):(r=w.createElement(i),i==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,i),r[sn]=s,r[fi]=c,Tp(r,s,!1,!1),s.stateNode=r;e:{switch(w=pr(i,c),i){case"dialog":it("cancel",r),it("close",r),h=c;break;case"iframe":case"object":case"embed":it("load",r),h=c;break;case"video":case"audio":for(h=0;h<ci.length;h++)it(ci[h],r);h=c;break;case"source":it("error",r),h=c;break;case"img":case"image":case"link":it("error",r),it("load",r),h=c;break;case"details":it("toggle",r),h=c;break;case"input":Er(r,c),h=Nt(r,c),it("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=z({},c,{value:void 0}),it("invalid",r);break;case"textarea":$r(r,c),h=pt(r,c),it("invalid",r);break;default:h=c}ut(i,h),N=h;for(g in N)if(N.hasOwnProperty(g)){var P=N[g];g==="style"?Ye(r,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&zn(r,P)):g==="children"?typeof P=="string"?(i!=="textarea"||P!=="")&&q(r,P):typeof P=="number"&&q(r,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?P!=null&&g==="onScroll"&&it("scroll",r):P!=null&&R(r,g,P,w))}switch(i){case"input":Pe(r),Mr(r,c,!1);break;case"textarea":Pe(r),qs(r);break;case"option":c.value!=null&&r.setAttribute("value",""+oe(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?en(r,!!c.multiple,g,!1):c.defaultValue!=null&&en(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=ya)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Xt(s),null;case 6:if(r&&s.stateNode!=null)Np(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=Cs(vi.current),Cs(on.current),ka(s)){if(c=s.stateNode,i=s.memoizedProps,c[sn]=s,(g=c.nodeValue!==i)&&(r=mr,r!==null))switch(r.tag){case 3:va(c.nodeValue,i,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&va(c.nodeValue,i,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[sn]=s,s.stateNode=c}return Xt(s),null;case 13:if(at(vt),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&vr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ph(),ao(),s.flags|=98560,g=!1;else if(g=ka(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[sn]=s}else ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),g=!1}else Br!==null&&(_u(Br),Br=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(vt.current&1)!==0?Dt===0&&(Dt=3):Cu())),s.updateQueue!==null&&(s.flags|=4),Xt(s),null);case 4:return fo(),fu(r,s),r===null&&ui(s.stateNode.containerInfo),Xt(s),null;case 10:return zc(s.type._context),Xt(s),null;case 17:return ar(s.type)&&xa(),Xt(s),null;case 19:if(at(vt),g=s.memoizedState,g===null)return Xt(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)Si(g,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=Ra(r),w!==null){for(s.flags|=128,Si(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=i,i=s.child;i!==null;)g=i,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i=i.sibling;return Qe(vt,vt.current&1|2),s.child}r=r.sibling}g.tail!==null&&mt()>mo&&(s.flags|=128,c=!0,Si(g,!1),s.lanes=4194304)}else{if(!c)if(r=Ra(w),r!==null){if(s.flags|=128,c=!0,i=r.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Si(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ft)return Xt(s),null}else 2*mt()-g.renderingStartTime>mo&&i!==1073741824&&(s.flags|=128,c=!0,Si(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(i=g.last,i!==null?i.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=mt(),s.sibling=null,i=vt.current,Qe(vt,c?i&1|2:i&1),s):(Xt(s),null);case 22:case 23:return ku(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(yr&1073741824)!==0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function ox(r,s){switch(Ac(s),s.tag){case 1:return ar(s.type)&&xa(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return fo(),at(ir),at(Jt),Kc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Wc(s),null;case 13:if(at(vt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return at(vt),null;case 4:return fo(),null;case 10:return zc(s.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var za=!1,Qt=!1,ix=typeof WeakSet=="function"?WeakSet:Set,ue=null;function po(r,s){var i=r.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){St(r,s,c)}else i.current=null}function hu(r,s,i){try{i()}catch(c){St(r,s,c)}}var Op=!1;function ax(r,s){if(kc=ia,r=lh(),vc(r)){if("selectionStart"in r)var i={start:r.selectionStart,end:r.selectionEnd};else e:{i=(i=r.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var w=0,N=-1,P=-1,F=0,Q=0,Z=r,J=null;t:for(;;){for(var ie;Z!==i||h!==0&&Z.nodeType!==3||(N=w+h),Z!==g||c!==0&&Z.nodeType!==3||(P=w+c),Z.nodeType===3&&(w+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)J=Z,Z=ie;for(;;){if(Z===r)break t;if(J===i&&++F===h&&(N=w),J===g&&++Q===c&&(P=w),(ie=Z.nextSibling)!==null)break;Z=J,J=Z.parentNode}Z=ie}i=N===-1||P===-1?null:{start:N,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Cc={focusedElem:r,selectionRange:i},ia=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var ye=he.memoizedProps,jt=he.memoizedState,L=s.stateNode,I=L.getSnapshotBeforeUpdate(s.elementType===s.type?ye:Vr(s.type,ye),jt);L.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var M=s.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){St(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return he=Op,Op=!1,he}function _i(r,s,i){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var g=h.destroy;h.destroy=void 0,g!==void 0&&hu(s,i,g)}h=h.next}while(h!==c)}}function Ua(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&r)===r){var c=i.create;i.destroy=c()}i=i.next}while(i!==s)}}function pu(r){var s=r.ref;if(s!==null){var i=r.stateNode;switch(r.tag){case 5:r=i;break;default:r=i}typeof s=="function"?s(r):s.current=r}}function Rp(r){var s=r.alternate;s!==null&&(r.alternate=null,Rp(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[sn],delete s[fi],delete s[Oc],delete s[V0],delete s[H0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Pp(r){return r.tag===5||r.tag===3||r.tag===4}function Ip(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Pp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gu(r,s,i){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(r,s):i.insertBefore(r,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(r,i)):(s=i,s.appendChild(r)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=ya));else if(c!==4&&(r=r.child,r!==null))for(gu(r,s,i),r=r.sibling;r!==null;)gu(r,s,i),r=r.sibling}function mu(r,s,i){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?i.insertBefore(r,s):i.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(mu(r,s,i),r=r.sibling;r!==null;)mu(r,s,i),r=r.sibling}var Vt=null,Hr=!1;function ts(r,s,i){for(i=i.child;i!==null;)Ap(r,s,i),i=i.sibling}function Ap(r,s,i){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ea,i)}catch{}switch(i.tag){case 5:Qt||po(i,s);case 6:var c=Vt,h=Hr;Vt=null,ts(r,s,i),Vt=c,Hr=h,Vt!==null&&(Hr?(r=Vt,i=i.stateNode,r.nodeType===8?r.parentNode.removeChild(i):r.removeChild(i)):Vt.removeChild(i.stateNode));break;case 18:Vt!==null&&(Hr?(r=Vt,i=i.stateNode,r.nodeType===8?Nc(r.parentNode,i):r.nodeType===1&&Nc(r,i),ti(r)):Nc(Vt,i.stateNode));break;case 4:c=Vt,h=Hr,Vt=i.stateNode.containerInfo,Hr=!0,ts(r,s,i),Vt=c,Hr=h;break;case 0:case 11:case 14:case 15:if(!Qt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&hu(i,s,w),h=h.next}while(h!==c)}ts(r,s,i);break;case 1:if(!Qt&&(po(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(N){St(i,s,N)}ts(r,s,i);break;case 21:ts(r,s,i);break;case 22:i.mode&1?(Qt=(c=Qt)||i.memoizedState!==null,ts(r,s,i),Qt=c):ts(r,s,i);break;default:ts(r,s,i)}}function Dp(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var i=r.stateNode;i===null&&(i=r.stateNode=new ix),s.forEach(function(c){var h=mx.bind(null,r,c);i.has(c)||(i.add(c),c.then(h,h))})}}function Wr(r,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];try{var g=r,w=s,N=w;e:for(;N!==null;){switch(N.tag){case 5:Vt=N.stateNode,Hr=!1;break e;case 3:Vt=N.stateNode.containerInfo,Hr=!0;break e;case 4:Vt=N.stateNode.containerInfo,Hr=!0;break e}N=N.return}if(Vt===null)throw Error(n(160));Ap(g,w,h),Vt=null,Hr=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(F){St(h,s,F)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Lp(s,r),s=s.sibling}function Lp(r,s){var i=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wr(s,r),ln(r),c&4){try{_i(3,r,r.return),Ua(3,r)}catch(ye){St(r,r.return,ye)}try{_i(5,r,r.return)}catch(ye){St(r,r.return,ye)}}break;case 1:Wr(s,r),ln(r),c&512&&i!==null&&po(i,i.return);break;case 5:if(Wr(s,r),ln(r),c&512&&i!==null&&po(i,i.return),r.flags&32){var h=r.stateNode;try{q(h,"")}catch(ye){St(r,r.return,ye)}}if(c&4&&(h=r.stateNode,h!=null)){var g=r.memoizedProps,w=i!==null?i.memoizedProps:g,N=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{N==="input"&&g.type==="radio"&&g.name!=null&&Ut(h,g),pr(N,w);var F=pr(N,g);for(w=0;w<P.length;w+=2){var Q=P[w],Z=P[w+1];Q==="style"?Ye(h,Z):Q==="dangerouslySetInnerHTML"?zn(h,Z):Q==="children"?q(h,Z):R(h,Q,Z,F)}switch(N){case"input":Bt(h,g);break;case"textarea":Ws(h,g);break;case"select":var J=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?en(h,!!g.multiple,ie,!1):J!==!!g.multiple&&(g.defaultValue!=null?en(h,!!g.multiple,g.defaultValue,!0):en(h,!!g.multiple,g.multiple?[]:"",!1))}h[fi]=g}catch(ye){St(r,r.return,ye)}}break;case 6:if(Wr(s,r),ln(r),c&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,g=r.memoizedProps;try{h.nodeValue=g}catch(ye){St(r,r.return,ye)}}break;case 3:if(Wr(s,r),ln(r),c&4&&i!==null&&i.memoizedState.isDehydrated)try{ti(s.containerInfo)}catch(ye){St(r,r.return,ye)}break;case 4:Wr(s,r),ln(r);break;case 13:Wr(s,r),ln(r),h=r.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(wu=mt())),c&4&&Dp(r);break;case 22:if(Q=i!==null&&i.memoizedState!==null,r.mode&1?(Qt=(F=Qt)||Q,Wr(s,r),Qt=F):Wr(s,r),ln(r),c&8192){if(F=r.memoizedState!==null,(r.stateNode.isHidden=F)&&!Q&&(r.mode&1)!==0)for(ue=r,Q=r.child;Q!==null;){for(Z=ue=Q;ue!==null;){switch(J=ue,ie=J.child,J.tag){case 0:case 11:case 14:case 15:_i(4,J,J.return);break;case 1:po(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){c=J,i=J.return;try{s=c,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(ye){St(c,i,ye)}}break;case 5:po(J,J.return);break;case 22:if(J.memoizedState!==null){Fp(Z);continue}}ie!==null?(ie.return=J,ue=ie):Fp(Z)}Q=Q.sibling}e:for(Q=null,Z=r;;){if(Z.tag===5){if(Q===null){Q=Z;try{h=Z.stateNode,F?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(N=Z.stateNode,P=Z.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,N.style.display=be("display",w))}catch(ye){St(r,r.return,ye)}}}else if(Z.tag===6){if(Q===null)try{Z.stateNode.nodeValue=F?"":Z.memoizedProps}catch(ye){St(r,r.return,ye)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;Q===Z&&(Q=null),Z=Z.return}Q===Z&&(Q=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Wr(s,r),ln(r),c&4&&Dp(r);break;case 21:break;default:Wr(s,r),ln(r)}}function ln(r){var s=r.flags;if(s&2){try{e:{for(var i=r.return;i!==null;){if(Pp(i)){var c=i;break e}i=i.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(q(h,""),c.flags&=-33);var g=Ip(r);mu(r,g,h);break;case 3:case 4:var w=c.stateNode.containerInfo,N=Ip(r);gu(r,N,w);break;default:throw Error(n(161))}}catch(P){St(r,r.return,P)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function lx(r,s,i){ue=r,Mp(r)}function Mp(r,s,i){for(var c=(r.mode&1)!==0;ue!==null;){var h=ue,g=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||za;if(!w){var N=h.alternate,P=N!==null&&N.memoizedState!==null||Qt;N=za;var F=Qt;if(za=w,(Qt=P)&&!F)for(ue=h;ue!==null;)w=ue,P=w.child,w.tag===22&&w.memoizedState!==null?zp(h):P!==null?(P.return=w,ue=P):zp(h);for(;g!==null;)ue=g,Mp(g),g=g.sibling;ue=h,za=N,Qt=F}$p(r)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,ue=g):$p(r)}}function $p(r){for(;ue!==null;){var s=ue;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Qt||Ua(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Qt)if(i===null)c.componentDidMount();else{var h=s.elementType===s.type?i.memoizedProps:Vr(s.type,i.memoizedProps);c.componentDidUpdate(h,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Fh(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}Fh(s,w,i)}break;case 5:var N=s.stateNode;if(i===null&&s.flags&4){i=N;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&i.focus();break;case"img":P.src&&(i.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var F=s.alternate;if(F!==null){var Q=F.memoizedState;if(Q!==null){var Z=Q.dehydrated;Z!==null&&ti(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||s.flags&512&&pu(s)}catch(J){St(s,s.return,J)}}if(s===r){ue=null;break}if(i=s.sibling,i!==null){i.return=s.return,ue=i;break}ue=s.return}}function Fp(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var i=s.sibling;if(i!==null){i.return=s.return,ue=i;break}ue=s.return}}function zp(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Ua(4,s)}catch(P){St(s,i,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(P){St(s,h,P)}}var g=s.return;try{pu(s)}catch(P){St(s,g,P)}break;case 5:var w=s.return;try{pu(s)}catch(P){St(s,w,P)}}}catch(P){St(s,s.return,P)}if(s===r){ue=null;break}var N=s.sibling;if(N!==null){N.return=s.return,ue=N;break}ue=s.return}}var cx=Math.ceil,Ba=A.ReactCurrentDispatcher,vu=A.ReactCurrentOwner,Rr=A.ReactCurrentBatchConfig,Ve=0,Ft=null,Pt=null,Ht=0,yr=0,go=Yn(0),Dt=0,Ei=null,js=0,Va=0,yu=0,ki=null,cr=null,wu=0,mo=1/0,In=null,Ha=!1,xu=null,rs=null,Wa=!1,ns=null,qa=0,Ci=0,bu=null,Ka=-1,Ga=0;function tr(){return(Ve&6)!==0?mt():Ka!==-1?Ka:Ka=mt()}function ss(r){return(r.mode&1)===0?1:(Ve&2)!==0&&Ht!==0?Ht&-Ht:q0.transition!==null?(Ga===0&&(Ga=If()),Ga):(r=qe,r!==0||(r=window.event,r=r===void 0?16:Bf(r.type)),r)}function qr(r,s,i,c){if(50<Ci)throw Ci=0,bu=null,Error(n(185));Yo(r,i,c),((Ve&2)===0||r!==Ft)&&(r===Ft&&((Ve&2)===0&&(Va|=i),Dt===4&&os(r,Ht)),ur(r,c),i===1&&Ve===0&&(s.mode&1)===0&&(mo=mt()+500,Sa&&Qn()))}function ur(r,s){var i=r.callbackNode;qw(r,s);var c=na(r,r===Ft?Ht:0);if(c===0)i!==null&&Ko(i),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(i!=null&&Ko(i),s===1)r.tag===0?W0(Bp.bind(null,r)):Th(Bp.bind(null,r)),U0(function(){(Ve&6)===0&&Qn()}),i=null;else{switch(Af(c)){case 1:i=Ks;break;case 4:i=Gs;break;case 16:i=Bn;break;case 536870912:i=Pf;break;default:i=Bn}i=Yp(i,Up.bind(null,r))}r.callbackPriority=s,r.callbackNode=i}}function Up(r,s){if(Ka=-1,Ga=0,(Ve&6)!==0)throw Error(n(327));var i=r.callbackNode;if(vo()&&r.callbackNode!==i)return null;var c=na(r,r===Ft?Ht:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=Ja(r,c);else{s=c;var h=Ve;Ve|=2;var g=Hp();(Ft!==r||Ht!==s)&&(In=null,mo=mt()+500,Os(r,s));do try{fx();break}catch(N){Vp(r,N)}while(!0);Fc(),Ba.current=g,Ve=h,Pt!==null?s=0:(Ft=null,Ht=0,s=Dt)}if(s!==0){if(s===2&&(h=tc(r),h!==0&&(c=h,s=Su(r,h))),s===1)throw i=Ei,Os(r,0),os(r,c),ur(r,mt()),i;if(s===6)os(r,c);else{if(h=r.current.alternate,(c&30)===0&&!ux(h)&&(s=Ja(r,c),s===2&&(g=tc(r),g!==0&&(c=g,s=Su(r,g))),s===1))throw i=Ei,Os(r,0),os(r,c),ur(r,mt()),i;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Rs(r,cr,In);break;case 3:if(os(r,c),(c&130023424)===c&&(s=wu+500-mt(),10<s)){if(na(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){tr(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=jc(Rs.bind(null,r,cr,In),s);break}Rs(r,cr,In);break;case 4:if(os(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var w=31-zr(c);g=1<<w,w=s[w],w>h&&(h=w),c&=~g}if(c=h,c=mt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*cx(c/1960))-c,10<c){r.timeoutHandle=jc(Rs.bind(null,r,cr,In),c);break}Rs(r,cr,In);break;case 5:Rs(r,cr,In);break;default:throw Error(n(329))}}}return ur(r,mt()),r.callbackNode===i?Up.bind(null,r):null}function Su(r,s){var i=ki;return r.current.memoizedState.isDehydrated&&(Os(r,s).flags|=256),r=Ja(r,s),r!==2&&(s=cr,cr=i,s!==null&&_u(s)),r}function _u(r){cr===null?cr=r:cr.push.apply(cr,r)}function ux(r){for(var s=r;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var h=i[c],g=h.getSnapshot;h=h.value;try{if(!Ur(g(),h))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(r,s){for(s&=~yu,s&=~Va,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var i=31-zr(s),c=1<<i;r[i]=-1,s&=~c}}function Bp(r){if((Ve&6)!==0)throw Error(n(327));vo();var s=na(r,0);if((s&1)===0)return ur(r,mt()),null;var i=Ja(r,s);if(r.tag!==0&&i===2){var c=tc(r);c!==0&&(s=c,i=Su(r,c))}if(i===1)throw i=Ei,Os(r,0),os(r,s),ur(r,mt()),i;if(i===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Rs(r,cr,In),ur(r,mt()),null}function Eu(r,s){var i=Ve;Ve|=1;try{return r(s)}finally{Ve=i,Ve===0&&(mo=mt()+500,Sa&&Qn())}}function Ns(r){ns!==null&&ns.tag===0&&(Ve&6)===0&&vo();var s=Ve;Ve|=1;var i=Rr.transition,c=qe;try{if(Rr.transition=null,qe=1,r)return r()}finally{qe=c,Rr.transition=i,Ve=s,(Ve&6)===0&&Qn()}}function ku(){yr=go.current,at(go)}function Os(r,s){r.finishedWork=null,r.finishedLanes=0;var i=r.timeoutHandle;if(i!==-1&&(r.timeoutHandle=-1,z0(i)),Pt!==null)for(i=Pt.return;i!==null;){var c=i;switch(Ac(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&xa();break;case 3:fo(),at(ir),at(Jt),Kc();break;case 5:Wc(c);break;case 4:fo();break;case 13:at(vt);break;case 19:at(vt);break;case 10:zc(c.type._context);break;case 22:case 23:ku()}i=i.return}if(Ft=r,Pt=r=is(r.current,null),Ht=yr=s,Dt=0,Ei=null,yu=Va=js=0,cr=ki=null,ks!==null){for(s=0;s<ks.length;s++)if(i=ks[s],c=i.interleaved,c!==null){i.interleaved=null;var h=c.next,g=i.pending;if(g!==null){var w=g.next;g.next=h,c.next=w}i.pending=c}ks=null}return r}function Vp(r,s){do{var i=Pt;try{if(Fc(),Pa.current=La,Ia){for(var c=yt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Ia=!1}if(Ts=0,$t=At=yt=null,yi=!1,wi=0,vu.current=null,i===null||i.return===null){Dt=1,Ei=s,Pt=null;break}e:{var g=r,w=i.return,N=i,P=s;if(s=Ht,N.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var F=P,Q=N,Z=Q.tag;if((Q.mode&1)===0&&(Z===0||Z===11||Z===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ie=pp(w);if(ie!==null){ie.flags&=-257,gp(ie,w,N,g,s),ie.mode&1&&hp(g,F,s),s=ie,P=F;var he=s.updateQueue;if(he===null){var ye=new Set;ye.add(P),s.updateQueue=ye}else he.add(P);break e}else{if((s&1)===0){hp(g,F,s),Cu();break e}P=Error(n(426))}}else if(ft&&N.mode&1){var jt=pp(w);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),gp(jt,w,N,g,s),Mc(ho(P,N));break e}}g=P=ho(P,N),Dt!==4&&(Dt=2),ki===null?ki=[g]:ki.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var L=dp(g,P,s);$h(g,L);break e;case 1:N=P;var I=g.type,M=g.stateNode;if((g.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(rs===null||!rs.has(M)))){g.flags|=65536,s&=-s,g.lanes|=s;var ee=fp(g,N,s);$h(g,ee);break e}}g=g.return}while(g!==null)}qp(i)}catch(xe){s=xe,Pt===i&&i!==null&&(Pt=i=i.return);continue}break}while(!0)}function Hp(){var r=Ba.current;return Ba.current=La,r===null?La:r}function Cu(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||(js&268435455)===0&&(Va&268435455)===0||os(Ft,Ht)}function Ja(r,s){var i=Ve;Ve|=2;var c=Hp();(Ft!==r||Ht!==s)&&(In=null,Os(r,s));do try{dx();break}catch(h){Vp(r,h)}while(!0);if(Fc(),Ve=i,Ba.current=c,Pt!==null)throw Error(n(261));return Ft=null,Ht=0,Dt}function dx(){for(;Pt!==null;)Wp(Pt)}function fx(){for(;Pt!==null&&!Go();)Wp(Pt)}function Wp(r){var s=Jp(r.alternate,r,yr);r.memoizedProps=r.pendingProps,s===null?qp(r):Pt=s,vu.current=null}function qp(r){var s=r;do{var i=s.alternate;if(r=s.return,(s.flags&32768)===0){if(i=sx(i,s,yr),i!==null){Pt=i;return}}else{if(i=ox(i,s),i!==null){i.flags&=32767,Pt=i;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Dt=6,Pt=null;return}}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=r}while(s!==null);Dt===0&&(Dt=5)}function Rs(r,s,i){var c=qe,h=Rr.transition;try{Rr.transition=null,qe=1,hx(r,s,i,c)}finally{Rr.transition=h,qe=c}return null}function hx(r,s,i,c){do vo();while(ns!==null);if((Ve&6)!==0)throw Error(n(327));i=r.finishedWork;var h=r.finishedLanes;if(i===null)return null;if(r.finishedWork=null,r.finishedLanes=0,i===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=i.lanes|i.childLanes;if(Kw(r,g),r===Ft&&(Pt=Ft=null,Ht=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Wa||(Wa=!0,Yp(Bn,function(){return vo(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=Rr.transition,Rr.transition=null;var w=qe;qe=1;var N=Ve;Ve|=4,vu.current=null,ax(r,i),Lp(i,r),I0(Cc),ia=!!kc,Cc=kc=null,r.current=i,lx(i),Zi(),Ve=N,qe=w,Rr.transition=g}else r.current=i;if(Wa&&(Wa=!1,ns=r,qa=h),g=r.pendingLanes,g===0&&(rs=null),Uw(i.stateNode),ur(r,mt()),s!==null)for(c=r.onRecoverableError,i=0;i<s.length;i++)h=s[i],c(h.value,{componentStack:h.stack,digest:h.digest});if(Ha)throw Ha=!1,r=xu,xu=null,r;return(qa&1)!==0&&r.tag!==0&&vo(),g=r.pendingLanes,(g&1)!==0?r===bu?Ci++:(Ci=0,bu=r):Ci=0,Qn(),null}function vo(){if(ns!==null){var r=Af(qa),s=Rr.transition,i=qe;try{if(Rr.transition=null,qe=16>r?16:r,ns===null)var c=!1;else{if(r=ns,ns=null,qa=0,(Ve&6)!==0)throw Error(n(331));var h=Ve;for(Ve|=4,ue=r.current;ue!==null;){var g=ue,w=g.child;if((ue.flags&16)!==0){var N=g.deletions;if(N!==null){for(var P=0;P<N.length;P++){var F=N[P];for(ue=F;ue!==null;){var Q=ue;switch(Q.tag){case 0:case 11:case 15:_i(8,Q,g)}var Z=Q.child;if(Z!==null)Z.return=Q,ue=Z;else for(;ue!==null;){Q=ue;var J=Q.sibling,ie=Q.return;if(Rp(Q),Q===F){ue=null;break}if(J!==null){J.return=ie,ue=J;break}ue=ie}}}var he=g.alternate;if(he!==null){var ye=he.child;if(ye!==null){he.child=null;do{var jt=ye.sibling;ye.sibling=null,ye=jt}while(ye!==null)}}ue=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ue=w;else e:for(;ue!==null;){if(g=ue,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:_i(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,ue=L;break e}ue=g.return}}var I=r.current;for(ue=I;ue!==null;){w=ue;var M=w.child;if((w.subtreeFlags&2064)!==0&&M!==null)M.return=w,ue=M;else e:for(w=I;ue!==null;){if(N=ue,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Ua(9,N)}}catch(xe){St(N,N.return,xe)}if(N===w){ue=null;break e}var ee=N.sibling;if(ee!==null){ee.return=N.return,ue=ee;break e}ue=N.return}}if(Ve=h,Qn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ea,r)}catch{}c=!0}return c}finally{qe=i,Rr.transition=s}}return!1}function Kp(r,s,i){s=ho(i,s),s=dp(r,s,1),r=es(r,s,1),s=tr(),r!==null&&(Yo(r,1,s),ur(r,s))}function St(r,s,i){if(r.tag===3)Kp(r,r,i);else for(;s!==null;){if(s.tag===3){Kp(s,r,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(rs===null||!rs.has(c))){r=ho(i,r),r=fp(s,r,1),s=es(s,r,1),r=tr(),s!==null&&(Yo(s,1,r),ur(s,r));break}}s=s.return}}function px(r,s,i){var c=r.pingCache;c!==null&&c.delete(s),s=tr(),r.pingedLanes|=r.suspendedLanes&i,Ft===r&&(Ht&i)===i&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>mt()-wu?Os(r,0):yu|=i),ur(r,s)}function Gp(r,s){s===0&&((r.mode&1)===0?s=1:(s=ra,ra<<=1,(ra&130023424)===0&&(ra=4194304)));var i=tr();r=On(r,s),r!==null&&(Yo(r,s,i),ur(r,i))}function gx(r){var s=r.memoizedState,i=0;s!==null&&(i=s.retryLane),Gp(r,i)}function mx(r,s){var i=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),Gp(r,i)}var Jp;Jp=function(r,s,i){if(r!==null)if(r.memoizedProps!==s.pendingProps||ir.current)lr=!0;else{if((r.lanes&i)===0&&(s.flags&128)===0)return lr=!1,nx(r,s,i);lr=(r.flags&131072)!==0}else lr=!1,ft&&(s.flags&1048576)!==0&&jh(s,Ea,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Fa(r,s),r=s.pendingProps;var h=so(s,Jt.current);uo(s,i),h=Yc(null,s,c,r,h,i);var g=Xc();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ar(c)?(g=!0,ba(s)):g=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Vc(s),h.updater=Ma,s.stateNode=h,h._reactInternals=s,nu(s,c,r,i),s=au(null,s,c,!0,g,i)):(s.tag=0,ft&&g&&Ic(s),er(null,s,h,i),s=s.child),s;case 16:c=s.elementType;e:{switch(Fa(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=yx(c),r=Vr(c,r),h){case 0:s=iu(null,s,c,r,i);break e;case 1:s=bp(null,s,c,r,i);break e;case 11:s=mp(null,s,c,r,i);break e;case 14:s=vp(null,s,c,Vr(c.type,r),i);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Vr(c,h),iu(r,s,c,h,i);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Vr(c,h),bp(r,s,c,h,i);case 3:e:{if(Sp(s),r===null)throw Error(n(387));c=s.pendingProps,g=s.memoizedState,h=g.element,Mh(r,s),Oa(s,c,null,i);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){h=ho(Error(n(423)),s),s=_p(r,s,c,i,h);break e}else if(c!==h){h=ho(Error(n(424)),s),s=_p(r,s,c,i,h);break e}else for(vr=Jn(s.stateNode.containerInfo.firstChild),mr=s,ft=!0,Br=null,i=Dh(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ao(),c===h){s=Pn(r,s,i);break e}er(r,s,c,i)}s=s.child}return s;case 5:return zh(s),r===null&&Lc(s),c=s.type,h=s.pendingProps,g=r!==null?r.memoizedProps:null,w=h.children,Tc(c,h)?w=null:g!==null&&Tc(c,g)&&(s.flags|=32),xp(r,s),er(r,s,w,i),s.child;case 6:return r===null&&Lc(s),null;case 13:return Ep(r,s,i);case 4:return Hc(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=lo(s,null,c,i):er(r,s,c,i),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Vr(c,h),mp(r,s,c,h,i);case 7:return er(r,s,s.pendingProps,i),s.child;case 8:return er(r,s,s.pendingProps.children,i),s.child;case 12:return er(r,s,s.pendingProps.children,i),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,g=s.memoizedProps,w=h.value,Qe(Ta,c._currentValue),c._currentValue=w,g!==null)if(Ur(g.value,w)){if(g.children===h.children&&!ir.current){s=Pn(r,s,i);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var N=g.dependencies;if(N!==null){w=g.child;for(var P=N.firstContext;P!==null;){if(P.context===c){if(g.tag===1){P=Rn(-1,i&-i),P.tag=2;var F=g.updateQueue;if(F!==null){F=F.shared;var Q=F.pending;Q===null?P.next=P:(P.next=Q.next,Q.next=P),F.pending=P}}g.lanes|=i,P=g.alternate,P!==null&&(P.lanes|=i),Uc(g.return,i,s),N.lanes|=i;break}P=P.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=i,N=w.alternate,N!==null&&(N.lanes|=i),Uc(w,i,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}er(r,s,h.children,i),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,uo(s,i),h=Nr(h),c=c(h),s.flags|=1,er(r,s,c,i),s.child;case 14:return c=s.type,h=Vr(c,s.pendingProps),h=Vr(c.type,h),vp(r,s,c,h,i);case 15:return yp(r,s,s.type,s.pendingProps,i);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Vr(c,h),Fa(r,s),s.tag=1,ar(c)?(r=!0,ba(s)):r=!1,uo(s,i),cp(s,c,h),nu(s,c,h,i),au(null,s,c,!0,r,i);case 19:return Cp(r,s,i);case 22:return wp(r,s,i)}throw Error(n(156,s.tag))};function Yp(r,s){return Fr(r,s)}function vx(r,s,i,c){this.tag=r,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(r,s,i,c){return new vx(r,s,i,c)}function Tu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yx(r){if(typeof r=="function")return Tu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===me)return 11;if(r===G)return 14}return 2}function is(r,s){var i=r.alternate;return i===null?(i=Pr(r.tag,s,r.key,r.mode),i.elementType=r.elementType,i.type=r.type,i.stateNode=r.stateNode,i.alternate=r,r.alternate=i):(i.pendingProps=s,i.type=r.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=r.flags&14680064,i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,s=r.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=r.sibling,i.index=r.index,i.ref=r.ref,i}function Ya(r,s,i,c,h,g){var w=2;if(c=r,typeof r=="function")Tu(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case V:return Ps(i.children,h,g,s);case B:w=8,h|=8;break;case ne:return r=Pr(12,i,s,h|2),r.elementType=ne,r.lanes=g,r;case ce:return r=Pr(13,i,s,h),r.elementType=ce,r.lanes=g,r;case fe:return r=Pr(19,i,s,h),r.elementType=fe,r.lanes=g,r;case Y:return Xa(i,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case le:w=10;break e;case de:w=9;break e;case me:w=11;break e;case G:w=14;break e;case W:w=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Pr(w,i,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function Ps(r,s,i,c){return r=Pr(7,r,c,s),r.lanes=i,r}function Xa(r,s,i,c){return r=Pr(22,r,c,s),r.elementType=Y,r.lanes=i,r.stateNode={isHidden:!1},r}function ju(r,s,i){return r=Pr(6,r,null,s),r.lanes=i,r}function Nu(r,s,i){return s=Pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=i,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function wx(r,s,i,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rc(0),this.expirationTimes=rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ou(r,s,i,c,h,g,w,N,P){return r=new wx(r,s,i,N,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Pr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vc(g),r}function xx(r,s,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:c==null?null:""+c,children:r,containerInfo:s,implementation:i}}function Xp(r){if(!r)return Xn;r=r._reactInternals;e:{if(kn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ar(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var i=r.type;if(ar(i))return kh(r,i,s)}return s}function Qp(r,s,i,c,h,g,w,N,P){return r=Ou(i,c,!0,r,h,g,w,N,P),r.context=Xp(null),i=r.current,c=tr(),h=ss(i),g=Rn(c,h),g.callback=s??null,es(i,g,h),r.current.lanes=h,Yo(r,h,c),ur(r,c),r}function Qa(r,s,i,c){var h=s.current,g=tr(),w=ss(h);return i=Xp(i),s.context===null?s.context=i:s.pendingContext=i,s=Rn(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=es(h,s,w),r!==null&&(qr(r,h,w,g),Na(r,h,w)),w}function Za(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Zp(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var i=r.retryLane;r.retryLane=i!==0&&i<s?i:s}}function Ru(r,s){Zp(r,s),(r=r.alternate)&&Zp(r,s)}function bx(){return null}var eg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Pu(r){this._internalRoot=r}el.prototype.render=Pu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Qa(r,s,null,null)},el.prototype.unmount=Pu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ns(function(){Qa(null,r,null,null)}),s[Cn]=null}};function el(r){this._internalRoot=r}el.prototype.unstable_scheduleHydration=function(r){if(r){var s=Mf();r={blockedOn:null,target:r,priority:s};for(var i=0;i<qn.length&&s!==0&&s<qn[i].priority;i++);qn.splice(i,0,r),i===0&&zf(r)}};function Iu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function tl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function tg(){}function Sx(r,s,i,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var F=Za(w);g.call(F)}}var w=Qp(s,c,r,0,null,!1,!1,"",tg);return r._reactRootContainer=w,r[Cn]=w.current,ui(r.nodeType===8?r.parentNode:r),Ns(),w}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var N=c;c=function(){var F=Za(P);N.call(F)}}var P=Ou(r,0,!1,null,null,!1,!1,"",tg);return r._reactRootContainer=P,r[Cn]=P.current,ui(r.nodeType===8?r.parentNode:r),Ns(function(){Qa(s,P,i,c)}),P}function rl(r,s,i,c,h){var g=i._reactRootContainer;if(g){var w=g;if(typeof h=="function"){var N=h;h=function(){var P=Za(w);N.call(P)}}Qa(s,w,r,h)}else w=Sx(i,s,r,h,c);return Za(w)}Df=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var i=Jo(s.pendingLanes);i!==0&&(nc(s,i|1),ur(s,mt()),(Ve&6)===0&&(mo=mt()+500,Qn()))}break;case 13:Ns(function(){var c=On(r,1);if(c!==null){var h=tr();qr(c,r,1,h)}}),Ru(r,1)}},sc=function(r){if(r.tag===13){var s=On(r,134217728);if(s!==null){var i=tr();qr(s,r,134217728,i)}Ru(r,134217728)}},Lf=function(r){if(r.tag===13){var s=ss(r),i=On(r,s);if(i!==null){var c=tr();qr(i,r,s,c)}Ru(r,s)}},Mf=function(){return qe},$f=function(r,s){var i=qe;try{return qe=r,s()}finally{qe=i}},kr=function(r,s,i){switch(s){case"input":if(Bt(r,i),s=i.name,i.type==="radio"&&s!=null){for(i=r;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==r&&c.form===r.form){var h=wa(c);if(!h)throw Error(n(90));Ae(c),Bt(c,h)}}}break;case"textarea":Ws(r,i);break;case"select":s=i.value,s!=null&&en(r,!!i.multiple,s,!1)}},kt=Eu,Ct=Ns;var _x={usingClientEntryPoint:!1,Events:[hi,ro,wa,Ie,Xe,Eu]},Ti={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ex={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=dt(r),r===null?null:r.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{ea=nl.inject(Ex),nn=nl}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x,dr.createPortal=function(r,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(s))throw Error(n(200));return xx(r,s,null,i)},dr.createRoot=function(r,s){if(!Iu(r))throw Error(n(299));var i=!1,c="",h=eg;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Ou(r,1,!1,null,null,i,!1,c,h),r[Cn]=s.current,ui(r.nodeType===8?r.parentNode:r),new Pu(s)},dr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=dt(s),r=r===null?null:r.stateNode,r},dr.flushSync=function(r){return Ns(r)},dr.hydrate=function(r,s,i){if(!tl(s))throw Error(n(200));return rl(null,r,s,!0,i)},dr.hydrateRoot=function(r,s,i){if(!Iu(r))throw Error(n(405));var c=i!=null&&i.hydratedSources||null,h=!1,g="",w=eg;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),s=Qp(s,null,r,1,i??null,h,!1,g,w),r[Cn]=s.current,ui(r),c)for(r=0;r<c.length;r++)i=c[r],h=i._getVersion,h=h(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,h]:s.mutableSourceEagerHydrationData.push(i,h);return new el(s)},dr.render=function(r,s,i){if(!tl(s))throw Error(n(200));return rl(null,r,s,!1,i)},dr.unmountComponentAtNode=function(r){if(!tl(r))throw Error(n(40));return r._reactRootContainer?(Ns(function(){rl(null,null,r,!1,function(){r._reactRootContainer=null,r[Cn]=null})}),!0):!1},dr.unstable_batchedUpdates=Eu,dr.unstable_renderSubtreeIntoContainer=function(r,s,i,c){if(!tl(i))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return rl(r,s,i,!1,c)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var cg;function Mm(){if(cg)return Lu.exports;cg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lu.exports=Px(),Lu.exports}var ug;function Ix(){if(ug)return sl;ug=1;var t=Mm();return sl.createRoot=t.createRoot,sl.hydrateRoot=t.hydrateRoot,sl}var Ax=Ix(),x=Kd();const re=qd(x),Dx=Cx({__proto__:null,default:re},[x]);var un=function(){return un=Object.assign||function(e){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},un.apply(this,arguments)};function $o(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n}function Lx(t,e,n,o){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{m(o.next(y))}catch(v){u(v)}}function p(y){try{m(o.throw(y))}catch(v){u(v)}}function m(y){y.done?l(y.value):a(y.value).then(f,p)}m((o=o.apply(t,e||[])).next())})}function Mx(t,e,n){if(n||arguments.length===2)for(var o=0,a=e.length,l;o<a;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return t.concat(l||Array.prototype.slice.call(e))}const $x=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Gd extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class Fx extends Gd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dg extends Gd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fg extends Gd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fd||(fd={}));class zx{constructor(e,{headers:n={},customFetch:o,region:a=fd.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=$x(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Lx(this,arguments,void 0,function*(n,o={}){var a;let l,u;try{const{headers:f,method:p,body:m,signal:y,timeout:v}=o;let S={},{region:_}=o;_||(_=this.region);const k=new URL(`${this.url}/${n}`);_&&_!=="any"&&(S["x-region"]=_,k.searchParams.set("forceFunctionRegion",_));let b;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",b=m):typeof m=="string"?(S["Content-Type"]="text/plain",b=m):typeof FormData<"u"&&m instanceof FormData?b=m:(S["Content-Type"]="application/json",b=JSON.stringify(m)):b=m;let C=y;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),y?(C=u.signal,y.addEventListener("abort",()=>u.abort())):C=u.signal);const T=yield this.fetch(k.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:b,signal:C}).catch($=>{throw new Fx($)}),j=T.headers.get("x-relay-error");if(j&&j==="true")throw new dg(T);if(!T.ok)throw new fg(T);let R=((a=T.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return R==="application/json"?A=yield T.json():R==="application/octet-stream"||R==="application/pdf"?A=yield T.blob():R==="text/event-stream"?A=T:R==="multipart/form-data"?A=yield T.formData():A=yield T.text(),{data:A,error:null,response:T}}catch(f){return{data:null,error:f,response:f instanceof fg||f instanceof dg?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var Ux=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Bx=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,f=null,p=null,m=l.status,y=l.statusText;if(l.ok){var v,S;if(n.method!=="HEAD"){var _;const T=await l.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?f=T:f=JSON.parse(T))}const b=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(S=l.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");b&&C&&C.length>1&&(p=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var k;const b=await l.text();try{u=JSON.parse(b),Array.isArray(u)&&l.status===404&&(f=[],u=null,m=200,y="OK")}catch{l.status===404&&b===""?(m=204,y="No Content"):u={message:b}}if(u&&n.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&n.shouldThrowOnError)throw new Ux(u)}return{error:u,data:f,count:p,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var u;let f="";const p=l==null?void 0:l.cause;if(p){var m,y,v,S;const k=(m=p==null?void 0:p.message)!==null&&m!==void 0?m:"",b=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";f=`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,f+=`

Caused by: ${(S=p==null?void 0:p.name)!==null&&S!==void 0?S:"Error"}: ${k}`,b&&(f+=` (${b})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var _;f=(_=l==null?void 0:l.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},Vx=class extends Bx{select(t){let e=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:l="text"}={}){var u;const f=[t?"analyze":null,e?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const hg=new RegExp("[,()]");var No=class extends Vx{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&hg.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&hg.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Hx=class{constructor(t,{headers:e={},schema:n,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=o}select(t,e){const{head:n=!1,count:o}=e??{},a=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new No({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var o;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new No({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new No({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const o="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new No({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new No({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Wx=class $m{constructor(e,{headers:n={},schema:o,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=o,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Hx(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $m(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:o=!1,get:a=!1,count:l}={}){var u;let f;const p=new URL(`${this.url}/rpc/${e}`);let m;o||a?(f=o?"HEAD":"GET",Object.entries(n).filter(([v,S])=>S!==void 0).map(([v,S])=>[v,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([v,S])=>{p.searchParams.append(v,S)})):(f="POST",m=n);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new No({method:f,url:p,headers:y,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class qx{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Kx="2.88.0",Gx=`realtime-js/${Kx}`,Fm="1.0.0",Jx="2.0.0",pg=Fm,hd=1e4,Yx=1e3,Xx=100;var us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(us||(us={}));var Mt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Mt||(Mt={}));var Yr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Yr||(Yr={}));var pd;(function(t){t.websocket="websocket"})(pd||(pd={}));var Ms;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ms||(Ms={}));class Qx{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,o){var a,l;const u=e.topic,f=(a=e.ref)!==null&&a!==void 0?a:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+u.length+m.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+S);let k=new DataView(_),b=0;k.setUint8(b++,this.KINDS.userBroadcastPush),k.setUint8(b++,p.length),k.setUint8(b++,f.length),k.setUint8(b++,u.length),k.setUint8(b++,m.length),k.setUint8(b++,v.length),k.setUint8(b++,n),Array.from(p,T=>k.setUint8(b++,T.charCodeAt(0))),Array.from(f,T=>k.setUint8(b++,T.charCodeAt(0))),Array.from(u,T=>k.setUint8(b++,T.charCodeAt(0))),Array.from(m,T=>k.setUint8(b++,T.charCodeAt(0))),Array.from(v,T=>k.setUint8(b++,T.charCodeAt(0)));var C=new Uint8Array(_.byteLength+o.byteLength);return C.set(new Uint8Array(_),0),C.set(new Uint8Array(o),_.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[a,l,u,f,p]=o;return n({join_ref:a,ref:l,topic:u,event:f,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,o){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const m=o.decode(e.slice(p,p+a));p=p+a;const y=o.decode(e.slice(p,p+l));p=p+l;const v=o.decode(e.slice(p,p+u));p=p+u;const S=e.slice(p,e.byteLength),_=f===this.JSON_ENCODING?JSON.parse(o.decode(S)):S,k={type:this.BROADCAST_EVENT,event:y,payload:_};return u>0&&(k.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>n.includes(o)))}}class zm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ze||(Ze={}));const gg=(t,e,n={})=>{var o;const a=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Zx(u,t,e,a),l),{}):{}},Zx=(t,e,n,o)=>{const a=e.find(f=>f.name===t),l=a==null?void 0:a.type,u=n[t];return l&&!o.includes(l)?Um(l,u):gd(u)},Um=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return nb(e,n)}switch(t){case Ze.bool:return eb(e);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return tb(e);case Ze.json:case Ze.jsonb:return rb(e);case Ze.timestamp:return sb(e);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return gd(e);default:return gd(e)}},gd=t=>t,eb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},nb=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,o=t[n];if(t[0]==="{"&&o==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>Um(e,f))}return t},sb=t=>typeof t=="string"?t.replace(" ","T"):t,Bm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Fu{constructor(e,n,o={},a=hd){this.channel=e,this.event=n,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mg||(mg={}));class Pi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pi.syncState(this.state,a,l,u),this.pendingDiffs.forEach(p=>{this.state=Pi.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Pi.syncDiff(this.state,a,l,u),f())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,a){const l=this.cloneDeep(e),u=this.transformState(n),f={},p={};return this.map(l,(m,y)=>{u[m]||(p[m]=y)}),this.map(u,(m,y)=>{const v=l[m];if(v){const S=y.map(C=>C.presence_ref),_=v.map(C=>C.presence_ref),k=y.filter(C=>_.indexOf(C.presence_ref)<0),b=v.filter(C=>S.indexOf(C.presence_ref)<0);k.length>0&&(f[m]=k),b.length>0&&(p[m]=b)}else f[m]=y}),this.syncDiff(l,{joins:f,leaves:p},o,a)}static syncDiff(e,n,o,a){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(l,(f,p)=>{var m;const y=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(p),y.length>0){const v=e[f].map(_=>_.presence_ref),S=y.filter(_=>v.indexOf(_.presence_ref)<0);e[f].unshift(...S)}o(f,y,p)}),this.map(u,(f,p)=>{let m=e[f];if(!m)return;const y=p.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),e[f]=m,a(f,m,p),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const a=e[o];return"metas"in a?n[o]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[o]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vg||(vg={}));var Ii;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ii||(Ii={}));var Dn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class Po{constructor(e,n={config:{}},o){var a,l;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,Yr.join,this.params,this.timeout),this.rejoinTimer=new zm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yr.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Pi(this),this.broadcastEndpointURL=Bm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:u,presence:f,private:p}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(_=>_.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Ii.PRESENCE]&&this.bindings[Ii.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},S={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(Dn.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e(Dn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(k=b==null?void 0:b.length)!==null&&k!==void 0?k:0,T=[];for(let j=0;j<C;j++){const R=b[j],{filter:{event:A,schema:$,table:H,filter:V}}=R,B=_&&_[j];if(B&&B.event===A&&Po.isFilterValueEqual(B.schema,$)&&Po.isFilterValueEqual(B.table,H)&&Po.isFilterValueEqual(B.filter,V))T.push(Object.assign(Object.assign({},R),{id:B.id}));else{this.unsubscribe(),this.state=Mt.errored,e==null||e(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Dn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Mt.errored,e==null||e(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===Mt.joined&&e===Ii.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var o,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Fu(this,Yr.leave,{},e),o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const a=new AbortController,l=setTimeout(()=>a.abort(),o),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),u}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Fu(this,e,n,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Xx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var a,l;const u=e.toLocaleLowerCase(),{close:f,error:p,leave:m,join:y}=Yr;if(o&&[f,p,m,y].indexOf(u)>=0&&o!==this._joinRef())return;let S=this._onMessage(u,n,o);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var k,b,C;return((k=_.filter)===null||k===void 0?void 0:k.event)==="*"||((C=(b=_.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(_=>_.callback(S,o)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var k,b,C,T,j,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const A=_.id,$=(k=_.filter)===null||k===void 0?void 0:k.event;return A&&((b=n.ids)===null||b===void 0?void 0:b.includes(A))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const A=(j=(T=_==null?void 0:_.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return A==="*"||A===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof S=="object"&&"ids"in S){const k=S.data,{schema:b,table:C,commit_timestamp:T,type:j,errors:R}=k;S=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:T,eventType:j,new:{},old:{},errors:R}),this._getPayloadRecords(k))}_.callback(S,o)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:o};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&Po.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yr.close,{},e)}_onError(e){this._on(Yr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=gg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=gg(e.columns,e.old_record)),n}}const zu=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ob=[1e3,2e3,5e3,1e4],ib=1e4,ab=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lb{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hd,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zu,this.ref=0,this.reconnectTimer=null,this.vsn=pg,this.logger=zu,this.conn=null,this.sendBuffer=[],this.serializer=new Qx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${pd.websocket}`,this.httpEndpoint=Bm(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return Ms.Connecting;case us.open:return Ms.Open;case us.closing:return Ms.Closing;default:return Ms.Closed}}isConnected(){return this.connectionState()===Ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===o);if(a)return a;{const l=new Po(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:o,payload:a,ref:l}=e,u=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${o} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Yx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:l,ref:u}=n,f=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${o} ${a} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===us.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===us.open||this.conn.readyState===us.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${o}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([ab],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,o=!1;if(e)n=e,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:Gx};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Yr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new zm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,a,l,u,f,p,m,y,v,S,_;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:hd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:ol.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:zu,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:pg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(k=>ob[k-1]||ib),this.vsn){case Fm:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((k,b)=>b(JSON.stringify(k))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((k,b)=>b(JSON.parse(k)));break;case Jx:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Mi=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cb(t,e,n){const o=new URL(e,t);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&o.searchParams.set(a,l);return o.toString()}async function ub(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function db(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:a,body:l,headers:u}){const f=cb(t.baseUrl,o,a),p=await ub(t.auth),m=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...u},body:l?JSON.stringify(l):void 0}),y=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),S=v&&y?JSON.parse(y):y;if(!m.ok){const _=v?S:void 0,k=_==null?void 0:_.error;throw new Mi((k==null?void 0:k.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:_})}return{status:m.status,headers:m.headers,data:S}}}}function il(t){return t.join("")}var fb=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:il(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${il(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${il(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${il(t.namespace)}`}),!0}catch(e){if(e instanceof Mi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Mi&&n.status===409)return;throw n}}};function yo(t){return t.join("")}var hb=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Mi&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Mi&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},pb=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=db({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new fb(this.client,e),this.tableOps=new hb(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Dl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function wt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var gb=class extends Dl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},md=class extends Dl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Jd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mb=()=>Response,vd=t=>{if(Array.isArray(t))return t.map(n=>vd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,o])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=vd(o)}),e},vb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yb=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function $i(t){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(t)}function wb(t,e){if($i(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if($i(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xb(t){var e=wb(t,"string");return $i(e)=="symbol"?e:e+""}function bb(t,e,n){return(e=xb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yg(Object(n),!0).forEach(function(o){bb(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const Uu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Sb=async(t,e,n)=>{t instanceof await mb()&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,l=(o==null?void 0:o.statusCode)||a+"";e(new gb(Uu(o),a,l))}).catch(o=>{e(new md(Uu(o),o))}):e(new md(Uu(t),t))},_b=(t,e,n,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?a:(vb(o)?(a.headers=Ne({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o)):a.body=o,e!=null&&e.duplex&&(a.duplex=e.duplex),Ne(Ne({},a),n))};async function Gi(t,e,n,o,a,l){return new Promise((u,f)=>{t(n,_b(e,o,a,l)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>Sb(p,f,o))})}async function Fi(t,e,n,o){return Gi(t,"GET",e,n,o)}async function Jr(t,e,n,o,a){return Gi(t,"POST",e,o,a,n)}async function yd(t,e,n,o,a){return Gi(t,"PUT",e,o,a,n)}async function Eb(t,e,n,o){return Gi(t,"HEAD",e,Ne(Ne({},n),{},{noResolveJson:!0}),o)}async function Yd(t,e,n,o,a){return Gi(t,"DELETE",e,o,a,n)}var kb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wt(e))return{data:null,error:e};throw e}}};let Vm;Vm=Symbol.toStringTag;var Cb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Vm]="BlobDownloadBuilder",this.promise=null}asStream(){return new kb(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wt(e))return{data:null,error:e};throw e}}};const Tb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jb=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Jd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,o){var a=this;try{let l;const u=Ne(Ne({},wg),o);let f=Ne(Ne({},a.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",a.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(p))):(l=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,p&&(f["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(f=Ne(Ne({},f),o.headers));const m=a._removeEmptyFolders(e),y=a._getFinalPath(m),v=await(t=="PUT"?yd:Jr)(a.fetch,`${a.url}/object/${y}`,l,Ne({headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(wt(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,o){var a=this;const l=a._removeEmptyFolders(t),u=a._getFinalPath(l),f=new URL(a.url+`/object/upload/sign/${u}`);f.searchParams.set("token",e);try{let p;const m=Ne({upsert:wg.upsert},o),y=Ne(Ne({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",m.cacheControl)):(p=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:l,fullPath:(await yd(a.fetch,f.toString(),p,{headers:y})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(wt(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(t,e){var n=this;try{let o=n._getFinalPath(t);const a=Ne({},n.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await Jr(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:a}),u=new URL(n.url+l.url),f=u.searchParams.get("token");if(!f)throw new Dl("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(wt(o))return{data:null,error:o};throw o}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var o=this;try{return{data:await Jr(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}}async copy(t,e,n){var o=this;try{return{data:{path:(await Jr(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,n){var o=this;try{let a=o._getFinalPath(t),l=await Jr(o.fetch,`${o.url}/object/sign/${a}`,Ne({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${o.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,n){var o=this;try{const a=await Jr(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:t},{headers:o.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(u=>Ne(Ne({},u),{},{signedUrl:u.signedURL?encodeURI(`${o.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=o?`?${o}`:"",l=this._getFinalPath(t),u=()=>Fi(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Cb(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:vd(await Fi(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(wt(o))return{data:null,error:o};throw o}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await Eb(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(wt(o)&&o instanceof md){const a=o.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:o}}throw o}}getPublicUrl(t,e){const n=this._getFinalPath(t),o=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&o.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&o.push(u);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(t){var e=this;try{return{data:await Yd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async list(t,e,n){var o=this;try{const a=Ne(Ne(Ne({},Tb),e),{},{prefix:t||""});return{data:await Jr(o.fetch,`${o.url}/object/list/${o.bucketId}`,a,{headers:o.headers},n),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}}async listV2(t,e){var n=this;try{const o=Ne({},t);return{data:await Jr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},e),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(wt(o))return{data:null,error:o};throw o}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Hm="2.88.0",Wm={"X-Client-Info":`storage-js/${Hm}`};var Nb=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1;const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ne(Ne({},Wm),e),this.fetch=Jd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Fi(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Fi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Jr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(wt(o))return{data:null,error:o};throw o}}async updateBucket(t,e){var n=this;try{return{data:await yd(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(wt(o))return{data:null,error:o};throw o}}async emptyBucket(t){var e=this;try{return{data:await Jr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Yd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Ob=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ne(Ne({},Wm),e),this.fetch=Jd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Jr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const o=n.toString(),a=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return{data:await Fi(e.fetch,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Yd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!yb(t))throw new Dl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new pb({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(a,l){const u=a[l];return typeof u!="function"?u:async(...f)=>{try{return{data:await u.apply(a,f),error:null}}catch(p){if(o)throw p;return{data:null,error:p}}}}})}};const Xd={"X-Client-Info":`storage-js/${Hm}`,"Content-Type":"application/json"};var qm=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function br(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Bu=class extends qm{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rb=class extends qm{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Qd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Pb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ib=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new Bu(xg(l),o,u))}).catch(()=>{const l=o+"";e(new Bu(a.statusText||`HTTP ${o} error`,o,l))});else{const l=o+"";e(new Bu(a.statusText||`HTTP ${o} error`,o,l))}}else e(new Rb(xg(t),t))},Ab=(t,e,n,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return o?(Pb(o)?(a.headers=Ne({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o)):a.body=o,Ne(Ne({},a),n)):a};async function Db(t,e,n,o,a,l){return new Promise((u,f)=>{t(n,Ab(e,o,a,l)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>Ib(p,f,o))})}async function Sr(t,e,n,o,a){return Db(t,"POST",e,o,a,n)}var Lb=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ne(Ne({},Xd),e),this.fetch=Qd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Sr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Sr(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(br(o))return{data:null,error:o};throw o}}async listIndexes(t){var e=this;try{return{data:await Sr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Sr(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(br(o))return{data:null,error:o};throw o}}},Mb=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ne(Ne({},Xd),e),this.fetch=Qd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Sr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Sr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Sr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}},$b=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ne(Ne({},Xd),e),this.fetch=Qd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Sr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Sr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Sr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Sr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}},Fb=class extends $b{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new zb(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},zb=class extends Lb{constructor(t,e,n,o){super(t,e,o),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ne(Ne({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ne(Ne({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Ub(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ub=class extends Mb{constructor(t,e,n,o,a){super(t,e,a),this.vectorBucketName=n,this.indexName=o}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ne(Ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ne(Ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ne(Ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ne(Ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ne(Ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Bb=class extends Nb{constructor(t,e={},n,o){super(t,e,n,o)}from(t){return new jb(this.url,this.headers,t,this.fetch)}get vectors(){return new Fb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ob(this.url+"/iceberg",this.headers,this.fetch)}};const Km="2.88.0",Oo=30*1e3,wd=3,Vu=wd*Oo,Vb="http://localhost:9999",Hb="supabase.auth.token",Wb={"X-Client-Info":`gotrue-js/${Km}`},xd="X-Supabase-Api-Version",Gm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kb=600*1e3;class zi extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function Se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Gb extends zi{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Jb(t){return Se(t)&&t.name==="AuthApiError"}class $s extends zi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class $n extends zi{constructor(e,n,o,a){super(e,o,a),this.name=n,this.status=o}}class wr extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yb(t){return Se(t)&&t.name==="AuthSessionMissingError"}class wo extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class al extends $n{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ll extends $n{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xb(t){return Se(t)&&t.name==="AuthImplicitGrantRedirectError"}class bg extends $n{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qb extends $n{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bd extends $n{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hu(t){return Se(t)&&t.name==="AuthRetryableFetchError"}class Sg extends $n{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Sd extends $n{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_g=` 	
\r=`.split(""),Zb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_g.length;e+=1)t[_g[e].charCodeAt(0)]=-2;for(let e=0;e<_l.length;e+=1)t[_l[e].charCodeAt(0)]=e;return t})();function Eg(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(_l[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(_l[o]),e.queuedBits-=6}}function Jm(t,e,n){const o=Zb[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function kg(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{rS(u,o,n)};for(let u=0;u<t.length;u+=1)Jm(t.charCodeAt(u),a,l);return e.join("")}function eS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tS(t,e){for(let n=0;n<t.length;n+=1){let o=t.charCodeAt(n);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}eS(o,e)}}function rS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Io(t){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Jm(t.charCodeAt(a),n,o);return new Uint8Array(e)}function nS(t){const e=[];return tS(t,n=>e.push(n)),new Uint8Array(e)}function Fs(t){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};return t.forEach(a=>Eg(a,n,o)),Eg(null,n,o),e.join("")}function sS(t){return Math.round(Date.now()/1e3)+t}function oS(){return Symbol("auth-callback")}const qt=()=>typeof window<"u"&&typeof document<"u",Is={tested:!1,writable:!1},Ym=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Is.tested)return Is.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Is.tested=!0,Is.writable=!0}catch{Is.tested=!0,Is.writable=!1}return Is.writable};function iS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((o,a)=>{e[a]=o}),e}const Xm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ro=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},As=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wt=async(t,e)=>{await t.removeItem(e)};class Ll{constructor(){this.promise=new Ll.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ll.promiseConstructor=Promise;function Wu(t){const e=t.split(".");if(e.length!==3)throw new Sd("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!qb.test(e[o]))throw new Sd("JWT not in base64url format");return{header:JSON.parse(kg(e[0])),payload:JSON.parse(kg(e[1])),signature:Io(e[2]),raw:{header:e[0],payload:e[1]}}}async function lS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cS(t,e){return new Promise((o,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){o(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function uS(t){return("0"+t.toString(16)).substr(-2)}function dS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(e),Array.from(e,uS).join("")}async function fS(t){const n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(o);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function hS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await fS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xo(t,e,n=!1){const o=dS();let a=o;n&&(a+="/PASSWORD_RECOVERY"),await Ro(t,`${e}-code-verifier`,a);const l=await hS(o);return[l,o===l?"plain":"s256"]}const pS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gS(t){const e=t.headers.get(xd);if(!e||!e.match(pS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bo(t){if(!yS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wS(t,e){return new Proxy(t,{get:(n,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,a)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,a)}})}function Cg(t){return JSON.parse(JSON.stringify(t))}const Ls=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xS=[502,503,504];async function Tg(t){var e;if(!aS(t))throw new bd(Ls(t),0);if(xS.includes(t.status))throw new bd(Ls(t),t.status);let n;try{n=await t.json()}catch(l){throw new $s(Ls(l),l)}let o;const a=gS(t);if(a&&a.getTime()>=Gm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Sg(Ls(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new wr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Sg(Ls(n),t.status,n.weak_password.reasons);throw new Gb(Ls(n),t.status||500,o)}const bS=(t,e,n,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),n))};async function je(t,e,n,o){var a;const l=Object.assign({},o==null?void 0:o.headers);l[xd]||(l[xd]=Gm["2024-01-01"].name),o!=null&&o.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const u=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(u.redirect_to=o.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await SS(t,e,n+f,{headers:l,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function SS(t,e,n,o,a,l){const u=bS(e,o,a,l);let f;try{f=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new bd(Ls(p),0)}if(f.ok||await Tg(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(p){await Tg(p)}}function Kr(t){var e;let n=null;kS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=sS(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:o},error:null}}function jg(t){const e=Kr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ds(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _S(t){return{data:t,error:null}}function ES(t){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l}=t,u=$o(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l},p=Object.assign({},u);return{data:{properties:f,user:p},error:null}}function Ng(t){return t}function kS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ku=["global","local","others"];class CS{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=Xm(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ku[0]){if(Ku.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Se(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ds})}catch(o){if(Se(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=$o(e,["options"]),a=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ES,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ds})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,a,l,u,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Ng});if(y.error)throw y.error;const v=await y.json(),S=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(k=>{const b=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);m[`${C}Page`]=b}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Se(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){bo(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ds})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){bo(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ds})}catch(o){if(Se(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){bo(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ds})}catch(o){if(Se(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){bo(e.userId);try{const{data:n,error:o}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:o}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){bo(e.userId),bo(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,a,l,u,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Ng});if(y.error)throw y.error;const v=await y.json(),S=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(k=>{const b=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);m[`${C}Page`]=b}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Se(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Se(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}}function Og(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const So={debug:!!(globalThis&&Ym()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class TS extends Qm{}async function jS(t,e,n){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),So.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{So.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw So.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new TS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(So.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function NS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zm(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function OS(t){return parseInt(t,16)}function RS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function PS(t){var e;const{chainId:n,domain:o,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:p,resources:m,scheme:y,uri:v,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=Zm(t.address),k=y?`${y}://${o}`:o,b=t.statement?`${t.statement}
`:"",C=`${k} wants you to sign in with your Ethereum account:
${_}

${b}`;let T=`URI: ${v}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(T+=`
Expiration Time: ${a.toISOString()}`),f&&(T+=`
Not Before: ${f.toISOString()}`),p&&(T+=`
Request ID: ${p}`),m){let j=`
Resources:`;for(const R of m){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);j+=`
- ${R}`}T+=j}return`${C}
${T}`}class It extends Error{constructor({message:e,code:n,cause:o,name:a}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=a??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class El extends It{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function IS({error:t,options:e}){var n,o,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new It({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new It({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new It({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new It({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new It({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new It({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new It({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new It({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(ev(u)){if(l.rp.id!==u)return new It({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new It({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function AS({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new It({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new It({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(ev(o)){if(n.rpId!==o)return new It({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class DS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const LS=new DS;function MS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:o}=t,a=$o(t,["challenge","user","excludeCredentials"]),l=Io(e).buffer,u=Object.assign(Object.assign({},n),{id:Io(n.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:u});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const m=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Io(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function $S(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,o=$o(t,["challenge","allowCredentials"]),a=Io(e).buffer,l=Object.assign(Object.assign({},o),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Io(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function FS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,o=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fs(new Uint8Array(a.authenticatorData)),clientDataJSON:Fs(new Uint8Array(a.clientDataJSON)),signature:Fs(new Uint8Array(a.signature)),userHandle:a.userHandle?Fs(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ev(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rg(){var t,e;return!!(qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function US(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new El("Browser returned unexpected credential type",e)}:{data:null,error:new El("Empty credential response",e)}}catch(e){return{data:null,error:IS({error:e,options:t})}}}async function BS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new El("Browser returned unexpected credential type",e)}:{data:null,error:new El("Empty credential response",e)}}catch(e){return{data:null,error:AS({error:e,options:t})}}}const VS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},HS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function kl(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of t)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))o[l]=u;else if(n(u))o[l]=u;else if(e(u)){const f=o[l];e(f)?o[l]=kl(f,u):o[l]=kl(u)}else o[l]=u}return o}function WS(t,e){return kl(VS,t,e||{})}function qS(t,e){return kl(HS,t,e||{})}class KS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:a},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const p=a??LS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=WS(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:v}=await US({publicKey:m,signal:p});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=qS(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:v}=await BS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:p}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new $s("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new zi("rpId is required for WebAuthn authentication")};try{if(!Rg())return{data:null,error:new $s("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:a},{request:l});if(!u)return{data:null,error:f};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new $s("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new zi("rpId is required for WebAuthn registration")};try{if(!Rg())return{data:null,error:new $s("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:a},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new $s("Unexpected error in register",u)}}}}NS();const GS={url:Vb,storageKey:Hb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Pg(t,e,n){return await n()}const _o={};class Ui{get jwks(){var e,n;return(n=(e=_o[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=_o[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},GS),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Ui.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&qt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new CS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Xm(l.fetch),this.lock=l.lock||Pg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&qt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=jS:this.lock=Pg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Ym()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Og(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Og(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Km}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(qt()&&(n=iS(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),qt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Xb(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?this._returnResult({error:n}):this._returnResult({error:new $s("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,a;try{const l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Kr}),{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(Se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,o,a;try{let l;if("email"in e){const{email:y,password:v,options:S}=e;let _=null,k=null;this.flowType==="pkce"&&([_,k]=await xo(this.storage,this.storageKey)),l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:v,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:_,code_challenge_method:k},xform:Kr})}else if("phone"in e){const{phone:y,password:v,options:S}=e;l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(o=S==null?void 0:S.data)!==null&&o!==void 0?o:{},channel:(a=S==null?void 0:S.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Kr})}else throw new al("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return await Wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jg})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jg})}else throw new al("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const l=new wo;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(n){if(Se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,a,l,u,f,p,m,y,v,S;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:b,wallet:C,statement:T,options:j}=e;let R;if(qt())if(typeof C=="object")R=C;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")R=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const A=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href),$=await R.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=Zm($[0]);let V=(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!V){const ne=await R.request({method:"eth_chainId"});V=OS(ne)}const B={domain:A.host,address:H,statement:T,uri:A.href,version:"1",chainId:V,nonce:(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=j==null?void 0:j.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=j==null?void 0:j.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=j==null?void 0:j.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=PS(B),k=await R.request({method:"personal_sign",params:[RS(_),H]})}try{const{data:b,error:C}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:k},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Kr});if(C)throw C;if(!b||!b.session||!b.user){const T=new wo;return this._returnResult({data:{user:null,session:null},error:T})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:C})}catch(b){if(Se(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,o,a,l,u,f,p,m,y,v,S,_;let k,b;if("message"in e)k=e.message,b=e.signature;else{const{chain:C,wallet:T,statement:j,options:R}=e;let A;if(qt())if(typeof T=="object")A=T;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))A=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const $=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const H=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),j?{statement:j}:null));let V;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")V=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)V=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)k=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),b=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${$.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(a=(o=R==null?void 0:R.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(y=R==null?void 0:R.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const H=await A.signMessage(new TextEncoder().encode(k),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=H}}try{const{data:C,error:T}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Fs(b)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Kr});if(T)throw T;if(!C||!C.session||!C.user){const j=new wo;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:T})}catch(C){if(Se(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await As(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Qb;const{data:l,error:u}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Kr});if(await Wt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const f=new wo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:o,token:a,access_token:l,nonce:u}=e,f=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kr}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const y=new wo;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(n){if(Se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,a,l,u;try{if("email"in e){const{email:f,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await xo(this.storage,this.storageKey));const{error:v}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:f,options:p}=e,{data:m,error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new al("You must provide either an email or phone number.")}catch(f){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,o;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:f}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Kr});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,m=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(a){if(Se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,o,a,l,u;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await xo(this.storage,this.storageKey));const m=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:_S});return!((l=m.data)===null||l===void 0)&&l.url&&qt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new wr;const{error:a}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:a,options:l}=e,{error:u}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:o,type:a,options:l}=e,{data:u,error:f}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new al("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Vu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const u=await As(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=qu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=wS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ds}):await this._useSession(async n=>{var o,a,l;const{data:u,error:f}=n;if(f)throw f;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:ds})})}catch(n){if(Se(n))return Yb(n)&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new wr;const u=a.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await xo(this.storage,this.storageKey));const{data:m,error:y}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:u.access_token,xform:ds});if(y)throw y;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(o){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wr;const n=Date.now()/1e3;let o=n,a=!0,l=null;const{payload:u}=Wu(e.access_token);if(u.exp&&(o=u.exp,a=o<=n),a){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(Se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(o=u.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new wr;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!qt())throw new ll("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ll(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ll("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bg("No code detected.");const{data:j,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:f,expires_at:p,token_type:m}=e;if(!l||!f||!u||!m)throw new ll("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let S=y+v;p&&(S=parseInt(p));const _=S-y;_*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const k=S-v;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,S,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,S,y);const{data:b,error:C}=await this._getUser(l);if(C)throw C;const T={provider_token:o,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:S,refresh_token:u,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(o){if(Se(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await As(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const u=(o=a.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(Jb(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=oS(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,a;try{const{data:{session:l},error:u}=n;if(u)throw u;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await xo(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:a}=await this._useSession(async l=>{var u,f,p,m,y;const{data:v,error:S}=l;if(S)throw S;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return qt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Se(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:u,provider:f,token:p,access_token:m,nonce:y}=e,v=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l==null?void 0:l.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Kr}),{data:S,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new wo}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:_}))}catch(a){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:u}=n;if(u)throw u;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await cS(async a=>(a>0&&await lS(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kr})),(a,l)=>{const u=200*Math.pow(2,a);return l&&Hu(l)&&Date.now()+u-o<Oo})}catch(o){if(this._debug(n,"error",o),Se(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),qt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await As(this.storage,this.storageKey);if(a&&this.userStorage){let u=await As(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Ro(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:qu()}else if(a&&!a.user&&!a.user){const u=await As(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await Wt(this.storage,this.storageKey+"-user"),await Ro(this.storage,this.storageKey,a)):a.user=qu()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vu;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${Vu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Hu(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ll;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new wr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),Se(l)){const u={data:null,error:l};return Hu(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,o=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Ro(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=Cg(a);await Ro(this.storage,this.storageKey,l)}else{const a=Cg(n);await Ro(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Wt(this.storage,this.storageKey),await Wt(this.storage,this.storageKey+"-code-verifier"),await Wt(this.storage,this.storageKey+"-user"),this.userStorage&&await Wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-e)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Oo}ms, refresh threshold is ${wd} ticks`),a<=wd&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const a=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,u]=await xo(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(o!=null&&o.queryParams){const l=new URLSearchParams(o.queryParams);a.push(l.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:m}=await je(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&p.type==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?FS(e.webauthn.credential_response):zS(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:MS(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:$S(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Wu(o.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(e=o.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new wr})})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new wr});const u=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&qt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(o){if(Se(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new wr});const u=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&qt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(o){if(Se(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wr})})}catch(e){if(Se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wr})})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(f=>f.kid===e);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(f=>f.kid===e),o&&this.jwks_cached_at+Kb>a)return o;const{data:l,error:u}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,o=l.keys.find(f=>f.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:_,error:k}=await this.getSession();if(k||!_.session)return this._returnResult({data:null,error:k});o=_.session.access_token}const{header:a,payload:l,signature:u,raw:{header:f,payload:p}}=Wu(o);n!=null&&n.allowExpired||mS(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:_}=await this.getUser(o);if(_)throw _;return{data:{claims:l,header:a,signature:u},error:null}}const y=vS(a.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,nS(`${f}.${p}`)))throw new Sd("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(o){if(Se(o))return this._returnResult({data:null,error:o});throw o}}}Ui.nextInstanceID={};const JS=Ui,YS="2.88.0";let Oi="";typeof Deno<"u"?Oi="deno":typeof document<"u"?Oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oi="react-native":Oi="node";const XS={"X-Client-Info":`supabase-js-${Oi}/${YS}`},QS={headers:XS},ZS={schema:"public"},e_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t_={};function Bi(t){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(t)}function r_(t,e){if(Bi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(Bi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n_(t){var e=r_(t,"string");return Bi(e)=="symbol"?e:e+""}function s_(t,e,n){return(e=n_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ig(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ig(Object(n),!0).forEach(function(o){s_(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const o_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i_=()=>Headers,a_=(t,e,n)=>{const o=o_(n),a=i_();return async(l,u)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:t;let m=new a(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),o(l,_t(_t({},u),{},{headers:m}))}};function l_(t){return t.endsWith("/")?t:t+"/"}function c_(t,e){var n,o;const{db:a,auth:l,realtime:u,global:f}=t,{db:p,auth:m,realtime:y,global:v}=e,S={db:_t(_t({},p),a),auth:_t(_t({},m),l),realtime:_t(_t({},y),u),storage:{},global:_t(_t(_t({},v),f),{},{headers:_t(_t({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function u_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var d_=class extends JS{constructor(t){super(t)}},f_=class{constructor(t,e,n){var o,a;this.supabaseUrl=t,this.supabaseKey=e;const l=u_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:ZS,realtime:t_,auth:_t(_t({},e_),{},{storageKey:u}),global:QS},p=c_(n??{},f);if(this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=p.auth)!==null&&m!==void 0?m:{},this.headers,p.global.fetch)}this.fetch=a_(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(_t({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Wx(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Bb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new zx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:o}=await t.auth.getSession();return(e=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:l,flowType:u,lock:f,debug:p,throwOnError:m},y,v){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d_({url:this.authUrl.href,headers:_t(_t({},S),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,flowType:u,lock:f,debug:p,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new lb(this.realtimeUrl.href,_t(_t({},t),{},{params:_t(_t({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tv=(t,e,n)=>new f_(t,e,n);function h_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}h_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lt="diutyuulfulleqfmjlxp",Zd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpdXR5dXVsZnVsbGVxZm1qbHhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5MTIwODgsImV4cCI6MjA4MTQ4ODA4OH0.y-JROlzATycLHcEyqOppWe1HNi-nQaV6kBg7FAa1F6Y";function Ag(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rv(...t){return e=>{let n=!1;const o=t.map(a=>{const l=Ag(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<o.length;a++){const l=o[a];typeof l=="function"?l():Ag(t[a],null)}}}}function xt(...t){return x.useCallback(rv(...t),t)}var ps=x.forwardRef((t,e)=>{const{children:n,...o}=t,a=x.Children.toArray(n),l=a.find(g_);if(l){const u=l.props.children,f=a.map(p=>p===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return d.jsx(_d,{...o,ref:e,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return d.jsx(_d,{...o,ref:e,children:n})});ps.displayName="Slot";var _d=x.forwardRef((t,e)=>{const{children:n,...o}=t;if(x.isValidElement(n)){const a=v_(n),l=m_(o,n.props);return n.type!==x.Fragment&&(l.ref=e?rv(e,a):a),x.cloneElement(n,l)}return x.Children.count(n)>1?x.Children.only(null):null});_d.displayName="SlotClone";var p_=({children:t})=>d.jsx(d.Fragment,{children:t});function g_(t){return x.isValidElement(t)&&t.type===p_}function m_(t,e){const n={...e};for(const o in e){const a=t[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...f)=>{l(...f),a(...f)}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function v_(t){var o,a;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function nv(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=nv(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function sv(){for(var t,e,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=nv(t))&&(o&&(o+=" "),o+=e);return o}const Dg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Lg=sv,ef=(t,e)=>n=>{var o;if((e==null?void 0:e.variants)==null)return Lg(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(m=>{const y=n==null?void 0:n[m],v=l==null?void 0:l[m];if(y===null)return null;const S=Dg(y)||Dg(v);return a[m][S]}),f=n&&Object.entries(n).reduce((m,y)=>{let[v,S]=y;return S===void 0||(m[v]=S),m},{}),p=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((m,y)=>{let{class:v,className:S,..._}=y;return Object.entries(_).every(k=>{let[b,C]=k;return Array.isArray(C)?C.includes({...l,...f}[b]):{...l,...f}[b]===C})?[...m,v,S]:m},[]);return Lg(t,u,p,n==null?void 0:n.class,n==null?void 0:n.className)},tf="-",y_=t=>{const e=x_(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:u=>{const f=u.split(tf);return f[0]===""&&f.length!==1&&f.shift(),ov(f,e)||w_(u)},getConflictingClassGroupIds:(u,f)=>{const p=n[u]||[];return f&&o[u]?[...p,...o[u]]:p}}},ov=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),a=o?ov(t.slice(1),o):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(tf);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},Mg=/^\[(.+)\]$/,w_=t=>{if(Mg.test(t)){const e=Mg.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},x_=t=>{const{theme:e,classGroups:n}=t,o={nextPart:new Map,validators:[]};for(const a in n)Ed(n[a],o,a,e);return o},Ed=(t,e,n,o)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:$g(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(b_(a)){Ed(a(o),e,n,o);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,u])=>{Ed(u,$g(e,l),n,o)})})},$g=(t,e)=>{let n=t;return e.split(tf).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},b_=t=>t.isThemeGetter,S_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;const a=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,o=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=o.get(l))!==void 0)return a(l,u),u},set(l,u){n.has(l)?n.set(l,u):a(l,u)}}},kd="!",Cd=":",__=Cd.length,E_=t=>{const{prefix:e,experimentalParseClassName:n}=t;let o=a=>{const l=[];let u=0,f=0,p=0,m;for(let k=0;k<a.length;k++){let b=a[k];if(u===0&&f===0){if(b===Cd){l.push(a.slice(p,k)),p=k+__;continue}if(b==="/"){m=k;continue}}b==="["?u++:b==="]"?u--:b==="("?f++:b===")"&&f--}const y=l.length===0?a:a.substring(p),v=k_(y),S=v!==y,_=m&&m>p?m-p:void 0;return{modifiers:l,hasImportantModifier:S,baseClassName:v,maybePostfixModifierPosition:_}};if(e){const a=e+Cd,l=o;o=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=o;o=l=>n({className:l,parseClassName:a})}return o},k_=t=>t.endsWith(kd)?t.substring(0,t.length-1):t.startsWith(kd)?t.substring(1):t,C_=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const a=[];let l=[];return o.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},T_=t=>({cache:S_(t.cacheSize),parseClassName:E_(t),sortModifiers:C_(t),...y_(t)}),j_=/\s+/,N_=(t,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(j_);let p="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:v,modifiers:S,hasImportantModifier:_,baseClassName:k,maybePostfixModifierPosition:b}=n(y);if(v){p=y+(p.length>0?" "+p:p);continue}let C=!!b,T=o(C?k.substring(0,b):k);if(!T){if(!C){p=y+(p.length>0?" "+p:p);continue}if(T=o(k),!T){p=y+(p.length>0?" "+p:p);continue}C=!1}const j=l(S).join(":"),R=_?j+kd:j,A=R+T;if(u.includes(A))continue;u.push(A);const $=a(T,C);for(let H=0;H<$.length;++H){const V=$[H];u.push(R+V)}p=y+(p.length>0?" "+p:p)}return p};function O_(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iv(e))&&(o&&(o+=" "),o+=n);return o}const iv=t=>{if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=iv(t[o]))&&(n&&(n+=" "),n+=e);return n};function R_(t,...e){let n,o,a,l=u;function u(p){const m=e.reduce((y,v)=>v(y),t());return n=T_(m),o=n.cache.get,a=n.cache.set,l=f,f(p)}function f(p){const m=o(p);if(m)return m;const y=N_(p,n);return a(p,y),y}return function(){return l(O_.apply(null,arguments))}}const Lt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},av=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P_=/^\d+\/\d+$/,I_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,D_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,L_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eo=t=>P_.test(t),Le=t=>!!t&&!Number.isNaN(Number(t)),ls=t=>!!t&&Number.isInteger(Number(t)),Gu=t=>t.endsWith("%")&&Le(t.slice(0,-1)),An=t=>I_.test(t),$_=()=>!0,F_=t=>A_.test(t)&&!D_.test(t),cv=()=>!1,z_=t=>L_.test(t),U_=t=>M_.test(t),B_=t=>!pe(t)&&!ge(t),V_=t=>Fo(t,fv,cv),pe=t=>av.test(t),Ds=t=>Fo(t,hv,F_),Ju=t=>Fo(t,G_,Le),Fg=t=>Fo(t,uv,cv),H_=t=>Fo(t,dv,U_),cl=t=>Fo(t,pv,z_),ge=t=>lv.test(t),Ni=t=>zo(t,hv),W_=t=>zo(t,J_),zg=t=>zo(t,uv),q_=t=>zo(t,fv),K_=t=>zo(t,dv),ul=t=>zo(t,pv,!0),Fo=(t,e,n)=>{const o=av.exec(t);return o?o[1]?e(o[1]):n(o[2]):!1},zo=(t,e,n=!1)=>{const o=lv.exec(t);return o?o[1]?e(o[1]):n:!1},uv=t=>t==="position"||t==="percentage",dv=t=>t==="image"||t==="url",fv=t=>t==="length"||t==="size"||t==="bg-size",hv=t=>t==="length",G_=t=>t==="number",J_=t=>t==="family-name",pv=t=>t==="shadow",Y_=()=>{const t=Lt("color"),e=Lt("font"),n=Lt("text"),o=Lt("font-weight"),a=Lt("tracking"),l=Lt("leading"),u=Lt("breakpoint"),f=Lt("container"),p=Lt("spacing"),m=Lt("radius"),y=Lt("shadow"),v=Lt("inset-shadow"),S=Lt("text-shadow"),_=Lt("drop-shadow"),k=Lt("blur"),b=Lt("perspective"),C=Lt("aspect"),T=Lt("ease"),j=Lt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...A(),ge,pe],H=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],B=()=>[ge,pe,p],ne=()=>[Eo,"full","auto",...B()],le=()=>[ls,"none","subgrid",ge,pe],de=()=>["auto",{span:["full",ls,ge,pe]},ls,ge,pe],me=()=>[ls,"auto",ge,pe],ce=()=>["auto","min","max","fr",ge,pe],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...B()],Y=()=>[Eo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],O=()=>[t,ge,pe],U=()=>[...A(),zg,Fg,{position:[ge,pe]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],E=()=>["auto","cover","contain",q_,V_,{size:[ge,pe]}],D=()=>[Gu,Ni,Ds],K=()=>["","none","full",m,ge,pe],te=()=>["",Le,Ni,Ds],we=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[Le,Gu,zg,Fg],oe=()=>["","none",k,ge,pe],_e=()=>["none",Le,ge,pe],Ee=()=>["none",Le,ge,pe],Pe=()=>[Le,ge,pe],Ae=()=>[Eo,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[An],breakpoint:[An],color:[$_],container:[An],"drop-shadow":[An],ease:["in","out","in-out"],font:[B_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[An],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[An],shadow:[An],spacing:["px",Le],text:[An],"text-shadow":[An],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Eo,pe,ge,C]}],container:["container"],columns:[{columns:[Le,pe,ge,f]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ne()}],"inset-x":[{"inset-x":ne()}],"inset-y":[{"inset-y":ne()}],start:[{start:ne()}],end:[{end:ne()}],top:[{top:ne()}],right:[{right:ne()}],bottom:[{bottom:ne()}],left:[{left:ne()}],visibility:["visible","invisible","collapse"],z:[{z:[ls,"auto",ge,pe]}],basis:[{basis:[Eo,"full","auto",f,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,Eo,"auto","initial","none",pe]}],grow:[{grow:["",Le,ge,pe]}],shrink:[{shrink:["",Le,ge,pe]}],order:[{order:[ls,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:de()}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:de()}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ce()}],"auto-rows":[{"auto-rows":ce()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[f,"screen",...Y()]}],"min-w":[{"min-w":[f,"screen","none",...Y()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Y()]}],h:[{h:["screen",...Y()]}],"min-h":[{"min-h":["screen","none",...Y()]}],"max-h":[{"max-h":["screen",...Y()]}],"font-size":[{text:["base",n,Ni,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ge,Ju]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gu,pe]}],"font-family":[{font:[W_,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ge,pe]}],"line-clamp":[{"line-clamp":[Le,"none",ge,Ju]}],leading:[{leading:[l,...B()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",ge,Ds]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Le,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ls,ge,pe],radial:["",ge,pe],conic:[ls,ge,pe]},K_,H_]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,ge,pe]}],"outline-w":[{outline:["",Le,Ni,Ds]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",y,ul,cl]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",v,ul,cl]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Le,Ds]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",S,ul,cl]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Le,ge,pe]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[ge,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,pe]}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:oe()}],brightness:[{brightness:[Le,ge,pe]}],contrast:[{contrast:[Le,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",_,ul,cl]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Le,ge,pe]}],"hue-rotate":[{"hue-rotate":[Le,ge,pe]}],invert:[{invert:["",Le,ge,pe]}],saturate:[{saturate:[Le,ge,pe]}],sepia:[{sepia:["",Le,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[Le,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Le,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Le,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Le,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Le,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",ge,pe]}],ease:[{ease:["linear","initial",T,ge,pe]}],delay:[{delay:[Le,ge,pe]}],animate:[{animate:["none",j,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ge,pe]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Le,Ni,Ds,Ju]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},X_=R_(Y_);function ze(...t){return X_(sv(t))}const Q_=ef("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function We({className:t,variant:e,size:n,asChild:o=!1,...a}){const l=o?ps:"button";return d.jsx(l,{"data-slot":"button",className:ze(Q_({variant:e,size:n,className:t})),...a})}function hr({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Ji=Mm();const gv=qd(Ji);var Z_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ue=Z_.reduce((t,e)=>{const n=x.forwardRef((o,a)=>{const{asChild:l,...u}=o,f=l?ps:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function eE(t,e){t&&Ji.flushSync(()=>t.dispatchEvent(e))}var tE="Label",mv=x.forwardRef((t,e)=>d.jsx(Ue.label,{...t,ref:e,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mv.displayName=tE;var rE=mv;function Ge({className:t,...e}){return d.jsx(rE,{"data-slot":"label",className:ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function rt({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:ze("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function nt({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function st({className:t,...e}){return d.jsx("h4",{"data-slot":"card-title",className:ze("leading-none",t),...e})}function rr({className:t,...e}){return d.jsx("p",{"data-slot":"card-description",className:ze("text-muted-foreground",t),...e})}function ot({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:ze("px-6 [&:last-child]:pb-6",t),...e})}function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function nE(t,e){const n=x.createContext(e),o=l=>{const{children:u,...f}=l,p=x.useMemo(()=>f,Object.values(f));return d.jsx(n.Provider,{value:p,children:u})};o.displayName=t+"Provider";function a(l){const u=x.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[o,a]}function Hs(t,e=[]){let n=[];function o(l,u){const f=x.createContext(u),p=n.length;n=[...n,u];const m=v=>{var T;const{scope:S,children:_,...k}=v,b=((T=S==null?void 0:S[t])==null?void 0:T[p])||f,C=x.useMemo(()=>k,Object.values(k));return d.jsx(b.Provider,{value:C,children:_})};m.displayName=l+"Provider";function y(v,S){var b;const _=((b=S==null?void 0:S[t])==null?void 0:b[p])||f,k=x.useContext(_);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,y]}const a=()=>{const l=n.map(u=>x.createContext(u));return function(f){const p=(f==null?void 0:f[t])||l;return x.useMemo(()=>({[`__scope${t}`]:{...f,[t]:p}}),[f,p])}};return a.scopeName=t,[o,sE(a,...e)]}function sE(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=o.reduce((f,{useScope:p,scopeName:m})=>{const v=p(l)[`__scope${m}`];return{...f,...v}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function vv(t){const e=t+"CollectionProvider",[n,o]=Hs(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:k,children:b}=_,C=re.useRef(null),T=re.useRef(new Map).current;return d.jsx(a,{scope:k,itemMap:T,collectionRef:C,children:b})};u.displayName=e;const f=t+"CollectionSlot",p=re.forwardRef((_,k)=>{const{scope:b,children:C}=_,T=l(f,b),j=xt(k,T.collectionRef);return d.jsx(ps,{ref:j,children:C})});p.displayName=f;const m=t+"CollectionItemSlot",y="data-radix-collection-item",v=re.forwardRef((_,k)=>{const{scope:b,children:C,...T}=_,j=re.useRef(null),R=xt(k,j),A=l(m,b);return re.useEffect(()=>(A.itemMap.set(j,{ref:j,...T}),()=>void A.itemMap.delete(j))),d.jsx(ps,{[y]:"",ref:R,children:C})});v.displayName=m;function S(_){const k=l(t+"CollectionConsumer",_);return re.useCallback(()=>{const C=k.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${y}]`));return Array.from(k.itemMap.values()).sort((A,$)=>T.indexOf(A.ref.current)-T.indexOf($.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:p,ItemSlot:v},S,o]}var nr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},oE=Dx.useId||(()=>{}),iE=0;function fs(t){const[e,n]=x.useState(oE());return nr(()=>{n(o=>o??String(iE++))},[t]),t||(e?`radix-${e}`:"")}function yn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var o;return(o=e.current)==null?void 0:o.call(e,...n)},[])}function Lo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[o,a]=aE({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:o,f=yn(n),p=x.useCallback(m=>{if(l){const v=typeof m=="function"?m(t):m;v!==t&&f(v)}else a(m)},[l,t,a,f]);return[u,p]}function aE({defaultProp:t,onChange:e}){const n=x.useState(t),[o]=n,a=x.useRef(o),l=yn(e);return x.useEffect(()=>{a.current!==o&&(l(o),a.current=o)},[o,a,l]),n}var lE=x.createContext(void 0);function rf(t){const e=x.useContext(lE);return t||e||"ltr"}var Yu="rovingFocusGroup.onEntryFocus",cE={bubbles:!1,cancelable:!0},Ml="RovingFocusGroup",[Td,yv,uE]=vv(Ml),[dE,wv]=Hs(Ml,[uE]),[fE,hE]=dE(Ml),xv=x.forwardRef((t,e)=>d.jsx(Td.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Td.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(pE,{...t,ref:e})})}));xv.displayName=Ml;var pE=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...v}=t,S=x.useRef(null),_=xt(e,S),k=rf(l),[b=null,C]=Lo({prop:u,defaultProp:f,onChange:p}),[T,j]=x.useState(!1),R=yn(m),A=yv(n),$=x.useRef(!1),[H,V]=x.useState(0);return x.useEffect(()=>{const B=S.current;if(B)return B.addEventListener(Yu,R),()=>B.removeEventListener(Yu,R)},[R]),d.jsx(fE,{scope:n,orientation:o,dir:k,loop:a,currentTabStopId:b,onItemFocus:x.useCallback(B=>C(B),[C]),onItemShiftTab:x.useCallback(()=>j(!0),[]),onFocusableItemAdd:x.useCallback(()=>V(B=>B+1),[]),onFocusableItemRemove:x.useCallback(()=>V(B=>B-1),[]),children:d.jsx(Ue.div,{tabIndex:T||H===0?-1:0,"data-orientation":o,...v,ref:_,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{$.current=!0}),onFocus:Fe(t.onFocus,B=>{const ne=!$.current;if(B.target===B.currentTarget&&ne&&!T){const le=new CustomEvent(Yu,cE);if(B.currentTarget.dispatchEvent(le),!le.defaultPrevented){const de=A().filter(W=>W.focusable),me=de.find(W=>W.active),ce=de.find(W=>W.id===b),G=[me,ce,...de].filter(Boolean).map(W=>W.ref.current);_v(G,y)}}$.current=!1}),onBlur:Fe(t.onBlur,()=>j(!1))})})}),bv="RovingFocusGroupItem",Sv=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:l,...u}=t,f=fs(),p=l||f,m=hE(bv,n),y=m.currentTabStopId===p,v=yv(n),{onFocusableItemAdd:S,onFocusableItemRemove:_}=m;return x.useEffect(()=>{if(o)return S(),()=>_()},[o,S,_]),d.jsx(Td.ItemSlot,{scope:n,id:p,focusable:o,active:a,children:d.jsx(Ue.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:Fe(t.onMouseDown,k=>{o?m.onItemFocus(p):k.preventDefault()}),onFocus:Fe(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:Fe(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){m.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const b=vE(k,m.orientation,m.dir);if(b!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let T=v().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const j=T.indexOf(k.currentTarget);T=m.loop?yE(T,j+1):T.slice(j+1)}setTimeout(()=>_v(T))}})})})});Sv.displayName=bv;var gE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mE(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function vE(t,e,n){const o=mE(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return gE[o]}function _v(t,e=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function yE(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var wE=xv,xE=Sv;function bE(t,e){return x.useReducer((n,o)=>e[n][o]??n,t)}var Uo=t=>{const{present:e,children:n}=t,o=SE(e),a=typeof n=="function"?n({present:o.isPresent}):x.Children.only(n),l=xt(o.ref,_E(a));return typeof n=="function"||o.isPresent?x.cloneElement(a,{ref:l}):null};Uo.displayName="Presence";function SE(t){const[e,n]=x.useState(),o=x.useRef({}),a=x.useRef(t),l=x.useRef("none"),u=t?"mounted":"unmounted",[f,p]=bE(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=dl(o.current);l.current=f==="mounted"?m:"none"},[f]),nr(()=>{const m=o.current,y=a.current;if(y!==t){const S=l.current,_=dl(m);t?p("MOUNT"):_==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(y&&S!==_?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,p]),nr(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,v=_=>{const b=dl(o.current).includes(_.animationName);if(_.target===e&&b&&(p("ANIMATION_END"),!a.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},S=_=>{_.target===e&&(l.current=dl(o.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(m=>{m&&(o.current=getComputedStyle(m)),n(m)},[])}}function dl(t){return(t==null?void 0:t.animationName)||"none"}function _E(t){var o,a;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nf="Tabs",[EE]=Hs(nf,[wv]),Ev=wv(),[kE,sf]=EE(nf),kv=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:f,activationMode:p="automatic",...m}=t,y=rf(f),[v,S]=Lo({prop:o,onChange:a,defaultProp:l});return d.jsx(kE,{scope:n,baseId:fs(),value:v,onValueChange:S,orientation:u,dir:y,activationMode:p,children:d.jsx(Ue.div,{dir:y,"data-orientation":u,...m,ref:e})})});kv.displayName=nf;var Cv="TabsList",Tv=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:o=!0,...a}=t,l=sf(Cv,n),u=Ev(n);return d.jsx(wE,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:o,children:d.jsx(Ue.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});Tv.displayName=Cv;var jv="TabsTrigger",Nv=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,disabled:a=!1,...l}=t,u=sf(jv,n),f=Ev(n),p=Pv(u.baseId,o),m=Iv(u.baseId,o),y=o===u.value;return d.jsx(xE,{asChild:!0,...f,focusable:!a,active:y,children:d.jsx(Ue.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:p,...l,ref:e,onMouseDown:Fe(t.onMouseDown,v=>{!a&&v.button===0&&v.ctrlKey===!1?u.onValueChange(o):v.preventDefault()}),onKeyDown:Fe(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(o)}),onFocus:Fe(t.onFocus,()=>{const v=u.activationMode!=="manual";!y&&!a&&v&&u.onValueChange(o)})})})});Nv.displayName=jv;var Ov="TabsContent",Rv=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,forceMount:a,children:l,...u}=t,f=sf(Ov,n),p=Pv(f.baseId,o),m=Iv(f.baseId,o),y=o===f.value,v=x.useRef(y);return x.useEffect(()=>{const S=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(S)},[]),d.jsx(Uo,{present:a||y,children:({present:S})=>d.jsx(Ue.div,{"data-state":y?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!S,id:m,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:S&&l})})});Rv.displayName=Ov;function Pv(t,e){return`${t}-trigger-${e}`}function Iv(t,e){return`${t}-content-${e}`}var CE=kv,TE=Tv,jE=Nv,NE=Rv;function $l({className:t,...e}){return d.jsx(CE,{"data-slot":"tabs",className:ze("flex flex-col gap-2",t),...e})}function Fl({className:t,...e}){return d.jsx(TE,{"data-slot":"tabs-list",className:ze("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Ar({className:t,...e}){return d.jsx(jE,{"data-slot":"tabs-trigger",className:ze("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Dr({className:t,...e}){return d.jsx(NE,{"data-slot":"tabs-content",className:ze("flex-1 outline-none",t),...e})}function Ug(t,[e,n]){return Math.min(n,Math.max(e,t))}function OE(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t);x.useEffect(()=>{const o=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var RE="DismissableLayer",jd="dismissableLayer.update",PE="dismissableLayer.pointerDownOutside",IE="dismissableLayer.focusOutside",Bg,Av=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),of=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...p}=t,m=x.useContext(Av),[y,v]=x.useState(null),S=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=x.useState({}),k=xt(e,V=>v(V)),b=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),T=b.indexOf(C),j=y?b.indexOf(y):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,A=j>=T,$=LE(V=>{const B=V.target,ne=[...m.branches].some(le=>le.contains(B));!A||ne||(a==null||a(V),u==null||u(V),V.defaultPrevented||f==null||f())},S),H=ME(V=>{const B=V.target;[...m.branches].some(le=>le.contains(B))||(l==null||l(V),u==null||u(V),V.defaultPrevented||f==null||f())},S);return OE(V=>{j===m.layers.size-1&&(o==null||o(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},S),x.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Bg=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Vg(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Bg)}},[y,S,n,m]),x.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Vg())},[y,m]),x.useEffect(()=>{const V=()=>_({});return document.addEventListener(jd,V),()=>document.removeEventListener(jd,V)},[]),d.jsx(Ue.div,{...p,ref:k,style:{pointerEvents:R?A?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,H.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,$.onPointerDownCapture)})});of.displayName=RE;var AE="DismissableLayerBranch",DE=x.forwardRef((t,e)=>{const n=x.useContext(Av),o=x.useRef(null),a=xt(e,o);return x.useEffect(()=>{const l=o.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),d.jsx(Ue.div,{...t,ref:a})});DE.displayName=AE;function LE(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t),o=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const l=f=>{if(f.target&&!o.current){let p=function(){Dv(PE,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=p,e.addEventListener("click",a.current,{once:!0})):p()}else e.removeEventListener("click",a.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function ME(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t),o=x.useRef(!1);return x.useEffect(()=>{const a=l=>{l.target&&!o.current&&Dv(IE,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Vg(){const t=new CustomEvent(jd);document.dispatchEvent(t)}function Dv(t,e,n,{discrete:o}){const a=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),o?eE(a,l):a.dispatchEvent(l)}var Xu=0;function Lv(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Hg()),document.body.insertAdjacentElement("beforeend",t[1]??Hg()),Xu++,()=>{Xu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xu--}},[])}function Hg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Qu="focusScope.autoFocusOnMount",Zu="focusScope.autoFocusOnUnmount",Wg={bubbles:!1,cancelable:!0},$E="FocusScope",af=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=t,[f,p]=x.useState(null),m=yn(a),y=yn(l),v=x.useRef(null),S=xt(e,b=>p(b)),_=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(o){let b=function(R){if(_.paused||!f)return;const A=R.target;f.contains(A)?v.current=A:cs(v.current,{select:!0})},C=function(R){if(_.paused||!f)return;const A=R.relatedTarget;A!==null&&(f.contains(A)||cs(v.current,{select:!0}))},T=function(R){if(document.activeElement===document.body)for(const $ of R)$.removedNodes.length>0&&cs(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",C);const j=new MutationObserver(T);return f&&j.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),j.disconnect()}}},[o,f,_.paused]),x.useEffect(()=>{if(f){Kg.add(_);const b=document.activeElement;if(!f.contains(b)){const T=new CustomEvent(Qu,Wg);f.addEventListener(Qu,m),f.dispatchEvent(T),T.defaultPrevented||(FE(HE(Mv(f)),{select:!0}),document.activeElement===b&&cs(f))}return()=>{f.removeEventListener(Qu,m),setTimeout(()=>{const T=new CustomEvent(Zu,Wg);f.addEventListener(Zu,y),f.dispatchEvent(T),T.defaultPrevented||cs(b??document.body,{select:!0}),f.removeEventListener(Zu,y),Kg.remove(_)},0)}}},[f,m,y,_]);const k=x.useCallback(b=>{if(!n&&!o||_.paused)return;const C=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,T=document.activeElement;if(C&&T){const j=b.currentTarget,[R,A]=zE(j);R&&A?!b.shiftKey&&T===A?(b.preventDefault(),n&&cs(R,{select:!0})):b.shiftKey&&T===R&&(b.preventDefault(),n&&cs(A,{select:!0})):T===j&&b.preventDefault()}},[n,o,_.paused]);return d.jsx(Ue.div,{tabIndex:-1,...u,ref:S,onKeyDown:k})});af.displayName=$E;function FE(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(cs(o,{select:e}),document.activeElement!==n)return}function zE(t){const e=Mv(t),n=qg(e,t),o=qg(e.reverse(),t);return[n,o]}function Mv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qg(t,e){for(const n of t)if(!UE(n,{upTo:e}))return n}function UE(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BE(t){return t instanceof HTMLInputElement&&"select"in t}function cs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&BE(t)&&e&&t.select()}}var Kg=VE();function VE(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Gg(t,e),t.unshift(e)},remove(e){var n;t=Gg(t,e),(n=t[0])==null||n.resume()}}}function Gg(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function HE(t){return t.filter(e=>e.tagName!=="A")}const WE=["top","right","bottom","left"],gs=Math.min,xr=Math.max,Cl=Math.round,fl=Math.floor,vn=t=>({x:t,y:t}),qE={left:"right",right:"left",bottom:"top",top:"bottom"},KE={start:"end",end:"start"};function Nd(t,e,n){return xr(t,gs(e,n))}function Ln(t,e){return typeof t=="function"?t(e):t}function Mn(t){return t.split("-")[0]}function Bo(t){return t.split("-")[1]}function lf(t){return t==="x"?"y":"x"}function cf(t){return t==="y"?"height":"width"}const GE=new Set(["top","bottom"]);function gn(t){return GE.has(Mn(t))?"y":"x"}function uf(t){return lf(gn(t))}function JE(t,e,n){n===void 0&&(n=!1);const o=Bo(t),a=uf(t),l=cf(a);let u=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Tl(u)),[u,Tl(u)]}function YE(t){const e=Tl(t);return[Od(t),e,Od(e)]}function Od(t){return t.replace(/start|end/g,e=>KE[e])}const Jg=["left","right"],Yg=["right","left"],XE=["top","bottom"],QE=["bottom","top"];function ZE(t,e,n){switch(t){case"top":case"bottom":return n?e?Yg:Jg:e?Jg:Yg;case"left":case"right":return e?XE:QE;default:return[]}}function ek(t,e,n,o){const a=Bo(t);let l=ZE(Mn(t),n==="start",o);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Od)))),l}function Tl(t){return t.replace(/left|right|bottom|top/g,e=>qE[e])}function tk(t){return{top:0,right:0,bottom:0,left:0,...t}}function $v(t){return typeof t!="number"?tk(t):{top:t,right:t,bottom:t,left:t}}function jl(t){const{x:e,y:n,width:o,height:a}=t;return{width:o,height:a,top:n,left:e,right:e+o,bottom:n+a,x:e,y:n}}function Xg(t,e,n){let{reference:o,floating:a}=t;const l=gn(e),u=uf(e),f=cf(u),p=Mn(e),m=l==="y",y=o.x+o.width/2-a.width/2,v=o.y+o.height/2-a.height/2,S=o[f]/2-a[f]/2;let _;switch(p){case"top":_={x:y,y:o.y-a.height};break;case"bottom":_={x:y,y:o.y+o.height};break;case"right":_={x:o.x+o.width,y:v};break;case"left":_={x:o.x-a.width,y:v};break;default:_={x:o.x,y:o.y}}switch(Bo(e)){case"start":_[u]-=S*(n&&m?-1:1);break;case"end":_[u]+=S*(n&&m?-1:1);break}return _}const rk=async(t,e,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:v}=Xg(m,o,p),S=o,_={},k=0;for(let b=0;b<f.length;b++){const{name:C,fn:T}=f[b],{x:j,y:R,data:A,reset:$}=await T({x:y,y:v,initialPlacement:o,placement:S,strategy:a,middlewareData:_,rects:m,platform:u,elements:{reference:t,floating:e}});y=j??y,v=R??v,_={..._,[C]:{..._[C],...A}},$&&k<=50&&(k++,typeof $=="object"&&($.placement&&(S=$.placement),$.rects&&(m=$.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):$.rects),{x:y,y:v}=Xg(m,S,p)),b=-1)}return{x:y,y:v,placement:S,strategy:a,middlewareData:_}};async function Vi(t,e){var n;e===void 0&&(e={});const{x:o,y:a,platform:l,rects:u,elements:f,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:S=!1,padding:_=0}=Ln(e,t),k=$v(_),C=f[S?v==="floating"?"reference":"floating":v],T=jl(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:p})),j=v==="floating"?{x:o,y:a,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),A=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},$=jl(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:j,offsetParent:R,strategy:p}):j);return{top:(T.top-$.top+k.top)/A.y,bottom:($.bottom-T.bottom+k.bottom)/A.y,left:(T.left-$.left+k.left)/A.x,right:($.right-T.right+k.right)/A.x}}const nk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:a,rects:l,platform:u,elements:f,middlewareData:p}=e,{element:m,padding:y=0}=Ln(t,e)||{};if(m==null)return{};const v=$v(y),S={x:n,y:o},_=uf(a),k=cf(_),b=await u.getDimensions(m),C=_==="y",T=C?"top":"left",j=C?"bottom":"right",R=C?"clientHeight":"clientWidth",A=l.reference[k]+l.reference[_]-S[_]-l.floating[k],$=S[_]-l.reference[_],H=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let V=H?H[R]:0;(!V||!await(u.isElement==null?void 0:u.isElement(H)))&&(V=f.floating[R]||l.floating[k]);const B=A/2-$/2,ne=V/2-b[k]/2-1,le=gs(v[T],ne),de=gs(v[j],ne),me=le,ce=V-b[k]-de,fe=V/2-b[k]/2+B,G=Nd(me,fe,ce),W=!p.arrow&&Bo(a)!=null&&fe!==G&&l.reference[k]/2-(fe<me?le:de)-b[k]/2<0,Y=W?fe<me?fe-me:fe-ce:0;return{[_]:S[_]+Y,data:{[_]:G,centerOffset:fe-G-Y,...W&&{alignmentOffset:Y}},reset:W}}}),sk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:a,middlewareData:l,rects:u,initialPlacement:f,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:S,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:b=!0,...C}=Ln(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const T=Mn(a),j=gn(f),R=Mn(f)===f,A=await(p.isRTL==null?void 0:p.isRTL(m.floating)),$=S||(R||!b?[Tl(f)]:YE(f)),H=k!=="none";!S&&H&&$.push(...ek(f,b,k,A));const V=[f,...$],B=await Vi(e,C),ne=[];let le=((o=l.flip)==null?void 0:o.overflows)||[];if(y&&ne.push(B[T]),v){const fe=JE(a,u,A);ne.push(B[fe[0]],B[fe[1]])}if(le=[...le,{placement:a,overflows:ne}],!ne.every(fe=>fe<=0)){var de,me;const fe=(((de=l.flip)==null?void 0:de.index)||0)+1,G=V[fe];if(G&&(!(v==="alignment"?j!==gn(G):!1)||le.every(O=>gn(O.placement)===j?O.overflows[0]>0:!0)))return{data:{index:fe,overflows:le},reset:{placement:G}};let W=(me=le.filter(Y=>Y.overflows[0]<=0).sort((Y,O)=>Y.overflows[1]-O.overflows[1])[0])==null?void 0:me.placement;if(!W)switch(_){case"bestFit":{var ce;const Y=(ce=le.filter(O=>{if(H){const U=gn(O.placement);return U===j||U==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(U=>U>0).reduce((U,z)=>U+z,0)]).sort((O,U)=>O[1]-U[1])[0])==null?void 0:ce[0];Y&&(W=Y);break}case"initialPlacement":W=f;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function Qg(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Zg(t){return WE.some(e=>t[e]>=0)}const ok=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...a}=Ln(t,e);switch(o){case"referenceHidden":{const l=await Vi(e,{...a,elementContext:"reference"}),u=Qg(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Zg(u)}}}case"escaped":{const l=await Vi(e,{...a,altBoundary:!0}),u=Qg(l,n.floating);return{data:{escapedOffsets:u,escaped:Zg(u)}}}default:return{}}}}},Fv=new Set(["left","top"]);async function ik(t,e){const{placement:n,platform:o,elements:a}=t,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),u=Mn(n),f=Bo(n),p=gn(n)==="y",m=Fv.has(u)?-1:1,y=l&&p?-1:1,v=Ln(e,t);let{mainAxis:S,crossAxis:_,alignmentAxis:k}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof k=="number"&&(_=f==="end"?k*-1:k),p?{x:_*y,y:S*m}:{x:S*m,y:_*y}}const ak=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:a,y:l,placement:u,middlewareData:f}=e,p=await ik(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:a+p.x,y:l+p.y,data:{...p,placement:u}}}}},lk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:T,y:j}=C;return{x:T,y:j}}},...p}=Ln(t,e),m={x:n,y:o},y=await Vi(e,p),v=gn(Mn(a)),S=lf(v);let _=m[S],k=m[v];if(l){const C=S==="y"?"top":"left",T=S==="y"?"bottom":"right",j=_+y[C],R=_-y[T];_=Nd(j,_,R)}if(u){const C=v==="y"?"top":"left",T=v==="y"?"bottom":"right",j=k+y[C],R=k-y[T];k=Nd(j,k,R)}const b=f.fn({...e,[S]:_,[v]:k});return{...b,data:{x:b.x-n,y:b.y-o,enabled:{[S]:l,[v]:u}}}}}},ck=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:a,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:p=!0,crossAxis:m=!0}=Ln(t,e),y={x:n,y:o},v=gn(a),S=lf(v);let _=y[S],k=y[v];const b=Ln(f,e),C=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const R=S==="y"?"height":"width",A=l.reference[S]-l.floating[R]+C.mainAxis,$=l.reference[S]+l.reference[R]-C.mainAxis;_<A?_=A:_>$&&(_=$)}if(m){var T,j;const R=S==="y"?"width":"height",A=Fv.has(Mn(a)),$=l.reference[v]-l.floating[R]+(A&&((T=u.offset)==null?void 0:T[v])||0)+(A?0:C.crossAxis),H=l.reference[v]+l.reference[R]+(A?0:((j=u.offset)==null?void 0:j[v])||0)-(A?C.crossAxis:0);k<$?k=$:k>H&&(k=H)}return{[S]:_,[v]:k}}}},uk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:a,rects:l,platform:u,elements:f}=e,{apply:p=()=>{},...m}=Ln(t,e),y=await Vi(e,m),v=Mn(a),S=Bo(a),_=gn(a)==="y",{width:k,height:b}=l.floating;let C,T;v==="top"||v==="bottom"?(C=v,T=S===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(T=v,C=S==="end"?"top":"bottom");const j=b-y.top-y.bottom,R=k-y.left-y.right,A=gs(b-y[C],j),$=gs(k-y[T],R),H=!e.middlewareData.shift;let V=A,B=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(B=R),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(V=j),H&&!S){const le=xr(y.left,0),de=xr(y.right,0),me=xr(y.top,0),ce=xr(y.bottom,0);_?B=k-2*(le!==0||de!==0?le+de:xr(y.left,y.right)):V=b-2*(me!==0||ce!==0?me+ce:xr(y.top,y.bottom))}await p({...e,availableWidth:B,availableHeight:V});const ne=await u.getDimensions(f.floating);return k!==ne.width||b!==ne.height?{reset:{rects:!0}}:{}}}};function zl(){return typeof window<"u"}function Vo(t){return zv(t)?(t.nodeName||"").toLowerCase():"#document"}function _r(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xn(t){var e;return(e=(zv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zv(t){return zl()?t instanceof Node||t instanceof _r(t).Node:!1}function Xr(t){return zl()?t instanceof Element||t instanceof _r(t).Element:!1}function wn(t){return zl()?t instanceof HTMLElement||t instanceof _r(t).HTMLElement:!1}function em(t){return!zl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _r(t).ShadowRoot}const dk=new Set(["inline","contents"]);function Yi(t){const{overflow:e,overflowX:n,overflowY:o,display:a}=Qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!dk.has(a)}const fk=new Set(["table","td","th"]);function hk(t){return fk.has(Vo(t))}const pk=[":popover-open",":modal"];function Ul(t){return pk.some(e=>{try{return t.matches(e)}catch{return!1}})}const gk=["transform","translate","scale","rotate","perspective"],mk=["transform","translate","scale","rotate","perspective","filter"],vk=["paint","layout","strict","content"];function df(t){const e=ff(),n=Xr(t)?Qr(t):t;return gk.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||mk.some(o=>(n.willChange||"").includes(o))||vk.some(o=>(n.contain||"").includes(o))}function yk(t){let e=ms(t);for(;wn(e)&&!Mo(e);){if(df(e))return e;if(Ul(e))return null;e=ms(e)}return null}function ff(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wk=new Set(["html","body","#document"]);function Mo(t){return wk.has(Vo(t))}function Qr(t){return _r(t).getComputedStyle(t)}function Bl(t){return Xr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ms(t){if(Vo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||em(t)&&t.host||xn(t);return em(e)?e.host:e}function Uv(t){const e=ms(t);return Mo(e)?t.ownerDocument?t.ownerDocument.body:t.body:wn(e)&&Yi(e)?e:Uv(e)}function Hi(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Uv(t),l=a===((o=t.ownerDocument)==null?void 0:o.body),u=_r(a);if(l){const f=Rd(u);return e.concat(u,u.visualViewport||[],Yi(a)?a:[],f&&n?Hi(f):[])}return e.concat(a,Hi(a,[],n))}function Rd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Bv(t){const e=Qr(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=wn(t),l=a?t.offsetWidth:n,u=a?t.offsetHeight:o,f=Cl(n)!==l||Cl(o)!==u;return f&&(n=l,o=u),{width:n,height:o,$:f}}function hf(t){return Xr(t)?t:t.contextElement}function Ao(t){const e=hf(t);if(!wn(e))return vn(1);const n=e.getBoundingClientRect(),{width:o,height:a,$:l}=Bv(e);let u=(l?Cl(n.width):n.width)/o,f=(l?Cl(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const xk=vn(0);function Vv(t){const e=_r(t);return!ff()||!e.visualViewport?xk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_r(t)?!1:e}function zs(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=hf(t);let u=vn(1);e&&(o?Xr(o)&&(u=Ao(o)):u=Ao(t));const f=bk(l,n,o)?Vv(l):vn(0);let p=(a.left+f.x)/u.x,m=(a.top+f.y)/u.y,y=a.width/u.x,v=a.height/u.y;if(l){const S=_r(l),_=o&&Xr(o)?_r(o):o;let k=S,b=Rd(k);for(;b&&o&&_!==k;){const C=Ao(b),T=b.getBoundingClientRect(),j=Qr(b),R=T.left+(b.clientLeft+parseFloat(j.paddingLeft))*C.x,A=T.top+(b.clientTop+parseFloat(j.paddingTop))*C.y;p*=C.x,m*=C.y,y*=C.x,v*=C.y,p+=R,m+=A,k=_r(b),b=Rd(k)}}return jl({width:y,height:v,x:p,y:m})}function Vl(t,e){const n=Bl(t).scrollLeft;return e?e.left+n:zs(xn(t)).left+n}function Hv(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-Vl(t,n),a=n.top+e.scrollTop;return{x:o,y:a}}function Sk(t){let{elements:e,rect:n,offsetParent:o,strategy:a}=t;const l=a==="fixed",u=xn(o),f=e?Ul(e.floating):!1;if(o===u||f&&l)return n;let p={scrollLeft:0,scrollTop:0},m=vn(1);const y=vn(0),v=wn(o);if((v||!v&&!l)&&((Vo(o)!=="body"||Yi(u))&&(p=Bl(o)),wn(o))){const _=zs(o);m=Ao(o),y.x=_.x+o.clientLeft,y.y=_.y+o.clientTop}const S=u&&!v&&!l?Hv(u,p):vn(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-p.scrollLeft*m.x+y.x+S.x,y:n.y*m.y-p.scrollTop*m.y+y.y+S.y}}function _k(t){return Array.from(t.getClientRects())}function Ek(t){const e=xn(t),n=Bl(t),o=t.ownerDocument.body,a=xr(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=xr(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+Vl(t);const f=-n.scrollTop;return Qr(o).direction==="rtl"&&(u+=xr(e.clientWidth,o.clientWidth)-a),{width:a,height:l,x:u,y:f}}const tm=25;function kk(t,e){const n=_r(t),o=xn(t),a=n.visualViewport;let l=o.clientWidth,u=o.clientHeight,f=0,p=0;if(a){l=a.width,u=a.height;const y=ff();(!y||y&&e==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}const m=Vl(o);if(m<=0){const y=o.ownerDocument,v=y.body,S=getComputedStyle(v),_=y.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,k=Math.abs(o.clientWidth-v.clientWidth-_);k<=tm&&(l-=k)}else m<=tm&&(l+=m);return{width:l,height:u,x:f,y:p}}const Ck=new Set(["absolute","fixed"]);function Tk(t,e){const n=zs(t,!0,e==="fixed"),o=n.top+t.clientTop,a=n.left+t.clientLeft,l=wn(t)?Ao(t):vn(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,p=a*l.x,m=o*l.y;return{width:u,height:f,x:p,y:m}}function rm(t,e,n){let o;if(e==="viewport")o=kk(t,n);else if(e==="document")o=Ek(xn(t));else if(Xr(e))o=Tk(e,n);else{const a=Vv(t);o={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return jl(o)}function Wv(t,e){const n=ms(t);return n===e||!Xr(n)||Mo(n)?!1:Qr(n).position==="fixed"||Wv(n,e)}function jk(t,e){const n=e.get(t);if(n)return n;let o=Hi(t,[],!1).filter(f=>Xr(f)&&Vo(f)!=="body"),a=null;const l=Qr(t).position==="fixed";let u=l?ms(t):t;for(;Xr(u)&&!Mo(u);){const f=Qr(u),p=df(u);!p&&f.position==="fixed"&&(a=null),(l?!p&&!a:!p&&f.position==="static"&&!!a&&Ck.has(a.position)||Yi(u)&&!p&&Wv(t,u))?o=o.filter(y=>y!==u):a=f,u=ms(u)}return e.set(t,o),o}function Nk(t){let{element:e,boundary:n,rootBoundary:o,strategy:a}=t;const u=[...n==="clippingAncestors"?Ul(e)?[]:jk(e,this._c):[].concat(n),o],f=u[0],p=u.reduce((m,y)=>{const v=rm(e,y,a);return m.top=xr(v.top,m.top),m.right=gs(v.right,m.right),m.bottom=gs(v.bottom,m.bottom),m.left=xr(v.left,m.left),m},rm(e,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Ok(t){const{width:e,height:n}=Bv(t);return{width:e,height:n}}function Rk(t,e,n){const o=wn(e),a=xn(e),l=n==="fixed",u=zs(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const p=vn(0);function m(){p.x=Vl(a)}if(o||!o&&!l)if((Vo(e)!=="body"||Yi(a))&&(f=Bl(e)),o){const _=zs(e,!0,l,e);p.x=_.x+e.clientLeft,p.y=_.y+e.clientTop}else a&&m();l&&!o&&a&&m();const y=a&&!o&&!l?Hv(a,f):vn(0),v=u.left+f.scrollLeft-p.x-y.x,S=u.top+f.scrollTop-p.y-y.y;return{x:v,y:S,width:u.width,height:u.height}}function ed(t){return Qr(t).position==="static"}function nm(t,e){if(!wn(t)||Qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return xn(t)===n&&(n=n.ownerDocument.body),n}function qv(t,e){const n=_r(t);if(Ul(t))return n;if(!wn(t)){let a=ms(t);for(;a&&!Mo(a);){if(Xr(a)&&!ed(a))return a;a=ms(a)}return n}let o=nm(t,e);for(;o&&hk(o)&&ed(o);)o=nm(o,e);return o&&Mo(o)&&ed(o)&&!df(o)?n:o||yk(t)||n}const Pk=async function(t){const e=this.getOffsetParent||qv,n=this.getDimensions,o=await n(t.floating);return{reference:Rk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ik(t){return Qr(t).direction==="rtl"}const Ak={convertOffsetParentRelativeRectToViewportRelativeRect:Sk,getDocumentElement:xn,getClippingRect:Nk,getOffsetParent:qv,getElementRects:Pk,getClientRects:_k,getDimensions:Ok,getScale:Ao,isElement:Xr,isRTL:Ik};function Kv(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Dk(t,e){let n=null,o;const a=xn(t);function l(){var f;clearTimeout(o),(f=n)==null||f.disconnect(),n=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),l();const m=t.getBoundingClientRect(),{left:y,top:v,width:S,height:_}=m;if(f||e(),!S||!_)return;const k=fl(v),b=fl(a.clientWidth-(y+S)),C=fl(a.clientHeight-(v+_)),T=fl(y),R={rootMargin:-k+"px "+-b+"px "+-C+"px "+-T+"px",threshold:xr(0,gs(1,p))||1};let A=!0;function $(H){const V=H[0].intersectionRatio;if(V!==p){if(!A)return u();V?u(!1,V):o=setTimeout(()=>{u(!1,1e-7)},1e3)}V===1&&!Kv(m,t.getBoundingClientRect())&&u(),A=!1}try{n=new IntersectionObserver($,{...R,root:a.ownerDocument})}catch{n=new IntersectionObserver($,R)}n.observe(t)}return u(!0),l}function Lk(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,m=hf(t),y=a||l?[...m?Hi(m):[],...Hi(e)]:[];y.forEach(T=>{a&&T.addEventListener("scroll",n,{passive:!0}),l&&T.addEventListener("resize",n)});const v=m&&f?Dk(m,n):null;let S=-1,_=null;u&&(_=new ResizeObserver(T=>{let[j]=T;j&&j.target===m&&_&&(_.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(e)})),n()}),m&&!p&&_.observe(m),_.observe(e));let k,b=p?zs(t):null;p&&C();function C(){const T=zs(t);b&&!Kv(b,T)&&n(),b=T,k=requestAnimationFrame(C)}return n(),()=>{var T;y.forEach(j=>{a&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),v==null||v(),(T=_)==null||T.disconnect(),_=null,p&&cancelAnimationFrame(k)}}const Mk=ak,$k=lk,Fk=sk,zk=uk,Uk=ok,sm=nk,Bk=ck,Vk=(t,e,n)=>{const o=new Map,a={platform:Ak,...n},l={...a.platform,_c:o};return rk(t,e,{...a,platform:l})};var Hk=typeof document<"u",Wk=function(){},wl=Hk?x.useLayoutEffect:Wk;function Nl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Nl(t[o],e[o]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,a[o]))return!1;for(o=n;o--!==0;){const l=a[o];if(!(l==="_owner"&&t.$$typeof)&&!Nl(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Gv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function om(t,e){const n=Gv(t);return Math.round(e*n)/n}function td(t){const e=x.useRef(t);return wl(()=>{e.current=t}),e}function qk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:p,open:m}=t,[y,v]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,_]=x.useState(o);Nl(S,o)||_(o);const[k,b]=x.useState(null),[C,T]=x.useState(null),j=x.useCallback(O=>{O!==H.current&&(H.current=O,b(O))},[]),R=x.useCallback(O=>{O!==V.current&&(V.current=O,T(O))},[]),A=l||k,$=u||C,H=x.useRef(null),V=x.useRef(null),B=x.useRef(y),ne=p!=null,le=td(p),de=td(a),me=td(m),ce=x.useCallback(()=>{if(!H.current||!V.current)return;const O={placement:e,strategy:n,middleware:S};de.current&&(O.platform=de.current),Vk(H.current,V.current,O).then(U=>{const z={...U,isPositioned:me.current!==!1};fe.current&&!Nl(B.current,z)&&(B.current=z,Ji.flushSync(()=>{v(z)}))})},[S,e,n,de,me]);wl(()=>{m===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,v(O=>({...O,isPositioned:!1})))},[m]);const fe=x.useRef(!1);wl(()=>(fe.current=!0,()=>{fe.current=!1}),[]),wl(()=>{if(A&&(H.current=A),$&&(V.current=$),A&&$){if(le.current)return le.current(A,$,ce);ce()}},[A,$,ce,le,ne]);const G=x.useMemo(()=>({reference:H,floating:V,setReference:j,setFloating:R}),[j,R]),W=x.useMemo(()=>({reference:A,floating:$}),[A,$]),Y=x.useMemo(()=>{const O={position:n,left:0,top:0};if(!W.floating)return O;const U=om(W.floating,y.x),z=om(W.floating,y.y);return f?{...O,transform:"translate("+U+"px, "+z+"px)",...Gv(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:z}},[n,f,W.floating,y.x,y.y]);return x.useMemo(()=>({...y,update:ce,refs:G,elements:W,floatingStyles:Y}),[y,ce,G,W,Y])}const Kk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:a}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?sm({element:o.current,padding:a}).fn(n):{}:o?sm({element:o,padding:a}).fn(n):{}}}},Gk=(t,e)=>({...Mk(t),options:[t,e]}),Jk=(t,e)=>({...$k(t),options:[t,e]}),Yk=(t,e)=>({...Bk(t),options:[t,e]}),Xk=(t,e)=>({...Fk(t),options:[t,e]}),Qk=(t,e)=>({...zk(t),options:[t,e]}),Zk=(t,e)=>({...Uk(t),options:[t,e]}),e1=(t,e)=>({...Kk(t),options:[t,e]});var t1="Arrow",Jv=x.forwardRef((t,e)=>{const{children:n,width:o=10,height:a=5,...l}=t;return d.jsx(Ue.svg,{...l,ref:e,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jv.displayName=t1;var r1=Jv;function Yv(t){const[e,n]=x.useState(void 0);return nr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,f;if("borderBoxSize"in l){const p=l.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,f=m.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var pf="Popper",[Xv,Qv]=Hs(pf),[n1,Zv]=Xv(pf),ey=t=>{const{__scopePopper:e,children:n}=t,[o,a]=x.useState(null);return d.jsx(n1,{scope:e,anchor:o,onAnchorChange:a,children:n})};ey.displayName=pf;var ty="PopperAnchor",ry=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...a}=t,l=Zv(ty,n),u=x.useRef(null),f=xt(e,u);return x.useEffect(()=>{l.onAnchorChange((o==null?void 0:o.current)||u.current)}),o?null:d.jsx(Ue.div,{...a,ref:f})});ry.displayName=ty;var gf="PopperContent",[s1,o1]=Xv(gf),ny=x.forwardRef((t,e)=>{var X,oe,_e,Ee,Pe,Ae;const{__scopePopper:n,side:o="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:S=!1,updatePositionStrategy:_="optimized",onPlaced:k,...b}=t,C=Zv(gf,n),[T,j]=x.useState(null),R=xt(e,ht=>j(ht)),[A,$]=x.useState(null),H=Yv(A),V=(H==null?void 0:H.width)??0,B=(H==null?void 0:H.height)??0,ne=o+(l!=="center"?"-"+l:""),le=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},de=Array.isArray(m)?m:[m],me=de.length>0,ce={padding:le,boundary:de.filter(a1),altBoundary:me},{refs:fe,floatingStyles:G,placement:W,isPositioned:Y,middlewareData:O}=qk({strategy:"fixed",placement:ne,whileElementsMounted:(...ht)=>Lk(...ht,{animationFrame:_==="always"}),elements:{reference:C.anchor},middleware:[Gk({mainAxis:a+B,alignmentAxis:u}),p&&Jk({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Yk():void 0,...ce}),p&&Xk({...ce}),Qk({...ce,apply:({elements:ht,rects:Nt,availableWidth:Er,availableHeight:Ut})=>{const{width:Bt,height:Mr}=Nt.reference,Ot=ht.floating.style;Ot.setProperty("--radix-popper-available-width",`${Er}px`),Ot.setProperty("--radix-popper-available-height",`${Ut}px`),Ot.setProperty("--radix-popper-anchor-width",`${Bt}px`),Ot.setProperty("--radix-popper-anchor-height",`${Mr}px`)}}),A&&e1({element:A,padding:f}),l1({arrowWidth:V,arrowHeight:B}),S&&Zk({strategy:"referenceHidden",...ce})]}),[U,z]=iy(W),E=yn(k);nr(()=>{Y&&(E==null||E())},[Y,E]);const D=(X=O.arrow)==null?void 0:X.x,K=(oe=O.arrow)==null?void 0:oe.y,te=((_e=O.arrow)==null?void 0:_e.centerOffset)!==0,[we,se]=x.useState();return nr(()=>{T&&se(window.getComputedStyle(T).zIndex)},[T]),d.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Y?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Ee=O.transformOrigin)==null?void 0:Ee.x,(Pe=O.transformOrigin)==null?void 0:Pe.y].join(" "),...((Ae=O.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(s1,{scope:n,placedSide:U,onArrowChange:$,arrowX:D,arrowY:K,shouldHideArrow:te,children:d.jsx(Ue.div,{"data-side":U,"data-align":z,...b,ref:R,style:{...b.style,animation:Y?void 0:"none"}})})})});ny.displayName=gf;var sy="PopperArrow",i1={top:"bottom",right:"left",bottom:"top",left:"right"},oy=x.forwardRef(function(e,n){const{__scopePopper:o,...a}=e,l=o1(sy,o),u=i1[l.placedSide];return d.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:d.jsx(r1,{...a,ref:n,style:{...a.style,display:"block"}})})});oy.displayName=sy;function a1(t){return t!==null}var l1=t=>({name:"transformOrigin",options:t,fn(e){var C,T,j;const{placement:n,rects:o,middlewareData:a}=e,u=((C=a.arrow)==null?void 0:C.centerOffset)!==0,f=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[m,y]=iy(n),v={start:"0%",center:"50%",end:"100%"}[y],S=(((T=a.arrow)==null?void 0:T.x)??0)+f/2,_=(((j=a.arrow)==null?void 0:j.y)??0)+p/2;let k="",b="";return m==="bottom"?(k=u?v:`${S}px`,b=`${-p}px`):m==="top"?(k=u?v:`${S}px`,b=`${o.floating.height+p}px`):m==="right"?(k=`${-p}px`,b=u?v:`${_}px`):m==="left"&&(k=`${o.floating.width+p}px`,b=u?v:`${_}px`),{data:{x:k,y:b}}}});function iy(t){const[e,n="center"]=t.split("-");return[e,n]}var c1=ey,u1=ry,d1=ny,f1=oy,h1="Portal",mf=x.forwardRef((t,e)=>{var f;const{container:n,...o}=t,[a,l]=x.useState(!1);nr(()=>l(!0),[]);const u=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?gv.createPortal(d.jsx(Ue.div,{...o,ref:e}),u):null});mf.displayName=h1;function ay(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var p1="VisuallyHidden",ly=x.forwardRef((t,e)=>d.jsx(Ue.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ly.displayName=p1;var g1=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ko=new WeakMap,hl=new WeakMap,pl={},rd=0,cy=function(t){return t&&(t.host||cy(t.parentNode))},m1=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=cy(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},v1=function(t,e,n,o){var a=m1(e,Array.isArray(t)?t:[t]);pl[n]||(pl[n]=new WeakMap);var l=pl[n],u=[],f=new Set,p=new Set(a),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};a.forEach(m);var y=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(S){if(f.has(S))y(S);else try{var _=S.getAttribute(o),k=_!==null&&_!=="false",b=(ko.get(S)||0)+1,C=(l.get(S)||0)+1;ko.set(S,b),l.set(S,C),u.push(S),b===1&&k&&hl.set(S,!0),C===1&&S.setAttribute(n,"true"),k||S.setAttribute(o,"true")}catch(T){console.error("aria-hidden: cannot operate on ",S,T)}})};return y(e),f.clear(),rd++,function(){u.forEach(function(v){var S=ko.get(v)-1,_=l.get(v)-1;ko.set(v,S),l.set(v,_),S||(hl.has(v)||v.removeAttribute(o),hl.delete(v)),_||v.removeAttribute(n)}),rd--,rd||(ko=new WeakMap,ko=new WeakMap,hl=new WeakMap,pl={})}},uy=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),a=g1(t);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),v1(o,a,n,"aria-hidden")):function(){return null}},xl="right-scroll-bar-position",bl="width-before-scroll-bar",y1="with-scroll-bars-hidden",w1="--removed-body-scroll-bar-size";function nd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function x1(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=e,n.facade}var b1=typeof window<"u"?x.useLayoutEffect:x.useEffect,im=new WeakMap;function S1(t,e){var n=x1(null,function(o){return t.forEach(function(a){return nd(a,o)})});return b1(function(){var o=im.get(n);if(o){var a=new Set(o),l=new Set(t),u=n.current;a.forEach(function(f){l.has(f)||nd(f,null)}),l.forEach(function(f){a.has(f)||nd(f,u)})}im.set(n,t)},[t]),n}function _1(t){return t}function E1(t,e){e===void 0&&(e=_1);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,o);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(o=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){o=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var p=function(){var y=u;u=[],y.forEach(l)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),n}}}};return a}function k1(t){t===void 0&&(t={});var e=E1(null);return e.options=un({async:!0,ssr:!1},t),e}var dy=function(t){var e=t.sideCar,n=$o(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return x.createElement(o,un({},n))};dy.isSideCarExport=!0;function C1(t,e){return t.useMedium(e),dy}var fy=k1(),sd=function(){},Hl=x.forwardRef(function(t,e){var n=x.useRef(null),o=x.useState({onScrollCapture:sd,onWheelCapture:sd,onTouchMoveCapture:sd}),a=o[0],l=o[1],u=t.forwardProps,f=t.children,p=t.className,m=t.removeScrollBar,y=t.enabled,v=t.shards,S=t.sideCar,_=t.noRelative,k=t.noIsolation,b=t.inert,C=t.allowPinchZoom,T=t.as,j=T===void 0?"div":T,R=t.gapMode,A=$o(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=S,H=S1([n,e]),V=un(un({},A),a);return x.createElement(x.Fragment,null,y&&x.createElement($,{sideCar:fy,removeScrollBar:m,shards:v,noRelative:_,noIsolation:k,inert:b,setCallbacks:l,allowPinchZoom:!!C,lockRef:n,gapMode:R}),u?x.cloneElement(x.Children.only(f),un(un({},V),{ref:H})):x.createElement(j,un({},V,{className:p,ref:H}),f))});Hl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hl.classNames={fullWidth:bl,zeroRight:xl};var T1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j1(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=T1();return e&&t.setAttribute("nonce",e),t}function N1(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function O1(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var R1=function(){var t=0,e=null;return{add:function(n){t==0&&(e=j1())&&(N1(e,n),O1(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},P1=function(){var t=R1();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},hy=function(){var t=P1(),e=function(n){var o=n.styles,a=n.dynamic;return t(o,a),null};return e},I1={left:0,top:0,right:0,gap:0},od=function(t){return parseInt(t||"",10)||0},A1=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[od(n),od(o),od(a)]},D1=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return I1;var e=A1(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},L1=hy(),Do="data-scroll-locked",M1=function(t,e,n,o){var a=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(y1,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xl,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(bl,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(xl," .").concat(xl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(bl," .").concat(bl,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(w1,": ").concat(f,`px;
  }
`)},am=function(){var t=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(t)?t:0},$1=function(){x.useEffect(function(){return document.body.setAttribute(Do,(am()+1).toString()),function(){var t=am()-1;t<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,t.toString())}},[])},F1=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,a=o===void 0?"margin":o;$1();var l=x.useMemo(function(){return D1(a)},[a]);return x.createElement(L1,{styles:M1(l,!e,a,n?"":"!important")})},Pd=!1;if(typeof window<"u")try{var gl=Object.defineProperty({},"passive",{get:function(){return Pd=!0,!0}});window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Pd=!1}var Co=Pd?{passive:!1}:!1,z1=function(t){return t.tagName==="TEXTAREA"},py=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!z1(t)&&n[e]==="visible")},U1=function(t){return py(t,"overflowY")},B1=function(t){return py(t,"overflowX")},lm=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=gy(t,o);if(a){var l=my(t,o),u=l[1],f=l[2];if(u>f)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},V1=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},H1=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},gy=function(t,e){return t==="v"?U1(e):B1(e)},my=function(t,e){return t==="v"?V1(e):H1(e)},W1=function(t,e){return t==="h"&&e==="rtl"?-1:1},q1=function(t,e,n,o,a){var l=W1(t,window.getComputedStyle(e).direction),u=l*o,f=n.target,p=e.contains(f),m=!1,y=u>0,v=0,S=0;do{if(!f)break;var _=my(t,f),k=_[0],b=_[1],C=_[2],T=b-C-l*k;(k||T)&&gy(t,f)&&(v+=T,S+=k);var j=f.parentNode;f=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!p&&f!==document.body||p&&(e.contains(f)||e===f));return(y&&Math.abs(v)<1||!y&&Math.abs(S)<1)&&(m=!0),m},ml=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cm=function(t){return[t.deltaX,t.deltaY]},um=function(t){return t&&"current"in t?t.current:t},K1=function(t,e){return t[0]===e[0]&&t[1]===e[1]},G1=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J1=0,To=[];function Y1(t){var e=x.useRef([]),n=x.useRef([0,0]),o=x.useRef(),a=x.useState(J1++)[0],l=x.useState(hy)[0],u=x.useRef(t);x.useEffect(function(){u.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var b=Mx([t.lockRef.current],(t.shards||[]).map(um),!0).filter(Boolean);return b.forEach(function(C){return C.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var f=x.useCallback(function(b,C){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var T=ml(b),j=n.current,R="deltaX"in b?b.deltaX:j[0]-T[0],A="deltaY"in b?b.deltaY:j[1]-T[1],$,H=b.target,V=Math.abs(R)>Math.abs(A)?"h":"v";if("touches"in b&&V==="h"&&H.type==="range")return!1;var B=window.getSelection(),ne=B&&B.anchorNode,le=ne?ne===H||ne.contains(H):!1;if(le)return!1;var de=lm(V,H);if(!de)return!0;if(de?$=V:($=V==="v"?"h":"v",de=lm(V,H)),!de)return!1;if(!o.current&&"changedTouches"in b&&(R||A)&&(o.current=$),!$)return!0;var me=o.current||$;return q1(me,C,b,me==="h"?R:A)},[]),p=x.useCallback(function(b){var C=b;if(!(!To.length||To[To.length-1]!==l)){var T="deltaY"in C?cm(C):ml(C),j=e.current.filter(function($){return $.name===C.type&&($.target===C.target||C.target===$.shadowParent)&&K1($.delta,T)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var R=(u.current.shards||[]).map(um).filter(Boolean).filter(function($){return $.contains(C.target)}),A=R.length>0?f(C,R[0]):!u.current.noIsolation;A&&C.cancelable&&C.preventDefault()}}},[]),m=x.useCallback(function(b,C,T,j){var R={name:b,delta:C,target:T,should:j,shadowParent:X1(T)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(A){return A!==R})},1)},[]),y=x.useCallback(function(b){n.current=ml(b),o.current=void 0},[]),v=x.useCallback(function(b){m(b.type,cm(b),b.target,f(b,t.lockRef.current))},[]),S=x.useCallback(function(b){m(b.type,ml(b),b.target,f(b,t.lockRef.current))},[]);x.useEffect(function(){return To.push(l),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Co),document.addEventListener("touchmove",p,Co),document.addEventListener("touchstart",y,Co),function(){To=To.filter(function(b){return b!==l}),document.removeEventListener("wheel",p,Co),document.removeEventListener("touchmove",p,Co),document.removeEventListener("touchstart",y,Co)}},[]);var _=t.removeScrollBar,k=t.inert;return x.createElement(x.Fragment,null,k?x.createElement(l,{styles:G1(a)}):null,_?x.createElement(F1,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function X1(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Q1=C1(fy,Y1);var vf=x.forwardRef(function(t,e){return x.createElement(Hl,un({},t,{ref:e,sideCar:Q1}))});vf.classNames=Hl.classNames;var Z1=[" ","Enter","ArrowUp","ArrowDown"],eC=[" ","Enter"],Xi="Select",[Wl,ql,tC]=vv(Xi),[Ho]=Hs(Xi,[tC,Qv]),Kl=Qv(),[rC,vs]=Ho(Xi),[nC,sC]=Ho(Xi),vy=t=>{const{__scopeSelect:e,children:n,open:o,defaultOpen:a,onOpenChange:l,value:u,defaultValue:f,onValueChange:p,dir:m,name:y,autoComplete:v,disabled:S,required:_,form:k}=t,b=Kl(e),[C,T]=x.useState(null),[j,R]=x.useState(null),[A,$]=x.useState(!1),H=rf(m),[V=!1,B]=Lo({prop:o,defaultProp:a,onChange:l}),[ne,le]=Lo({prop:u,defaultProp:f,onChange:p}),de=x.useRef(null),me=C?k||!!C.closest("form"):!0,[ce,fe]=x.useState(new Set),G=Array.from(ce).map(W=>W.props.value).join(";");return d.jsx(c1,{...b,children:d.jsxs(rC,{required:_,scope:e,trigger:C,onTriggerChange:T,valueNode:j,onValueNodeChange:R,valueNodeHasChildren:A,onValueNodeHasChildrenChange:$,contentId:fs(),value:ne,onValueChange:le,open:V,onOpenChange:B,dir:H,triggerPointerDownPosRef:de,disabled:S,children:[d.jsx(Wl.Provider,{scope:e,children:d.jsx(nC,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(W=>{fe(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:x.useCallback(W=>{fe(Y=>{const O=new Set(Y);return O.delete(W),O})},[]),children:n})}),me?d.jsxs(zy,{"aria-hidden":!0,required:_,tabIndex:-1,name:y,autoComplete:v,value:ne,onChange:W=>le(W.target.value),disabled:S,form:k,children:[ne===void 0?d.jsx("option",{value:""}):null,Array.from(ce)]},G):null]})})};vy.displayName=Xi;var yy="SelectTrigger",wy=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:o=!1,...a}=t,l=Kl(n),u=vs(yy,n),f=u.disabled||o,p=xt(e,u.onTriggerChange),m=ql(n),y=x.useRef("touch"),[v,S,_]=Uy(b=>{const C=m().filter(R=>!R.disabled),T=C.find(R=>R.value===u.value),j=By(C,b,T);j!==void 0&&u.onValueChange(j.value)}),k=b=>{f||(u.onOpenChange(!0),_()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return d.jsx(u1,{asChild:!0,...l,children:d.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":Fy(u.value)?"":void 0,...a,ref:p,onClick:Fe(a.onClick,b=>{b.currentTarget.focus(),y.current!=="mouse"&&k(b)}),onPointerDown:Fe(a.onPointerDown,b=>{y.current=b.pointerType;const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(k(b),b.preventDefault())}),onKeyDown:Fe(a.onKeyDown,b=>{const C=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&S(b.key),!(C&&b.key===" ")&&Z1.includes(b.key)&&(k(),b.preventDefault())})})})});wy.displayName=yy;var xy="SelectValue",by=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:a,children:l,placeholder:u="",...f}=t,p=vs(xy,n),{onValueNodeHasChildrenChange:m}=p,y=l!==void 0,v=xt(e,p.onValueNodeChange);return nr(()=>{m(y)},[m,y]),d.jsx(Ue.span,{...f,ref:v,style:{pointerEvents:"none"},children:Fy(p.value)?d.jsx(d.Fragment,{children:u}):l})});by.displayName=xy;var oC="SelectIcon",Sy=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:o,...a}=t;return d.jsx(Ue.span,{"aria-hidden":!0,...a,ref:e,children:o||""})});Sy.displayName=oC;var iC="SelectPortal",_y=t=>d.jsx(mf,{asChild:!0,...t});_y.displayName=iC;var Us="SelectContent",Ey=x.forwardRef((t,e)=>{const n=vs(Us,t.__scopeSelect),[o,a]=x.useState();if(nr(()=>{a(new DocumentFragment)},[]),!n.open){const l=o;return l?Ji.createPortal(d.jsx(ky,{scope:t.__scopeSelect,children:d.jsx(Wl.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),l):null}return d.jsx(Cy,{...t,ref:e})});Ey.displayName=Us;var Gr=10,[ky,ys]=Ho(Us),aC="SelectContentImpl",Cy=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:f,sideOffset:p,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:S,collisionPadding:_,sticky:k,hideWhenDetached:b,avoidCollisions:C,...T}=t,j=vs(Us,n),[R,A]=x.useState(null),[$,H]=x.useState(null),V=xt(e,X=>A(X)),[B,ne]=x.useState(null),[le,de]=x.useState(null),me=ql(n),[ce,fe]=x.useState(!1),G=x.useRef(!1);x.useEffect(()=>{if(R)return uy(R)},[R]),Lv();const W=x.useCallback(X=>{const[oe,..._e]=me().map(Ae=>Ae.ref.current),[Ee]=_e.slice(-1),Pe=document.activeElement;for(const Ae of X)if(Ae===Pe||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===oe&&$&&($.scrollTop=0),Ae===Ee&&$&&($.scrollTop=$.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Pe))return},[me,$]),Y=x.useCallback(()=>W([B,R]),[W,B,R]);x.useEffect(()=>{ce&&Y()},[ce,Y]);const{onOpenChange:O,triggerPointerDownPosRef:U}=j;x.useEffect(()=>{if(R){let X={x:0,y:0};const oe=Ee=>{var Pe,Ae;X={x:Math.abs(Math.round(Ee.pageX)-(((Pe=U.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Ae=U.current)==null?void 0:Ae.y)??0))}},_e=Ee=>{X.x<=10&&X.y<=10?Ee.preventDefault():R.contains(Ee.target)||O(!1),document.removeEventListener("pointermove",oe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",_e,{capture:!0})}}},[R,O,U]),x.useEffect(()=>{const X=()=>O(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[O]);const[z,E]=Uy(X=>{const oe=me().filter(Pe=>!Pe.disabled),_e=oe.find(Pe=>Pe.ref.current===document.activeElement),Ee=By(oe,X,_e);Ee&&setTimeout(()=>Ee.ref.current.focus())}),D=x.useCallback((X,oe,_e)=>{const Ee=!G.current&&!_e;(j.value!==void 0&&j.value===oe||Ee)&&(ne(X),Ee&&(G.current=!0))},[j.value]),K=x.useCallback(()=>R==null?void 0:R.focus(),[R]),te=x.useCallback((X,oe,_e)=>{const Ee=!G.current&&!_e;(j.value!==void 0&&j.value===oe||Ee)&&de(X)},[j.value]),we=o==="popper"?Id:Ty,se=we===Id?{side:f,sideOffset:p,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:S,collisionPadding:_,sticky:k,hideWhenDetached:b,avoidCollisions:C}:{};return d.jsx(ky,{scope:n,content:R,viewport:$,onViewportChange:H,itemRefCallback:D,selectedItem:B,onItemLeave:K,itemTextRefCallback:te,focusSelectedItem:Y,selectedItemText:le,position:o,isPositioned:ce,searchRef:z,children:d.jsx(vf,{as:ps,allowPinchZoom:!0,children:d.jsx(af,{asChild:!0,trapped:j.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Fe(a,X=>{var oe;(oe=j.trigger)==null||oe.focus({preventScroll:!0}),X.preventDefault()}),children:d.jsx(of,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:d.jsx(we,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:X=>X.preventDefault(),...T,...se,onPlaced:()=>fe(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:Fe(T.onKeyDown,X=>{const oe=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!oe&&X.key.length===1&&E(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Ee=me().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Pe=X.target,Ae=Ee.indexOf(Pe);Ee=Ee.slice(Ae+1)}setTimeout(()=>W(Ee)),X.preventDefault()}})})})})})})});Cy.displayName=aC;var lC="SelectItemAlignedPosition",Ty=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:o,...a}=t,l=vs(Us,n),u=ys(Us,n),[f,p]=x.useState(null),[m,y]=x.useState(null),v=xt(e,V=>y(V)),S=ql(n),_=x.useRef(!1),k=x.useRef(!0),{viewport:b,selectedItem:C,selectedItemText:T,focusSelectedItem:j}=u,R=x.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&m&&b&&C&&T){const V=l.trigger.getBoundingClientRect(),B=m.getBoundingClientRect(),ne=l.valueNode.getBoundingClientRect(),le=T.getBoundingClientRect();if(l.dir!=="rtl"){const Pe=le.left-B.left,Ae=ne.left-Pe,ht=V.left-Ae,Nt=V.width+ht,Er=Math.max(Nt,B.width),Ut=window.innerWidth-Gr,Bt=Ug(Ae,[Gr,Math.max(Gr,Ut-Er)]);f.style.minWidth=Nt+"px",f.style.left=Bt+"px"}else{const Pe=B.right-le.right,Ae=window.innerWidth-ne.right-Pe,ht=window.innerWidth-V.right-Ae,Nt=V.width+ht,Er=Math.max(Nt,B.width),Ut=window.innerWidth-Gr,Bt=Ug(Ae,[Gr,Math.max(Gr,Ut-Er)]);f.style.minWidth=Nt+"px",f.style.right=Bt+"px"}const de=S(),me=window.innerHeight-Gr*2,ce=b.scrollHeight,fe=window.getComputedStyle(m),G=parseInt(fe.borderTopWidth,10),W=parseInt(fe.paddingTop,10),Y=parseInt(fe.borderBottomWidth,10),O=parseInt(fe.paddingBottom,10),U=G+W+ce+O+Y,z=Math.min(C.offsetHeight*5,U),E=window.getComputedStyle(b),D=parseInt(E.paddingTop,10),K=parseInt(E.paddingBottom,10),te=V.top+V.height/2-Gr,we=me-te,se=C.offsetHeight/2,X=C.offsetTop+se,oe=G+W+X,_e=U-oe;if(oe<=te){const Pe=de.length>0&&C===de[de.length-1].ref.current;f.style.bottom="0px";const Ae=m.clientHeight-b.offsetTop-b.offsetHeight,ht=Math.max(we,se+(Pe?K:0)+Ae+Y),Nt=oe+ht;f.style.height=Nt+"px"}else{const Pe=de.length>0&&C===de[0].ref.current;f.style.top="0px";const ht=Math.max(te,G+b.offsetTop+(Pe?D:0)+se)+_e;f.style.height=ht+"px",b.scrollTop=oe-te+b.offsetTop}f.style.margin=`${Gr}px 0`,f.style.minHeight=z+"px",f.style.maxHeight=me+"px",o==null||o(),requestAnimationFrame(()=>_.current=!0)}},[S,l.trigger,l.valueNode,f,m,b,C,T,l.dir,o]);nr(()=>R(),[R]);const[A,$]=x.useState();nr(()=>{m&&$(window.getComputedStyle(m).zIndex)},[m]);const H=x.useCallback(V=>{V&&k.current===!0&&(R(),j==null||j(),k.current=!1)},[R,j]);return d.jsx(uC,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:_,onScrollButtonChange:H,children:d.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:d.jsx(Ue.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Ty.displayName=lC;var cC="SelectPopperPosition",Id=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:o="start",collisionPadding:a=Gr,...l}=t,u=Kl(n);return d.jsx(d1,{...u,...l,ref:e,align:o,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Id.displayName=cC;var[uC,yf]=Ho(Us,{}),Ad="SelectViewport",jy=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:o,...a}=t,l=ys(Ad,n),u=yf(Ad,n),f=xt(e,l.onViewportChange),p=x.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),d.jsx(Wl.Slot,{scope:n,children:d.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Fe(a.onScroll,m=>{const y=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:S}=u;if(S!=null&&S.current&&v){const _=Math.abs(p.current-y.scrollTop);if(_>0){const k=window.innerHeight-Gr*2,b=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),T=Math.max(b,C);if(T<k){const j=T+_,R=Math.min(k,j),A=j-R;v.style.height=R+"px",v.style.bottom==="0px"&&(y.scrollTop=A>0?A:0,v.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});jy.displayName=Ad;var Ny="SelectGroup",[dC,fC]=Ho(Ny),hC=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,a=fs();return d.jsx(dC,{scope:n,id:a,children:d.jsx(Ue.div,{role:"group","aria-labelledby":a,...o,ref:e})})});hC.displayName=Ny;var Oy="SelectLabel",pC=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,a=fC(Oy,n);return d.jsx(Ue.div,{id:a.id,...o,ref:e})});pC.displayName=Oy;var Ol="SelectItem",[gC,Ry]=Ho(Ol),Py=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:l,...u}=t,f=vs(Ol,n),p=ys(Ol,n),m=f.value===o,[y,v]=x.useState(l??""),[S,_]=x.useState(!1),k=xt(e,j=>{var R;return(R=p.itemRefCallback)==null?void 0:R.call(p,j,o,a)}),b=fs(),C=x.useRef("touch"),T=()=>{a||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(gC,{scope:n,value:o,disabled:a,textId:b,isSelected:m,onItemTextChange:x.useCallback(j=>{v(R=>R||((j==null?void 0:j.textContent)??"").trim())},[]),children:d.jsx(Wl.ItemSlot,{scope:n,value:o,disabled:a,textValue:y,children:d.jsx(Ue.div,{role:"option","aria-labelledby":b,"data-highlighted":S?"":void 0,"aria-selected":m&&S,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:k,onFocus:Fe(u.onFocus,()=>_(!0)),onBlur:Fe(u.onBlur,()=>_(!1)),onClick:Fe(u.onClick,()=>{C.current!=="mouse"&&T()}),onPointerUp:Fe(u.onPointerUp,()=>{C.current==="mouse"&&T()}),onPointerDown:Fe(u.onPointerDown,j=>{C.current=j.pointerType}),onPointerMove:Fe(u.onPointerMove,j=>{var R;C.current=j.pointerType,a?(R=p.onItemLeave)==null||R.call(p):C.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(u.onPointerLeave,j=>{var R;j.currentTarget===document.activeElement&&((R=p.onItemLeave)==null||R.call(p))}),onKeyDown:Fe(u.onKeyDown,j=>{var A;((A=p.searchRef)==null?void 0:A.current)!==""&&j.key===" "||(eC.includes(j.key)&&T(),j.key===" "&&j.preventDefault())})})})})});Py.displayName=Ol;var Ri="SelectItemText",Iy=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:a,...l}=t,u=vs(Ri,n),f=ys(Ri,n),p=Ry(Ri,n),m=sC(Ri,n),[y,v]=x.useState(null),S=xt(e,T=>v(T),p.onItemTextChange,T=>{var j;return(j=f.itemTextRefCallback)==null?void 0:j.call(f,T,p.value,p.disabled)}),_=y==null?void 0:y.textContent,k=x.useMemo(()=>d.jsx("option",{value:p.value,disabled:p.disabled,children:_},p.value),[p.disabled,p.value,_]),{onNativeOptionAdd:b,onNativeOptionRemove:C}=m;return nr(()=>(b(k),()=>C(k)),[b,C,k]),d.jsxs(d.Fragment,{children:[d.jsx(Ue.span,{id:p.textId,...l,ref:S}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ji.createPortal(l.children,u.valueNode):null]})});Iy.displayName=Ri;var Ay="SelectItemIndicator",Dy=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return Ry(Ay,n).isSelected?d.jsx(Ue.span,{"aria-hidden":!0,...o,ref:e}):null});Dy.displayName=Ay;var Dd="SelectScrollUpButton",Ly=x.forwardRef((t,e)=>{const n=ys(Dd,t.__scopeSelect),o=yf(Dd,t.__scopeSelect),[a,l]=x.useState(!1),u=xt(e,o.onScrollButtonChange);return nr(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=p.scrollTop>0;l(m)};const p=n.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?d.jsx($y,{...t,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=n;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});Ly.displayName=Dd;var Ld="SelectScrollDownButton",My=x.forwardRef((t,e)=>{const n=ys(Ld,t.__scopeSelect),o=yf(Ld,t.__scopeSelect),[a,l]=x.useState(!1),u=xt(e,o.onScrollButtonChange);return nr(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<m;l(y)};const p=n.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?d.jsx($y,{...t,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=n;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});My.displayName=Ld;var $y=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:o,...a}=t,l=ys("SelectScrollButton",n),u=x.useRef(null),f=ql(n),p=x.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return x.useEffect(()=>()=>p(),[p]),nr(()=>{var y;const m=f().find(v=>v.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[f]),d.jsx(Ue.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Fe(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:Fe(a.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:Fe(a.onPointerLeave,()=>{p()})})}),mC="SelectSeparator",vC=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return d.jsx(Ue.div,{"aria-hidden":!0,...o,ref:e})});vC.displayName=mC;var Md="SelectArrow",yC=x.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,a=Kl(n),l=vs(Md,n),u=ys(Md,n);return l.open&&u.position==="popper"?d.jsx(f1,{...a,...o,ref:e}):null});yC.displayName=Md;function Fy(t){return t===""||t===void 0}var zy=x.forwardRef((t,e)=>{const{value:n,...o}=t,a=x.useRef(null),l=xt(e,a),u=ay(n);return x.useEffect(()=>{const f=a.current,p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==n&&y){const v=new Event("change",{bubbles:!0});y.call(f,n),f.dispatchEvent(v)}},[u,n]),d.jsx(ly,{asChild:!0,children:d.jsx("select",{...o,ref:l,defaultValue:n})})});zy.displayName="BubbleSelect";function Uy(t){const e=yn(t),n=x.useRef(""),o=x.useRef(0),a=x.useCallback(u=>{const f=n.current+u;e(f),(function p(m){n.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>p(""),1e3))})(f)},[e]),l=x.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,l]}function By(t,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=wC(t,Math.max(l,0));a.length===1&&(u=u.filter(m=>m!==n));const p=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return p!==n?p:void 0}function wC(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var xC=vy,bC=wy,SC=by,_C=Sy,EC=_y,kC=Ey,CC=jy,TC=Py,jC=Iy,NC=Dy,OC=Ly,RC=My;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,o)=>o?o.toUpperCase():n.toLowerCase()),dm=t=>{const e=IC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Vy=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:u,...f},p)=>x.createElement("svg",{ref:p,...AC,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:Vy("lucide",a),...f},[...u.map(([m,y])=>x.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=x.forwardRef(({className:o,...a},l)=>x.createElement(DC,{ref:l,iconNode:e,className:Vy(`lucide-${PC(dm(t))}`,`lucide-${t}`,o),...a}));return n.displayName=dm(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Rl=ct("award",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Hy=ct("calendar-days",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wy=ct("check",$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qy=ct("chevron-down",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UC=ct("chevron-up",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fm=ct("circle-alert",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ai=ct("circle-check-big",VC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Di=ct("circle-x",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hm=ct("clock",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],pm=ct("download",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],GC=ct("file-spreadsheet",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YC=ct("funnel",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],QC=ct("log-out",XC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eT=ct("pen",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wf=ct("plus",tT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nT=ct("save",rT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ky=ct("shield",sT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xf=ct("trash-2",oT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Gy=ct("trending-up",iT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gm=ct("triangle-alert",aT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],mm=ct("trophy",lT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],$d=ct("user-check",cT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vm=ct("user-plus",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fT=ct("users",dT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jy=ct("x",hT);function dn({...t}){return d.jsx(xC,{"data-slot":"select",...t})}function fn({...t}){return d.jsx(SC,{"data-slot":"select-value",...t})}function hn({className:t,size:e="default",children:n,...o}){return d.jsxs(bC,{"data-slot":"select-trigger","data-size":e,className:ze("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[n,d.jsx(_C,{asChild:!0,children:d.jsx(qy,{className:"size-4 opacity-50"})})]})}function pn({className:t,children:e,position:n="popper",...o}){return d.jsx(EC,{children:d.jsxs(kC,{"data-slot":"select-content",className:ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[d.jsx(pT,{}),d.jsx(CC,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),d.jsx(gT,{})]})})}function Et({className:t,children:e,...n}){return d.jsxs(TC,{"data-slot":"select-item",className:ze("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[d.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:d.jsx(NC,{children:d.jsx(Wy,{className:"size-4"})})}),d.jsx(jC,{children:e})]})}function pT({className:t,...e}){return d.jsx(OC,{"data-slot":"select-scroll-up-button",className:ze("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(UC,{className:"size-4"})})}function gT({className:t,...e}){return d.jsx(RC,{"data-slot":"select-scroll-down-button",className:ze("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(qy,{className:"size-4"})})}const ym=tv(`https://${lt}.supabase.co`,Zd);function mT({onLogin:t}){const[e,n]=x.useState(""),[o,a]=x.useState(""),[l,u]=x.useState(""),[f,p]=x.useState("cadet"),[m,y]=x.useState(""),[v,S]=x.useState(!1),_=async b=>{b.preventDefault(),y(""),S(!0);try{const{data:C,error:T}=await ym.auth.signInWithPassword({email:e,password:o});if(T){y(T.message),S(!1);return}C.session&&t(C.session.access_token,C.user)}catch(C){console.error("Sign in error:",C),y("Failed to sign in. Please try again.")}finally{S(!1)}},k=async b=>{b.preventDefault(),y(""),S(!0);try{const C=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Zd}`},body:JSON.stringify({email:e,password:o,name:l,role:f})}),T=await C.json();if(!C.ok){y(T.error||"Failed to sign up"),S(!1);return}const{data:j,error:R}=await ym.auth.signInWithPassword({email:e,password:o});if(R){y("Account created but failed to sign in. Please try signing in manually."),S(!1);return}j.session&&t(j.session.access_token,j.user)}catch(C){console.error("Sign up error:",C),y("Failed to sign up. Please try again.")}finally{S(!1)}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[d.jsxs(rt,{className:"w-full max-w-md",children:[d.jsxs(nt,{className:"text-center",children:[d.jsx(st,{className:"text-2xl",children:"RAF Air Cadet Squadron"}),d.jsx(rr,{children:"Flight Points Management System"})]}),d.jsx(ot,{children:d.jsxs($l,{defaultValue:"signin",className:"w-full",children:[d.jsxs(Fl,{className:"grid w-full grid-cols-2",children:[d.jsx(Ar,{value:"signin",children:"Sign In"}),d.jsx(Ar,{value:"signup",children:"Sign Up"})]}),d.jsx(Dr,{value:"signin",children:d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"signin-email",children:"Email"}),d.jsx(hr,{id:"signin-email",type:"email",placeholder:"your.email@example.com",value:e,onChange:b=>n(b.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"signin-password",children:"Password"}),d.jsx(hr,{id:"signin-password",type:"password",placeholder:"",value:o,onChange:b=>a(b.target.value),required:!0})]}),m&&d.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:m}),d.jsx(We,{type:"submit",className:"w-full",disabled:v,children:v?"Signing In...":"Sign In"})]})}),d.jsx(Dr,{value:"signup",children:d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"signup-name",children:"Full Name"}),d.jsx(hr,{id:"signup-name",type:"text",placeholder:"John Smith",value:l,onChange:b=>u(b.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"signup-email",children:"Email"}),d.jsx(hr,{id:"signup-email",type:"email",placeholder:"your.email@example.com",value:e,onChange:b=>n(b.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"signup-password",children:"Password"}),d.jsx(hr,{id:"signup-password",type:"password",placeholder:"",value:o,onChange:b=>a(b.target.value),required:!0,minLength:6})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"signup-role",children:"Role"}),d.jsxs(dn,{value:f,onValueChange:p,children:[d.jsx(hn,{id:"signup-role",children:d.jsx(fn,{})}),d.jsxs(pn,{children:[d.jsx(Et,{value:"cadet",children:"Cadet"}),d.jsx(Et,{value:"pointgiver",children:"Point Giver"}),d.jsx(Et,{value:"snco",children:"SNCO"}),d.jsx(Et,{value:"staff",children:"Staff"})]})]})]}),m&&d.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:m}),d.jsx(We,{type:"submit",className:"w-full",disabled:v,children:v?"Creating Account...":"Create Account"})]})})]})})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 text-center",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cadets can continue without creating an account  only SNCOs and Point Givers need accounts."}),d.jsx(We,{variant:"ghost",onClick:()=>t(null,{user_metadata:{role:"cadet",name:l||"Guest Cadet"}}),children:"Continue as Cadet (no account)"})]})]})}function Fd({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:ze("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const vT=ef("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Kt({className:t,variant:e,asChild:n=!1,...o}){const a=n?ps:"span";return d.jsx(a,{"data-slot":"badge",className:ze(vT({variant:e}),t),...o})}function yT(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const wT=t=>{switch(t){case"success":return ST;case"info":return ET;case"warning":return _T;case"error":return kT;default:return null}},xT=Array(12).fill(0),bT=({visible:t,className:e})=>re.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},re.createElement("div",{className:"sonner-spinner"},xT.map((n,o)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),ST=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_T=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ET=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TT=()=>{const[t,e]=re.useState(document.hidden);return re.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let zd=1;class jT{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:o,...a}=e,l=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:zd++,u=this.toasts.find(p=>p.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...e,id:l,title:o}),{...p,...e,id:l,dismissible:f,title:o}):p):this.addToast({title:o,...a,dismissible:f,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(o=>o({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let o;n.loading!==void 0&&(o=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let l=o!==void 0,u;const f=a.then(async m=>{if(u=["resolve",m],re.isValidElement(m))l=!1,this.create({id:o,type:"default",message:m});else if(OT(m)&&!m.ok){l=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,S=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,k=typeof v=="object"&&!re.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:S,...k})}else if(m instanceof Error){l=!1;const v=typeof n.error=="function"?await n.error(m):n.error,S=typeof n.description=="function"?await n.description(m):n.description,k=typeof v=="object"&&!re.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:S,...k})}else if(n.success!==void 0){l=!1;const v=typeof n.success=="function"?await n.success(m):n.success,S=typeof n.description=="function"?await n.description(m):n.description,k=typeof v=="object"&&!re.isValidElement(v)?v:{message:v};this.create({id:o,type:"success",description:S,...k})}}).catch(async m=>{if(u=["reject",m],n.error!==void 0){l=!1;const y=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,_=typeof y=="object"&&!re.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:v,..._})}}).finally(()=>{l&&(this.dismiss(o),o=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((m,y)=>f.then(()=>u[0]==="reject"?y(u[1]):m(u[1])).catch(y));return typeof o!="string"&&typeof o!="number"?{unwrap:p}:Object.assign(o,{unwrap:p})},this.custom=(e,n)=>{const o=(n==null?void 0:n.id)||zd++;return this.create({jsx:e(o),id:o,...n}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const fr=new jT,NT=(t,e)=>{const n=(e==null?void 0:e.id)||zd++;return fr.addToast({title:t,...e,id:n}),n},OT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",RT=NT,PT=()=>fr.toasts,IT=()=>fr.getActiveToasts(),Oe=Object.assign(RT,{success:fr.success,info:fr.info,warning:fr.warning,error:fr.error,custom:fr.custom,message:fr.message,promise:fr.promise,dismiss:fr.dismiss,loading:fr.loading},{getHistory:PT,getToasts:IT});yT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vl(t){return t.label!==void 0}const AT=3,DT="24px",LT="16px",wm=4e3,MT=356,$T=14,FT=45,zT=200;function cn(...t){return t.filter(Boolean).join(" ")}function UT(t){const[e,n]=t.split("-"),o=[];return e&&o.push(e),n&&o.push(n),o}const BT=t=>{var e,n,o,a,l,u,f,p,m;const{invert:y,toast:v,unstyled:S,interacting:_,setHeights:k,visibleToasts:b,heights:C,index:T,toasts:j,expanded:R,removeToast:A,defaultRichColors:$,closeButton:H,style:V,cancelButtonStyle:B,actionButtonStyle:ne,className:le="",descriptionClassName:de="",duration:me,position:ce,gap:fe,expandByDefault:G,classNames:W,icons:Y,closeButtonAriaLabel:O="Close toast"}=t,[U,z]=re.useState(null),[E,D]=re.useState(null),[K,te]=re.useState(!1),[we,se]=re.useState(!1),[X,oe]=re.useState(!1),[_e,Ee]=re.useState(!1),[Pe,Ae]=re.useState(!1),[ht,Nt]=re.useState(0),[Er,Ut]=re.useState(0),Bt=re.useRef(v.duration||me||wm),Mr=re.useRef(null),Ot=re.useRef(null),bn=T===0,en=T+1<=b,pt=v.type,$r=v.dismissible!==!1,Ws=v.className||"",qs=v.descriptionClassName||"",Sn=re.useMemo(()=>C.findIndex(Ie=>Ie.toastId===v.id)||0,[C,v.id]),Fn=re.useMemo(()=>{var Ie;return(Ie=v.closeButton)!=null?Ie:H},[v.closeButton,H]),_n=re.useMemo(()=>v.duration||me||wm,[v.duration,me]),zn=re.useRef(0),q=re.useRef(0),ae=re.useRef(0),ke=re.useRef(null),[be,Ye]=ce.split("-"),Be=re.useMemo(()=>C.reduce((Ie,Xe,kt)=>kt>=Sn?Ie:Ie+Xe.height,0),[C,Sn]),ut=TT(),pr=v.invert||y,Me=pt==="loading";q.current=re.useMemo(()=>Sn*fe+Be,[Sn,Be]),re.useEffect(()=>{Bt.current=_n},[_n]),re.useEffect(()=>{te(!0)},[]),re.useEffect(()=>{const Ie=Ot.current;if(Ie){const Xe=Ie.getBoundingClientRect().height;return Ut(Xe),k(kt=>[{toastId:v.id,height:Xe,position:v.position},...kt]),()=>k(kt=>kt.filter(Ct=>Ct.toastId!==v.id))}},[k,v.id]),re.useLayoutEffect(()=>{if(!K)return;const Ie=Ot.current,Xe=Ie.style.height;Ie.style.height="auto";const kt=Ie.getBoundingClientRect().height;Ie.style.height=Xe,Ut(kt),k(Ct=>Ct.find(bt=>bt.toastId===v.id)?Ct.map(bt=>bt.toastId===v.id?{...bt,height:kt}:bt):[{toastId:v.id,height:kt,position:v.position},...Ct])},[K,v.title,v.description,k,v.id]);const Ke=re.useCallback(()=>{se(!0),Nt(q.current),k(Ie=>Ie.filter(Xe=>Xe.toastId!==v.id)),setTimeout(()=>{A(v)},zT)},[v,A,k,q]);re.useEffect(()=>{if(v.promise&&pt==="loading"||v.duration===1/0||v.type==="loading")return;let Ie;return R||_||ut?(()=>{if(ae.current<zn.current){const Ct=new Date().getTime()-zn.current;Bt.current=Bt.current-Ct}ae.current=new Date().getTime()})():(()=>{Bt.current!==1/0&&(zn.current=new Date().getTime(),Ie=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Ke()},Bt.current))})(),()=>clearTimeout(Ie)},[R,_,v,pt,ut,Ke]),re.useEffect(()=>{v.delete&&Ke()},[Ke,v.delete]);function kr(){var Ie;if(Y!=null&&Y.loading){var Xe;return re.createElement("div",{className:cn(W==null?void 0:W.loader,v==null||(Xe=v.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":pt==="loading"},Y.loading)}return re.createElement(bT,{className:cn(W==null?void 0:W.loader,v==null||(Ie=v.classNames)==null?void 0:Ie.loader),visible:pt==="loading"})}const Gt=v.icon||(Y==null?void 0:Y[pt])||wT(pt);var sr,ws;return re.createElement("li",{tabIndex:0,ref:Ot,className:cn(le,Ws,W==null?void 0:W.toast,v==null||(e=v.classNames)==null?void 0:e.toast,W==null?void 0:W.default,W==null?void 0:W[pt],v==null||(n=v.classNames)==null?void 0:n[pt]),"data-sonner-toast":"","data-rich-colors":(sr=v.richColors)!=null?sr:$,"data-styled":!(v.jsx||v.unstyled||S),"data-mounted":K,"data-promise":!!v.promise,"data-swiped":Pe,"data-removed":we,"data-visible":en,"data-y-position":be,"data-x-position":Ye,"data-index":T,"data-front":bn,"data-swiping":X,"data-dismissible":$r,"data-type":pt,"data-invert":pr,"data-swipe-out":_e,"data-swipe-direction":E,"data-expanded":!!(R||G&&K),style:{"--index":T,"--toasts-before":T,"--z-index":j.length-T,"--offset":`${we?ht:q.current}px`,"--initial-height":G?"auto":`${Er}px`,...V,...v.style},onDragEnd:()=>{oe(!1),z(null),ke.current=null},onPointerDown:Ie=>{Me||!$r||(Mr.current=new Date,Nt(q.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(oe(!0),ke.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,Xe,kt;if(_e||!$r)return;ke.current=null;const Ct=Number(((Ie=Ot.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tn=Number(((Xe=Ot.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bt=new Date().getTime()-((kt=Mr.current)==null?void 0:kt.getTime()),Je=U==="x"?Ct:tn,or=Math.abs(Je)/bt;if(Math.abs(Je)>=FT||or>.11){Nt(q.current),v.onDismiss==null||v.onDismiss.call(v,v),D(U==="x"?Ct>0?"right":"left":tn>0?"down":"up"),Ke(),Ee(!0);return}else{var Tt,Rt;(Tt=Ot.current)==null||Tt.style.setProperty("--swipe-amount-x","0px"),(Rt=Ot.current)==null||Rt.style.setProperty("--swipe-amount-y","0px")}Ae(!1),oe(!1),z(null)},onPointerMove:Ie=>{var Xe,kt,Ct;if(!ke.current||!$r||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;const bt=Ie.clientY-ke.current.y,Je=Ie.clientX-ke.current.x;var or;const Tt=(or=t.swipeDirections)!=null?or:UT(ce);!U&&(Math.abs(Je)>1||Math.abs(bt)>1)&&z(Math.abs(Je)>Math.abs(bt)?"x":"y");let Rt={x:0,y:0};const Cr=Zt=>1/(1.5+Math.abs(Zt)/20);if(U==="y"){if(Tt.includes("top")||Tt.includes("bottom"))if(Tt.includes("top")&&bt<0||Tt.includes("bottom")&&bt>0)Rt.y=bt;else{const Zt=bt*Cr(bt);Rt.y=Math.abs(Zt)<Math.abs(bt)?Zt:bt}}else if(U==="x"&&(Tt.includes("left")||Tt.includes("right")))if(Tt.includes("left")&&Je<0||Tt.includes("right")&&Je>0)Rt.x=Je;else{const Zt=Je*Cr(Je);Rt.x=Math.abs(Zt)<Math.abs(Je)?Zt:Je}(Math.abs(Rt.x)>0||Math.abs(Rt.y)>0)&&Ae(!0),(kt=Ot.current)==null||kt.style.setProperty("--swipe-amount-x",`${Rt.x}px`),(Ct=Ot.current)==null||Ct.style.setProperty("--swipe-amount-y",`${Rt.y}px`)}},Fn&&!v.jsx&&pt!=="loading"?re.createElement("button",{"aria-label":O,"data-disabled":Me,"data-close-button":!0,onClick:Me||!$r?()=>{}:()=>{Ke(),v.onDismiss==null||v.onDismiss.call(v,v)},className:cn(W==null?void 0:W.closeButton,v==null||(o=v.classNames)==null?void 0:o.closeButton)},(ws=Y==null?void 0:Y.close)!=null?ws:CT):null,(pt||v.icon||v.promise)&&v.icon!==null&&((Y==null?void 0:Y[pt])!==null||v.icon)?re.createElement("div",{"data-icon":"",className:cn(W==null?void 0:W.icon,v==null||(a=v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||kr():null,v.type!=="loading"?Gt:null):null,re.createElement("div",{"data-content":"",className:cn(W==null?void 0:W.content,v==null||(l=v.classNames)==null?void 0:l.content)},re.createElement("div",{"data-title":"",className:cn(W==null?void 0:W.title,v==null||(u=v.classNames)==null?void 0:u.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?re.createElement("div",{"data-description":"",className:cn(de,qs,W==null?void 0:W.description,v==null||(f=v.classNames)==null?void 0:f.description)},typeof v.description=="function"?v.description():v.description):null),re.isValidElement(v.cancel)?v.cancel:v.cancel&&vl(v.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||B,onClick:Ie=>{vl(v.cancel)&&$r&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Ie),Ke())},className:cn(W==null?void 0:W.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,re.isValidElement(v.action)?v.action:v.action&&vl(v.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||ne,onClick:Ie=>{vl(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Ie),!Ie.defaultPrevented&&Ke())},className:cn(W==null?void 0:W.actionButton,v==null||(m=v.classNames)==null?void 0:m.actionButton)},v.action.label):null)};function xm(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function VT(t,e){const n={};return[t,e].forEach((o,a)=>{const l=a===1,u=l?"--mobile-offset":"--offset",f=l?LT:DT;function p(m){["top","right","bottom","left"].forEach(y=>{n[`${u}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof o=="number"||typeof o=="string"?p(o):typeof o=="object"?["top","right","bottom","left"].forEach(m=>{o[m]===void 0?n[`${u}-${m}`]=f:n[`${u}-${m}`]=typeof o[m]=="number"?`${o[m]}px`:o[m]}):p(f)}),n}const HT=re.forwardRef(function(e,n){const{invert:o,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:p,offset:m,mobileOffset:y,theme:v="light",richColors:S,duration:_,style:k,visibleToasts:b=AT,toastOptions:C,dir:T=xm(),gap:j=$T,icons:R,containerAriaLabel:A="Notifications"}=e,[$,H]=re.useState([]),V=re.useMemo(()=>Array.from(new Set([a].concat($.filter(E=>E.position).map(E=>E.position)))),[$,a]),[B,ne]=re.useState([]),[le,de]=re.useState(!1),[me,ce]=re.useState(!1),[fe,G]=re.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=re.useRef(null),Y=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=re.useRef(null),U=re.useRef(!1),z=re.useCallback(E=>{H(D=>{var K;return(K=D.find(te=>te.id===E.id))!=null&&K.delete||fr.dismiss(E.id),D.filter(({id:te})=>te!==E.id)})},[]);return re.useEffect(()=>fr.subscribe(E=>{if(E.dismiss){requestAnimationFrame(()=>{H(D=>D.map(K=>K.id===E.id?{...K,delete:!0}:K))});return}setTimeout(()=>{gv.flushSync(()=>{H(D=>{const K=D.findIndex(te=>te.id===E.id);return K!==-1?[...D.slice(0,K),{...D[K],...E},...D.slice(K+1)]:[E,...D]})})})}),[$]),re.useEffect(()=>{if(v!=="system"){G(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const E=window.matchMedia("(prefers-color-scheme: dark)");try{E.addEventListener("change",({matches:D})=>{G(D?"dark":"light")})}catch{E.addListener(({matches:K})=>{try{G(K?"dark":"light")}catch(te){console.error(te)}})}},[v]),re.useEffect(()=>{$.length<=1&&de(!1)},[$]),re.useEffect(()=>{const E=D=>{var K;if(l.every(se=>D[se]||D.code===se)){var we;de(!0),(we=W.current)==null||we.focus()}D.code==="Escape"&&(document.activeElement===W.current||(K=W.current)!=null&&K.contains(document.activeElement))&&de(!1)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[l]),re.useEffect(()=>{if(W.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,U.current=!1)}},[W.current]),re.createElement("section",{ref:n,"aria-label":`${A} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((E,D)=>{var K;const[te,we]=E.split("-");return $.length?re.createElement("ol",{key:E,dir:T==="auto"?xm():T,tabIndex:-1,ref:W,className:p,"data-sonner-toaster":!0,"data-sonner-theme":fe,"data-y-position":te,"data-lifted":le&&$.length>1&&!u,"data-x-position":we,style:{"--front-toast-height":`${((K=B[0])==null?void 0:K.height)||0}px`,"--width":`${MT}px`,"--gap":`${j}px`,...k,...VT(m,y)},onBlur:se=>{U.current&&!se.currentTarget.contains(se.relatedTarget)&&(U.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||U.current||(U.current=!0,O.current=se.relatedTarget)},onMouseEnter:()=>de(!0),onMouseMove:()=>de(!0),onMouseLeave:()=>{me||de(!1)},onDragEnd:()=>de(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},$.filter(se=>!se.position&&D===0||se.position===E).map((se,X)=>{var oe,_e;return re.createElement(BT,{key:se.id,icons:R,index:X,toast:se,defaultRichColors:S,duration:(oe=C==null?void 0:C.duration)!=null?oe:_,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:o,visibleToasts:b,closeButton:(_e=C==null?void 0:C.closeButton)!=null?_e:f,interacting:me,position:E,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:z,toasts:$.filter(Ee=>Ee.position==se.position),heights:B.filter(Ee=>Ee.position==se.position),setHeights:ne,expandByDefault:u,gap:j,expanded:le,swipeDirections:e.swipeDirections})})):null}))}),WT=ef("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Pl({className:t,variant:e,...n}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:ze(WT({variant:e}),t),...n})}function bm({className:t,...e}){return d.jsx("div",{"data-slot":"alert-title",className:ze("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...e})}function Il({className:t,...e}){return d.jsx("div",{"data-slot":"alert-description",className:ze("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function qT({accessToken:t,userRole:e}){const[n,o]=x.useState([]),[a,l]=x.useState([]),[u,f]=x.useState(!0),[p,m]=x.useState(!1),[y,v]=x.useState(""),[S,_]=x.useState(""),[k,b]=x.useState(""),[C,T]=x.useState(""),[j,R]=x.useState("general"),[A,$]=x.useState([]),[H,V]=x.useState([]);x.useEffect(()=>{B(),ne()},[]);const B=async()=>{try{const G={};t&&(G.Authorization=`Bearer ${t}`);const W=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/points`,{headers:G});if(W.ok){const Y=await W.json();o(Y.points||[])}}catch(G){console.error("Error fetching points:",G),Oe.error("Failed to fetch points")}finally{f(!1)}},ne=async()=>{try{const G={};t&&(G.Authorization=`Bearer ${t}`);const W=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{headers:G});if(W.ok){const Y=await W.json();l(Y.cadets||[])}}catch(G){console.error("Error fetching cadets:",G)}},le=G=>{if(!G.trim()){$([]),V([]);return}const W=G.split(/[,\n]/).map(z=>z.trim()).filter(z=>z.length>0),Y=W.filter((z,E)=>W.indexOf(z)!==E);$([...new Set(Y)]);const O=a.map(z=>z.name.toLowerCase()),U=W.filter(z=>!O.includes(z.toLowerCase()));V(U)};x.useEffect(()=>{le(y)},[y,a]);const de=async G=>{G.preventDefault();const W=y.split(/[,\n]/).map(Y=>Y.trim()).filter(Y=>Y.length>0);if(W.length===0){Oe.error("Please enter at least one cadet name");return}if(H.length>0){Oe.error(`Invalid names: ${H.join(", ")}`);return}if(!S){Oe.error("Please select a flight");return}m(!0);try{const Y=W.map(async O=>{const U={"Content-Type":"application/json"};t&&(U.Authorization=`Bearer ${t}`);const z=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/points`,{method:"POST",headers:U,body:JSON.stringify({cadetName:O,flight:S,points:parseFloat(k),reason:C,type:j,date:new Date().toISOString()})});if(!z.ok)throw new Error(`Failed to add points for ${O}`);return z.json()});await Promise.all(Y),Oe.success(`Points added successfully for ${W.length} cadet(s)!`),v(""),_(""),b(""),T(""),R("general"),$([]),V([]),B()}catch(Y){console.error("Error adding points:",Y),Oe.error("Failed to add points for some cadets")}finally{m(!1)}},me=async G=>{if(confirm("Are you sure you want to delete this point entry?"))try{const W={};t&&(W.Authorization=`Bearer ${t}`);const Y=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/points/${G}`,{method:"DELETE",headers:W});if(Y.ok)Oe.success("Point entry deleted"),B();else{const O=await Y.json();Oe.error(O.error||"Failed to delete point")}}catch(W){console.error("Error deleting point:",W),Oe.error("Failed to delete point")}},ce=e==="staff"||e==="snco",fe=Array.from(new Set(a.map(G=>G.flight))).sort();return d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsx(st,{children:"Add Points"}),d.jsx(rr,{children:"Award or deduct points for cadets (supports multiple names)"})]}),d.jsx(ot,{children:d.jsxs("form",{onSubmit:de,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"names",children:"Cadet Name(s)"}),d.jsx(Fd,{id:"names",placeholder:`Enter one or more names (separated by commas or new lines)
e.g., John Smith, Jane Doe
or one name per line`,value:y,onChange:G=>v(G.target.value),required:!0,rows:4}),d.jsx("p",{className:"text-xs text-gray-500",children:"Tip: Enter multiple names separated by commas or line breaks"})]}),A.length>0&&d.jsxs(Pl,{variant:"destructive",children:[d.jsx(fm,{className:"size-4"}),d.jsxs(Il,{children:["Duplicate names detected: ",A.join(", ")]})]}),H.length>0&&d.jsxs(Pl,{variant:"destructive",children:[d.jsx(fm,{className:"size-4"}),d.jsxs(Il,{children:["Names not found in system: ",H.join(", ")]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"flight",children:"Flight"}),d.jsxs(dn,{value:S,onValueChange:_,children:[d.jsx(hn,{id:"flight",children:d.jsx(fn,{placeholder:"Select flight"})}),d.jsx(pn,{children:fe.map(G=>d.jsx(Et,{value:G,children:G},G))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"type",children:"Type"}),d.jsxs(dn,{value:j,onValueChange:R,children:[d.jsx(hn,{id:"type",children:d.jsx(fn,{})}),d.jsxs(pn,{children:[d.jsx(Et,{value:"general",children:"General"}),d.jsx(Et,{value:"good",children:"Good Behavior"}),d.jsx(Et,{value:"bad",children:"Bad Behavior"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"points",children:"Points"}),d.jsx(hr,{id:"points",type:"number",step:"0.5",placeholder:"10",value:k,onChange:G=>b(G.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"reason",children:"Reason"}),d.jsx(Fd,{id:"reason",placeholder:"Describe why points are being awarded/deducted",value:C,onChange:G=>T(G.target.value),required:!0,rows:3})]}),d.jsxs(We,{type:"submit",className:"w-full",disabled:p||H.length>0,children:[d.jsx(wf,{className:"size-4 mr-2"}),p?"Adding...":"Add Points"]})]})})]}),d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsx(st,{children:"Recent Points"}),d.jsx(rr,{children:"Last 10 point entries"})]}),d.jsx(ot,{children:u?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):n.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No points recorded yet"}):d.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:n.slice(0,10).map(G=>d.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:G.cadetName}),d.jsx("p",{className:"text-sm text-gray-600",children:G.flight})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Kt,{variant:G.points>=0?"default":"destructive",children:[G.points>=0?"+":"",G.points," pts"]}),ce&&d.jsx(We,{variant:"ghost",size:"sm",onClick:()=>me(G.id),children:d.jsx(xf,{className:"size-4 text-red-600"})})]})]}),d.jsx("p",{className:"text-sm text-gray-700 mb-1",children:G.reason}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx(Kt,{variant:"outline",className:"text-xs",children:G.type}),d.jsxs("span",{children:[" Given by ",G.givenBy]}),d.jsxs("span",{children:[" ",new Date(G.date).toLocaleDateString()]})]})]},G.id))})})]})]})}function Wi({className:t,...e}){return d.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:d.jsx("table",{"data-slot":"table",className:ze("w-full caption-bottom text-sm",t),...e})})}function qi({className:t,...e}){return d.jsx("thead",{"data-slot":"table-header",className:ze("[&_tr]:border-b",t),...e})}function Ki({className:t,...e}){return d.jsx("tbody",{"data-slot":"table-body",className:ze("[&_tr:last-child]:border-0",t),...e})}function mn({className:t,...e}){return d.jsx("tr",{"data-slot":"table-row",className:ze("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function et({className:t,...e}){return d.jsx("th",{"data-slot":"table-head",className:ze("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function tt({className:t,...e}){return d.jsx("td",{"data-slot":"table-cell",className:ze("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function KT({accessToken:t}){const[e,n]=x.useState([]),[o,a]=x.useState(!0),[l,u]=x.useState({totalPresent:0,totalAuthorisedAbsence:0,totalAbsent:0,averageAttendanceRate:0});x.useEffect(()=>{f();const p=setInterval(f,3e4);return()=>clearInterval(p)},[]);const f=async()=>{try{const p={};t&&(p.Authorization=`Bearer ${t}`);const m=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/attendance-summary`,{headers:p});if(m.ok){const y=await m.json();n(y.summary||[]),u(y.stats||{totalPresent:0,totalAuthorisedAbsence:0,totalAbsent:0,averageAttendanceRate:0})}}catch(p){console.error("Error fetching attendance reports:",p),Oe.error("Failed to fetch attendance reports")}finally{a(!1)}};return o?d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-600",children:"Loading attendance reports..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[d.jsxs(rt,{className:"bg-gradient-to-br from-green-50 to-white border-green-200",children:[d.jsx(nt,{className:"pb-3",children:d.jsxs(st,{className:"text-sm flex items-center gap-2",children:[d.jsx(Ai,{className:"size-4 text-green-600"}),"Total Present"]})}),d.jsx(ot,{children:d.jsx("p",{className:"text-3xl font-bold text-green-900",children:l.totalPresent})})]}),d.jsxs(rt,{className:"bg-gradient-to-br from-yellow-50 to-white border-yellow-200",children:[d.jsx(nt,{className:"pb-3",children:d.jsxs(st,{className:"text-sm flex items-center gap-2",children:[d.jsx(hm,{className:"size-4 text-yellow-600"}),"Authorised Absences"]})}),d.jsx(ot,{children:d.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:l.totalAuthorisedAbsence})})]}),d.jsxs(rt,{className:"bg-gradient-to-br from-red-50 to-white border-red-200",children:[d.jsx(nt,{className:"pb-3",children:d.jsxs(st,{className:"text-sm flex items-center gap-2",children:[d.jsx(Di,{className:"size-4 text-red-600"}),"Total Absent"]})}),d.jsx(ot,{children:d.jsx("p",{className:"text-3xl font-bold text-red-900",children:l.totalAbsent})})]}),d.jsxs(rt,{className:"bg-gradient-to-br from-blue-50 to-white border-blue-200",children:[d.jsx(nt,{className:"pb-3",children:d.jsxs(st,{className:"text-sm flex items-center gap-2",children:[d.jsx($d,{className:"size-4 text-blue-600"}),"Avg. Attendance"]})}),d.jsx(ot,{children:d.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:[l.averageAttendanceRate,"%"]})})]})]}),d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsx(st,{children:"Attendance Summary by Cadet"}),d.jsx(rr,{children:"Breakdown of attendance records per cadet"})]}),d.jsx(ot,{children:e.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No attendance data yet"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Wi,{children:[d.jsx(qi,{children:d.jsxs(mn,{children:[d.jsx(et,{children:"Cadet Name"}),d.jsx(et,{children:"Flight"}),d.jsx(et,{className:"text-center",children:"Present"}),d.jsx(et,{className:"text-center",children:"Auth. Absence"}),d.jsx(et,{className:"text-center",children:"Absent"}),d.jsx(et,{className:"text-center",children:"Total Records"}),d.jsx(et,{className:"text-right",children:"Attendance Rate"})]})}),d.jsx(Ki,{children:e.sort((p,m)=>m.attendanceRate-p.attendanceRate).map((p,m)=>d.jsxs(mn,{children:[d.jsx(tt,{className:"font-medium",children:p.cadetName}),d.jsx(tt,{children:d.jsx(Kt,{variant:"outline",children:p.flight})}),d.jsx(tt,{className:"text-center",children:d.jsxs("span",{className:"inline-flex items-center gap-1 text-green-700",children:[d.jsx(Ai,{className:"size-3"}),p.totalPresent]})}),d.jsx(tt,{className:"text-center",children:d.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-700",children:[d.jsx(hm,{className:"size-3"}),p.totalAuthorisedAbsence]})}),d.jsx(tt,{className:"text-center",children:d.jsxs("span",{className:"inline-flex items-center gap-1 text-red-700",children:[d.jsx(Di,{className:"size-3"}),p.totalAbsent]})}),d.jsx(tt,{className:"text-center",children:p.totalRecords}),d.jsx(tt,{className:"text-right",children:d.jsxs(Kt,{variant:p.attendanceRate>=90?"default":p.attendanceRate>=75?"secondary":"destructive",children:[p.attendanceRate,"%"]})})]},`${p.cadetName}-${m}`))})]})})})]})]})}function GT({accessToken:t}){const[e,n]=x.useState(null),[o,a]=x.useState(!0);x.useEffect(()=>{l();const u=setInterval(l,3e4);return()=>clearInterval(u)},[]);const l=async()=>{try{const u={};t&&(u.Authorization=`Bearer ${t}`);const f=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/leaderboards`,{headers:u});if(f.ok){const p=await f.json();n(p)}}catch(u){console.error("Error fetching leaderboards:",u),Oe.error("Failed to fetch leaderboards")}finally{a(!1)}};return o?d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-600",children:"Loading leaderboards..."})}):e?d.jsxs($l,{defaultValue:"points",className:"space-y-6",children:[d.jsxs(Fl,{className:"grid w-full grid-cols-2",children:[d.jsx(Ar,{value:"points",children:"Points Leaderboards"}),d.jsx(Ar,{value:"attendance",children:"Attendance Reports"})]}),d.jsxs(Dr,{value:"points",className:"space-y-6",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(rt,{className:"border-yellow-200 bg-gradient-to-br from-yellow-50 to-white",children:[d.jsx(nt,{children:d.jsxs(st,{className:"flex items-center gap-2",children:[d.jsx(mm,{className:"size-6 text-yellow-600"}),"Winning Flight"]})}),d.jsx(ot,{children:e.winningFlight?d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:e.winningFlight.flight}),d.jsxs("p",{className:"text-xl text-yellow-700",children:[e.winningFlight.points," points"]})]}):d.jsx("p",{className:"text-gray-500",children:"No data yet"})})]}),d.jsxs(rt,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-white",children:[d.jsx(nt,{children:d.jsxs(st,{className:"flex items-center gap-2",children:[d.jsx(Rl,{className:"size-6 text-blue-600"}),"Winning Cadet"]})}),d.jsx(ot,{children:e.winningCadet?d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:e.winningCadet.name}),d.jsxs("p",{className:"text-xl text-blue-700",children:[e.winningCadet.points," points"]})]}):d.jsx("p",{className:"text-gray-500",children:"No data yet"})})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsx(st,{children:"Flight Leaderboard"}),d.jsx(rr,{children:"Total points by flight"})]}),d.jsx(ot,{children:e.flightLeaderboard&&e.flightLeaderboard.length>0?d.jsxs(Wi,{children:[d.jsx(qi,{children:d.jsxs(mn,{children:[d.jsx(et,{className:"w-16",children:"Rank"}),d.jsx(et,{children:"Flight"}),d.jsx(et,{className:"text-right",children:"Points"})]})}),d.jsx(Ki,{children:e.flightLeaderboard.map((u,f)=>d.jsxs(mn,{children:[d.jsxs(tt,{className:"font-medium",children:[f===0&&d.jsx(mm,{className:"inline size-4 text-yellow-600 mr-1"}),"#",f+1]}),d.jsx(tt,{className:"font-medium",children:u.flight}),d.jsx(tt,{className:"text-right",children:d.jsx(Kt,{variant:f===0?"default":"secondary",children:u.points})})]},u.flight))})]}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No flights recorded yet"})})]}),d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsx(st,{children:"Cadet Leaderboard"}),d.jsx(rr,{children:"Top 10 cadets by points"})]}),d.jsx(ot,{children:e.cadetLeaderboard&&e.cadetLeaderboard.length>0?d.jsxs(Wi,{children:[d.jsx(qi,{children:d.jsxs(mn,{children:[d.jsx(et,{className:"w-16",children:"Rank"}),d.jsx(et,{children:"Cadet"}),d.jsx(et,{className:"text-right",children:"Points"})]})}),d.jsx(Ki,{children:e.cadetLeaderboard.slice(0,10).map((u,f)=>d.jsxs(mn,{children:[d.jsxs(tt,{className:"font-medium",children:[f===0&&d.jsx(Rl,{className:"inline size-4 text-blue-600 mr-1"}),"#",f+1]}),d.jsx(tt,{className:"font-medium",children:u.name}),d.jsx(tt,{className:"text-right",children:d.jsx(Kt,{variant:f===0?"default":"secondary",children:u.points})})]},u.name))})]}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No cadets recorded yet"})})]})]}),d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsxs(st,{className:"flex items-center gap-2",children:[d.jsx(Gy,{className:"size-5"}),"Recent Activity"]}),d.jsx(rr,{children:"Latest point awards (excluding attendance)"})]}),d.jsx(ot,{children:e.recentPoints&&e.recentPoints.length>0?d.jsx("div",{className:"space-y-3",children:e.recentPoints.map(u=>d.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg border",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-medium",children:u.cadetName}),d.jsx(Kt,{variant:"outline",className:"text-xs",children:u.flight}),d.jsx(Kt,{variant:"outline",className:"text-xs",children:u.type})]}),d.jsx("p",{className:"text-sm text-gray-600",children:u.reason}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(u.date).toLocaleDateString(),"  ",u.givenBy]})]}),d.jsxs(Kt,{variant:u.points>=0?"default":"destructive",className:"ml-4",children:[u.points>=0?"+":"",u.points]})]},u.id))}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recent activity"})})]})]}),d.jsx(Dr,{value:"attendance",children:d.jsx(KT,{accessToken:t})})]}):d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-600",children:"No data available"})})}const Yy=x.createContext({dragDropManager:void 0});function Ir(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Sm=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),_m=function(){return Math.random().toString(36).substring(7).split("").join(".")},Em={INIT:"@@redux/INIT"+_m(),REPLACE:"@@redux/REPLACE"+_m()};function JT(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Xy(t,e,n){var o;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ir(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ir(1));return n(Xy)(t,e)}if(typeof t!="function")throw new Error(Ir(2));var a=t,l=e,u=[],f=u,p=!1;function m(){f===u&&(f=u.slice())}function y(){if(p)throw new Error(Ir(3));return l}function v(b){if(typeof b!="function")throw new Error(Ir(4));if(p)throw new Error(Ir(5));var C=!0;return m(),f.push(b),function(){if(C){if(p)throw new Error(Ir(6));C=!1,m();var j=f.indexOf(b);f.splice(j,1),u=null}}}function S(b){if(!JT(b))throw new Error(Ir(7));if(typeof b.type>"u")throw new Error(Ir(8));if(p)throw new Error(Ir(9));try{p=!0,l=a(l,b)}finally{p=!1}for(var C=u=f,T=0;T<C.length;T++){var j=C[T];j()}return b}function _(b){if(typeof b!="function")throw new Error(Ir(10));a=b,S({type:Em.REPLACE})}function k(){var b,C=v;return b={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(Ir(11));function R(){j.next&&j.next(y())}R();var A=C(R);return{unsubscribe:A}}},b[Sm]=function(){return this},b}return S({type:Em.INIT}),o={dispatch:S,subscribe:v,getState:y,replaceReducer:_},o[Sm]=k,o}function De(t,e,...n){if(YT()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let o;if(e===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;o=new Error(e.replace(/%s/g,function(){return n[a++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}function YT(){return typeof process<"u"&&!0}function XT(t,e,n){return e.split(".").reduce((o,a)=>o&&o[a]?o[a]:n||null,t)}function QT(t,e){return t.filter(n=>n!==e)}function Qy(t){return typeof t=="object"}function ZT(t,e){const n=new Map,o=l=>{n.set(l,n.has(l)?n.get(l)+1:1)};t.forEach(o),e.forEach(o);const a=[];return n.forEach((l,u)=>{l===1&&a.push(u)}),a}function ej(t,e){return t.filter(n=>e.indexOf(n)>-1)}const bf="dnd-core/INIT_COORDS",Gl="dnd-core/BEGIN_DRAG",Sf="dnd-core/PUBLISH_DRAG_SOURCE",Jl="dnd-core/HOVER",Yl="dnd-core/DROP",Xl="dnd-core/END_DRAG";function km(t,e){return{type:bf,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const tj={type:bf,payload:{clientOffset:null,sourceClientOffset:null}};function rj(t){return function(n=[],o={publishSource:!0}){const{publishSource:a=!0,clientOffset:l,getSourceClientOffset:u}=o,f=t.getMonitor(),p=t.getRegistry();t.dispatch(km(l)),nj(n,f,p);const m=ij(n,f);if(m==null){t.dispatch(tj);return}let y=null;if(l){if(!u)throw new Error("getSourceClientOffset must be defined");sj(u),y=u(m)}t.dispatch(km(l,y));const S=p.getSource(m).beginDrag(f,m);if(S==null)return;oj(S),p.pinSource(m);const _=p.getSourceType(m);return{type:Gl,payload:{itemType:_,item:S,sourceId:m,clientOffset:l||null,sourceClientOffset:y||null,isSourcePublic:!!a}}}}function nj(t,e,n){De(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(o){De(n.getSource(o),"Expected sourceIds to be registered.")})}function sj(t){De(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function oj(t){De(Qy(t),"Item must be an object.")}function ij(t,e){let n=null;for(let o=t.length-1;o>=0;o--)if(e.canDragSource(t[o])){n=t[o];break}return n}function aj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){aj(t,a,n[a])})}return t}function cj(t){return function(n={}){const o=t.getMonitor(),a=t.getRegistry();uj(o),hj(o).forEach((u,f)=>{const p=dj(u,f,a,o),m={type:Yl,payload:{dropResult:lj({},n,p)}};t.dispatch(m)})}}function uj(t){De(t.isDragging(),"Cannot call drop while not dragging."),De(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function dj(t,e,n,o){const a=n.getTarget(t);let l=a?a.drop(o,t):void 0;return fj(l),typeof l>"u"&&(l=e===0?{}:o.getDropResult()),l}function fj(t){De(typeof t>"u"||Qy(t),"Drop result must either be an object or undefined.")}function hj(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function pj(t){return function(){const n=t.getMonitor(),o=t.getRegistry();gj(n);const a=n.getSourceId();return a!=null&&(o.getSource(a,!0).endDrag(n,a),o.unpinSource()),{type:Xl}}}function gj(t){De(t.isDragging(),"Cannot call endDrag while not dragging.")}function Ud(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function mj(t){return function(n,{clientOffset:o}={}){vj(n);const a=n.slice(0),l=t.getMonitor(),u=t.getRegistry(),f=l.getItemType();return wj(a,u,f),yj(a,l,u),xj(a,l,u),{type:Jl,payload:{targetIds:a,clientOffset:o||null}}}}function vj(t){De(Array.isArray(t),"Expected targetIds to be an array.")}function yj(t,e,n){De(e.isDragging(),"Cannot call hover while not dragging."),De(!e.didDrop(),"Cannot call hover after drop.");for(let o=0;o<t.length;o++){const a=t[o];De(t.lastIndexOf(a)===o,"Expected targetIds to be unique in the passed array.");const l=n.getTarget(a);De(l,"Expected targetIds to be registered.")}}function wj(t,e,n){for(let o=t.length-1;o>=0;o--){const a=t[o],l=e.getTargetType(a);Ud(l,n)||t.splice(o,1)}}function xj(t,e,n){t.forEach(function(o){n.getTarget(o).hover(e,o)})}function bj(t){return function(){if(t.getMonitor().isDragging())return{type:Sf}}}function Sj(t){return{beginDrag:rj(t),publishDragSource:bj(t),hover:mj(t),drop:cj(t),endDrag:pj(t)}}class _j{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function o(l){return(...u)=>{const f=l.apply(e,u);typeof f<"u"&&n(f)}}const a=Sj(this);return Object.keys(a).reduce((l,u)=>{const f=a[u];return l[u]=o(f),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const o=this.store.getState().refCount>0;this.backend&&(o&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!o&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function Ej(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Zy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kj(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:o}=t;return!e||!n||!o?null:Zy(Ej(e,o),n)}function Cj(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:Zy(e,n)}const Li=[],_f=[];Li.__IS_NONE__=!0;_f.__IS_ALL__=!0;function Tj(t,e){return t===Li?!1:t===_f||typeof e>"u"?!0:ej(e,t).length>0}class jj{subscribeToStateChange(e,n={}){const{handlerIds:o}=n;De(typeof e=="function","listener must be a function."),De(typeof o>"u"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const l=()=>{const u=this.store.getState(),f=u.stateId;try{f===a||f===a+1&&!Tj(u.dirtyHandlerIds,o)||e()}finally{a=f}};return this.store.subscribe(l)}subscribeToOffsetChange(e){De(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const o=()=>{const a=this.store.getState().dragOffset;a!==n&&(n=a,e())};return this.store.subscribe(o)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return De(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(De(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const o=this.registry.getTargetType(e),a=this.getItemType();return Ud(o,a)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(De(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const o=this.registry.getSourceType(e),a=this.getItemType();return o!==a?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:o}=n;if(!this.isDragging())return!1;const a=this.registry.getTargetType(e),l=this.getItemType();if(l&&!Ud(a,l))return!1;const u=this.getTargetIds();if(!u.length)return!1;const f=u.indexOf(e);return o?f===u.length-1:f>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return kj(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Cj(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const Cm=typeof global<"u"?global:self,ew=Cm.MutationObserver||Cm.WebKitMutationObserver;function tw(t){return function(){const n=setTimeout(a,0),o=setInterval(a,50);function a(){clearTimeout(n),clearInterval(o),t()}}}function Nj(t){let e=1;const n=new ew(t),o=document.createTextNode("");return n.observe(o,{characterData:!0}),function(){e=-e,o.data=e}}const Oj=typeof ew=="function"?Nj:tw;class Rj{enqueueTask(e){const{queue:n,requestFlush:o}=this;n.length||(o(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let o=0,a=e.length-this.index;o<a;o++)e[o]=e[o+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Oj(this.flush),this.requestErrorThrow=tw(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Pj{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class Ij{create(e){const n=this.freeTasks,o=n.length?n.pop():new Pj(this.onError,a=>n[n.length]=a);return o.task=e,o}constructor(e){this.onError=e,this.freeTasks=[]}}const rw=new Rj,Aj=new Ij(rw.registerPendingError);function Dj(t){rw.enqueueTask(Aj.create(t))}const Ef="dnd-core/ADD_SOURCE",kf="dnd-core/ADD_TARGET",Cf="dnd-core/REMOVE_SOURCE",Ql="dnd-core/REMOVE_TARGET";function Lj(t){return{type:Ef,payload:{sourceId:t}}}function Mj(t){return{type:kf,payload:{targetId:t}}}function $j(t){return{type:Cf,payload:{sourceId:t}}}function Fj(t){return{type:Ql,payload:{targetId:t}}}function zj(t){De(typeof t.canDrag=="function","Expected canDrag to be a function."),De(typeof t.beginDrag=="function","Expected beginDrag to be a function."),De(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Uj(t){De(typeof t.canDrop=="function","Expected canDrop to be a function."),De(typeof t.hover=="function","Expected hover to be a function."),De(typeof t.drop=="function","Expected beginDrag to be a function.")}function Bd(t,e){if(e&&Array.isArray(t)){t.forEach(n=>Bd(n,!1));return}De(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Lr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Lr||(Lr={}));let Bj=0;function Vj(){return Bj++}function Hj(t){const e=Vj().toString();switch(t){case Lr.SOURCE:return`S${e}`;case Lr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Tm(t){switch(t[0]){case"S":return Lr.SOURCE;case"T":return Lr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function jm(t,e){const n=t.entries();let o=!1;do{const{done:a,value:[,l]}=n.next();if(l===e)return!0;o=!!a}while(!o);return!1}class Wj{addSource(e,n){Bd(e),zj(n);const o=this.addHandler(Lr.SOURCE,e,n);return this.store.dispatch(Lj(o)),o}addTarget(e,n){Bd(e,!0),Uj(n);const o=this.addHandler(Lr.TARGET,e,n);return this.store.dispatch(Mj(o)),o}containsHandler(e){return jm(this.dragSources,e)||jm(this.dropTargets,e)}getSource(e,n=!1){return De(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return De(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return De(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return De(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Tm(e)===Lr.SOURCE}isTargetId(e){return Tm(e)===Lr.TARGET}removeSource(e){De(this.getSource(e),"Expected an existing source."),this.store.dispatch($j(e)),Dj(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){De(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Fj(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);De(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){De(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,o){const a=Hj(e);return this.types.set(a,n),e===Lr.SOURCE?this.dragSources.set(a,o):e===Lr.TARGET&&this.dropTargets.set(a,o),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const qj=(t,e)=>t===e;function Kj(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Gj(t,e,n=qj){if(t.length!==e.length)return!1;for(let o=0;o<t.length;++o)if(!n(t[o],e[o]))return!1;return!0}function Jj(t=Li,e){switch(e.type){case Jl:break;case Ef:case kf:case Ql:case Cf:return Li;case Gl:case Sf:case Xl:case Yl:default:return _f}const{targetIds:n=[],prevTargetIds:o=[]}=e.payload,a=ZT(n,o);if(!(a.length>0||!Gj(n,o)))return Li;const u=o[o.length-1],f=n[n.length-1];return u!==f&&(u&&a.push(u),f&&a.push(f)),a}function Yj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Yj(t,a,n[a])})}return t}const Nm={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Qj(t=Nm,e){const{payload:n}=e;switch(e.type){case bf:case Gl:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Jl:return Kj(t.clientOffset,n.clientOffset)?t:Xj({},t,{clientOffset:n.clientOffset});case Xl:case Yl:return Nm;default:return t}}function Zj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Zj(t,a,n[a])})}return t}const eN={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function tN(t=eN,e){const{payload:n}=e;switch(e.type){case Gl:return jo({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Sf:return jo({},t,{isSourcePublic:!0});case Jl:return jo({},t,{targetIds:n.targetIds});case Ql:return t.targetIds.indexOf(n.targetId)===-1?t:jo({},t,{targetIds:QT(t.targetIds,n.targetId)});case Yl:return jo({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Xl:return jo({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function rN(t=0,e){switch(e.type){case Ef:case kf:return t+1;case Cf:case Ql:return t-1;default:return t}}function nN(t=0){return t+1}function sN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){sN(t,a,n[a])})}return t}function iN(t={},e){return{dirtyHandlerIds:Jj(t.dirtyHandlerIds,{type:e.type,payload:oN({},e.payload,{prevTargetIds:XT(t,"dragOperation.targetIds",[])})}),dragOffset:Qj(t.dragOffset,e),refCount:rN(t.refCount,e),dragOperation:tN(t.dragOperation,e),stateId:nN(t.stateId)}}function aN(t,e=void 0,n={},o=!1){const a=lN(o),l=new jj(a,new Wj(a)),u=new _j(a,l),f=t(u,e,n);return u.receiveBackend(f),u}function lN(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Xy(iN,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function cN(t,e){if(t==null)return{};var n=uN(t,e),o,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function uN(t,e){if(t==null)return{};var n={},o=Object.keys(t),a,l;for(l=0;l<o.length;l++)a=o[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}let Om=0;const Sl=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var dN=x.memo(function(e){var{children:n}=e,o=cN(e,["children"]);const[a,l]=fN(o);return x.useEffect(()=>{if(l){const u=nw();return++Om,()=>{--Om===0&&(u[Sl]=null)}}},[]),d.jsx(Yy.Provider,{value:a,children:n})});function fN(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=hN(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function hN(t,e=nw(),n,o){const a=e;return a[Sl]||(a[Sl]={dragDropManager:aN(t,e,n,o)}),a[Sl]}function nw(){return typeof global<"u"?global:window}var id,Rm;function pN(){return Rm||(Rm=1,id=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var o,a,l;if(Array.isArray(e)){if(o=e.length,o!=n.length)return!1;for(a=o;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),o=l.length,o!==Object.keys(n).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[a]))return!1;for(a=o;a--!==0;){var u=l[a];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}),id}var gN=pN();const mN=qd(gN),Bs=typeof window<"u"?x.useLayoutEffect:x.useEffect;function vN(t,e,n){const[o,a]=x.useState(()=>e(t)),l=x.useCallback(()=>{const u=e(t);mN(o,u)||(a(u),n&&n())},[o,t,n]);return Bs(l),[o,l]}function yN(t,e,n){const[o,a]=vN(t,e,n);return Bs(function(){const u=t.getHandlerId();if(u!=null)return t.subscribeToStateChange(a,{handlerIds:[u]})},[t,a]),o}function sw(t,e,n){return yN(e,t||(()=>({})),()=>n.reconnect())}function ow(t,e){const n=[];return typeof t!="function"&&n.push(t),x.useMemo(()=>typeof t=="function"?t():t,n)}function wN(t){return x.useMemo(()=>t.hooks.dragSource(),[t])}function xN(t){return x.useMemo(()=>t.hooks.dragPreview(),[t])}let ad=!1,ld=!1;class bN{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){De(!ad,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ad=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ad=!1}}isDragging(){if(!this.sourceId)return!1;De(!ld,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ld=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ld=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let cd=!1;class SN{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;De(!cd,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return cd=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{cd=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function _N(t,e,n){const o=n.getRegistry(),a=o.addTarget(t,e);return[a,()=>o.removeTarget(a)]}function EN(t,e,n){const o=n.getRegistry(),a=o.addSource(t,e);return[a,()=>o.removeSource(a)]}function Vd(t,e,n,o){let a;if(a!==void 0)return!!a;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;const f=Object.prototype.hasOwnProperty.bind(e);for(let p=0;p<l.length;p++){const m=l[p];if(!f(m))return!1;const y=t[m],v=e[m];if(a=void 0,a===!1||a===void 0&&y!==v)return!1}return!0}function Hd(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kN(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function CN(t){return(e=null,n=null)=>{if(!x.isValidElement(e)){const l=e;return t(l,n),l}const o=e;return kN(o),TN(o,n?l=>t(l,n):t)}}function iw(t){const e={};return Object.keys(t).forEach(n=>{const o=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const a=CN(o);e[n]=()=>a}}),e}function Pm(t,e){typeof t=="function"?t(e):t.current=e}function TN(t,e){const n=t.ref;return De(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?x.cloneElement(t,{ref:o=>{Pm(n,o),Pm(e,o)}}):x.cloneElement(t,{ref:e})}class jN{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,o=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(o&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Vd(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Vd(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=iw({dragSource:(n,o)=>{this.clearDragSource(),this.dragSourceOptions=o||null,Hd(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,o)=>{this.clearDragPreview(),this.dragPreviewOptions=o||null,Hd(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class NN{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Vd(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=iw({dropTarget:(n,o)=>{this.clearDropTarget(),this.dropTargetOptions=o,Hd(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Wo(){const{dragDropManager:t}=x.useContext(Yy);return De(t!=null,"Expected drag drop context"),t}function ON(t,e){const n=Wo(),o=x.useMemo(()=>new jN(n.getBackend()),[n]);return Bs(()=>(o.dragSourceOptions=t||null,o.reconnect(),()=>o.disconnectDragSource()),[o,t]),Bs(()=>(o.dragPreviewOptions=e||null,o.reconnect(),()=>o.disconnectDragPreview()),[o,e]),o}function RN(){const t=Wo();return x.useMemo(()=>new bN(t),[t])}class PN{beginDrag(){const e=this.spec,n=this.monitor;let o=null;return typeof e.item=="object"?o=e.item:typeof e.item=="function"?o=e.item(n):o={},o??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const o=this.spec,a=this.monitor,{isDragging:l}=o;return l?l(a):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,o=this.connector,{end:a}=e;a&&a(n.getItem(),n),o.reconnect()}constructor(e,n,o){this.spec=e,this.monitor=n,this.connector=o}}function IN(t,e,n){const o=x.useMemo(()=>new PN(t,e,n),[e,n]);return x.useEffect(()=>{o.spec=t},[t]),o}function AN(t){return x.useMemo(()=>{const e=t.type;return De(e!=null,"spec.type must be defined"),e},[t])}function DN(t,e,n){const o=Wo(),a=IN(t,e,n),l=AN(t);Bs(function(){if(l!=null){const[f,p]=EN(l,a,o);return e.receiveHandlerId(f),n.receiveHandlerId(f),p}},[o,e,n,a,l])}function LN(t,e){const n=ow(t);De(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const o=RN(),a=ON(n.options,n.previewOptions);return DN(n,o,a),[sw(n.collect,o,a),wN(a),xN(a)]}function MN(t){return x.useMemo(()=>t.hooks.dropTarget(),[t])}function $N(t){const e=Wo(),n=x.useMemo(()=>new NN(e.getBackend()),[e]);return Bs(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function FN(){const t=Wo();return x.useMemo(()=>new SN(t),[t])}function zN(t){const{accept:e}=t;return x.useMemo(()=>(De(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class UN{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function BN(t,e){const n=x.useMemo(()=>new UN(t,e),[e]);return x.useEffect(()=>{n.spec=t},[t]),n}function VN(t,e,n){const o=Wo(),a=BN(t,e),l=zN(t);Bs(function(){const[f,p]=_N(l,a,o);return e.receiveHandlerId(f),n.receiveHandlerId(f),p},[o,e,a,n,l.map(u=>u.toString()).join("|")])}function HN(t,e){const n=ow(t),o=FN(),a=$N(n.options);return VN(n,o,a),[sw(n.collect,o,a),MN(a)]}function aw(t){let e=null;return()=>(e==null&&(e=t()),e)}function WN(t,e){return t.filter(n=>n!==e)}function qN(t,e){const n=new Set,o=l=>n.add(l);t.forEach(o),e.forEach(o);const a=[];return n.forEach(l=>a.push(l)),a}class KN{enter(e){const n=this.entered.length,o=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=qN(this.entered.filter(o),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=WN(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class GN{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(o=>{const a=this.config.exposeProperties[o];a!=null&&(n[o]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const lw="__NATIVE_FILE__",cw="__NATIVE_URL__",uw="__NATIVE_TEXT__",dw="__NATIVE_HTML__",Im=Object.freeze(Object.defineProperty({__proto__:null,FILE:lw,HTML:dw,TEXT:uw,URL:cw},Symbol.toStringTag,{value:"Module"}));function ud(t,e,n){const o=e.reduce((a,l)=>a||t.getData(l),"");return o??n}const Wd={[lw]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[dw]:{exposeProperties:{html:(t,e)=>ud(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[cw]:{exposeProperties:{urls:(t,e)=>ud(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[uw]:{exposeProperties:{text:(t,e)=>ud(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function JN(t,e){const n=Wd[t];if(!n)throw new Error(`native type ${t} has no configuration`);const o=new GN(n);return o.loadDataTransfer(e),o}function dd(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Wd).filter(n=>{const o=Wd[n];return o!=null&&o.matchesTypes?o.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}const YN=aw(()=>/firefox/i.test(navigator.userAgent)),fw=aw(()=>!!window.safari);class Am{interpolate(e){const{xs:n,ys:o,c1s:a,c2s:l,c3s:u}=this;let f=n.length-1;if(e===n[f])return o[f];let p=0,m=u.length-1,y;for(;p<=m;){y=Math.floor(.5*(p+m));const _=n[y];if(_<e)p=y+1;else if(_>e)m=y-1;else return o[y]}f=Math.max(0,m);const v=e-n[f],S=v*v;return o[f]+a[f]*v+l[f]*S+u[f]*v*S}constructor(e,n){const{length:o}=e,a=[];for(let _=0;_<o;_++)a.push(_);a.sort((_,k)=>e[_]<e[k]?-1:1);const l=[],u=[];let f,p;for(let _=0;_<o-1;_++)f=e[_+1]-e[_],p=n[_+1]-n[_],l.push(f),u.push(p/f);const m=[u[0]];for(let _=0;_<l.length-1;_++){const k=u[_],b=u[_+1];if(k*b<=0)m.push(0);else{f=l[_];const C=l[_+1],T=f+C;m.push(3*T/((T+C)/k+(T+f)/b))}}m.push(u[u.length-1]);const y=[],v=[];let S;for(let _=0;_<m.length-1;_++){S=u[_];const k=m[_],b=1/l[_],C=k+m[_+1]-S-S;y.push((S-k-C)*b),v.push(C*b*b)}this.xs=e,this.ys=n,this.c1s=m,this.c2s=y,this.c3s=v}}const XN=1;function hw(t){const e=t.nodeType===XN?t:t.parentElement;if(!e)return null;const{top:n,left:o}=e.getBoundingClientRect();return{x:o,y:n}}function yl(t){return{x:t.clientX,y:t.clientY}}function QN(t){var e;return t.nodeName==="IMG"&&(YN()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function ZN(t,e,n,o){let a=t?e.width:n,l=t?e.height:o;return fw()&&t&&(l/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:l}}function eO(t,e,n,o,a){const l=QN(e),f=hw(l?t:e),p={x:n.x-f.x,y:n.y-f.y},{offsetWidth:m,offsetHeight:y}=t,{anchorX:v,anchorY:S}=o,{dragPreviewWidth:_,dragPreviewHeight:k}=ZN(l,e,m,y),b=()=>{let H=new Am([0,.5,1],[p.y,p.y/y*k,p.y+k-y]).interpolate(S);return fw()&&l&&(H+=(window.devicePixelRatio-1)*k),H},C=()=>new Am([0,.5,1],[p.x,p.x/m*_,p.x+_-m]).interpolate(v),{offsetX:T,offsetY:j}=a,R=T===0||T,A=j===0||j;return{x:R?T:C(),y:A?j:b()}}class tO{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function rO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){rO(t,a,n[a])})}return t}class nO{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,o){return this.sourcePreviewNodeOptions.set(e,o),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,o){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,o);const a=u=>this.handleDragStart(u,e),l=u=>this.handleSelectStart(u);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",l),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const o=u=>this.handleDragEnter(u,e),a=u=>this.handleDragOver(u,e),l=u=>this.handleDrop(u,e);return n.addEventListener("dragenter",o),n.addEventListener("dragover",a),n.addEventListener("drop",l),()=>{n.removeEventListener("dragenter",o),n.removeEventListener("dragover",a),n.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return Dm({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return Dm({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Im).some(n=>Im[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=JN(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var o;return(o=this.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,o){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const l=this.sourceNodes.get(a);return l&&hw(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const u=yl(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:f}=a,p=dd(f);if(this.monitor.isDragging()){if(f&&typeof f.setDragImage=="function"){const y=this.monitor.getSourceId(),v=this.sourceNodes.get(y),S=this.sourcePreviewNodes.get(y)||v;if(S){const{anchorX:_,anchorY:k,offsetX:b,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),R=eO(v,S,u,{anchorX:_,anchorY:k},{offsetX:b,offsetY:C});f.setDragImage(S,R.x,R.y)}}try{f==null||f.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(p)this.beginDragNativeItem(p);else{if(f&&!f.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:f}=a,p=dd(f);p&&this.beginDragNativeItem(p,f)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,l.length>0&&this.actions.hover(l,{clientOffset:yl(a)}),l.some(f=>this.monitor.canDropOnTarget(f))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=yl(a),this.scheduleHover(l),(l||[]).some(f=>this.monitor.canDropOnTarget(f))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;a.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}else dd(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:yl(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const l=a.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(a.preventDefault(),l.dragDrop()))},this.options=new tO(n,o),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new KN(this.isNodeInDocument)}}const sO=function(e,n,o){return new nO(e,n,o)};var Tf="Dialog",[pw]=Hs(Tf),[oO,Zr]=pw(Tf),gw=t=>{const{__scopeDialog:e,children:n,open:o,defaultOpen:a,onOpenChange:l,modal:u=!0}=t,f=x.useRef(null),p=x.useRef(null),[m=!1,y]=Lo({prop:o,defaultProp:a,onChange:l});return d.jsx(oO,{scope:e,triggerRef:f,contentRef:p,contentId:fs(),titleId:fs(),descriptionId:fs(),open:m,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(v=>!v),[y]),modal:u,children:n})};gw.displayName=Tf;var mw="DialogTrigger",vw=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Zr(mw,n),l=xt(e,a.triggerRef);return d.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Of(a.open),...o,ref:l,onClick:Fe(t.onClick,a.onOpenToggle)})});vw.displayName=mw;var jf="DialogPortal",[iO,yw]=pw(jf,{forceMount:void 0}),ww=t=>{const{__scopeDialog:e,forceMount:n,children:o,container:a}=t,l=Zr(jf,e);return d.jsx(iO,{scope:e,forceMount:n,children:x.Children.map(o,u=>d.jsx(Uo,{present:n||l.open,children:d.jsx(mf,{asChild:!0,container:a,children:u})}))})};ww.displayName=jf;var Al="DialogOverlay",xw=x.forwardRef((t,e)=>{const n=yw(Al,t.__scopeDialog),{forceMount:o=n.forceMount,...a}=t,l=Zr(Al,t.__scopeDialog);return l.modal?d.jsx(Uo,{present:o||l.open,children:d.jsx(aO,{...a,ref:e})}):null});xw.displayName=Al;var aO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Zr(Al,n);return d.jsx(vf,{as:ps,allowPinchZoom:!0,shards:[a.contentRef],children:d.jsx(Ue.div,{"data-state":Of(a.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),Vs="DialogContent",bw=x.forwardRef((t,e)=>{const n=yw(Vs,t.__scopeDialog),{forceMount:o=n.forceMount,...a}=t,l=Zr(Vs,t.__scopeDialog);return d.jsx(Uo,{present:o||l.open,children:l.modal?d.jsx(lO,{...a,ref:e}):d.jsx(cO,{...a,ref:e})})});bw.displayName=Vs;var lO=x.forwardRef((t,e)=>{const n=Zr(Vs,t.__scopeDialog),o=x.useRef(null),a=xt(e,n.contentRef,o);return x.useEffect(()=>{const l=o.current;if(l)return uy(l)},[]),d.jsx(Sw,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Fe(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Fe(t.onFocusOutside,l=>l.preventDefault())})}),cO=x.forwardRef((t,e)=>{const n=Zr(Vs,t.__scopeDialog),o=x.useRef(!1),a=x.useRef(!1);return d.jsx(Sw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(o.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:l=>{var p,m;(p=t.onInteractOutside)==null||p.call(t,l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),Sw=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=t,f=Zr(Vs,n),p=x.useRef(null),m=xt(e,p);return Lv(),d.jsxs(d.Fragment,{children:[d.jsx(af,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l,children:d.jsx(of,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Of(f.open),...u,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(uO,{titleId:f.titleId}),d.jsx(fO,{contentRef:p,descriptionId:f.descriptionId})]})]})}),Nf="DialogTitle",_w=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Zr(Nf,n);return d.jsx(Ue.h2,{id:a.titleId,...o,ref:e})});_w.displayName=Nf;var Ew="DialogDescription",kw=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Zr(Ew,n);return d.jsx(Ue.p,{id:a.descriptionId,...o,ref:e})});kw.displayName=Ew;var Cw="DialogClose",Tw=x.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,a=Zr(Cw,n);return d.jsx(Ue.button,{type:"button",...o,ref:e,onClick:Fe(t.onClick,()=>a.onOpenChange(!1))})});Tw.displayName=Cw;function Of(t){return t?"open":"closed"}var jw="DialogTitleWarning",[BO,Nw]=nE(jw,{contentName:Vs,titleName:Nf,docsSlug:"dialog"}),uO=({titleId:t})=>{const e=Nw(jw),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dO="DialogDescriptionWarning",fO=({contentRef:t,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nw(dO).contentName}}.`;return x.useEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(o))},[o,t,e]),null},hO=gw,pO=vw,gO=ww,mO=xw,vO=bw,yO=_w,wO=kw,xO=Tw;function Ow({...t}){return d.jsx(hO,{"data-slot":"dialog",...t})}function bO({...t}){return d.jsx(pO,{"data-slot":"dialog-trigger",...t})}function SO({...t}){return d.jsx(gO,{"data-slot":"dialog-portal",...t})}function _O({className:t,...e}){return d.jsx(mO,{"data-slot":"dialog-overlay",className:ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Rw({className:t,children:e,...n}){return d.jsxs(SO,{"data-slot":"dialog-portal",children:[d.jsx(_O,{}),d.jsxs(vO,{"data-slot":"dialog-content",className:ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,d.jsxs(xO,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(Jy,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Pw({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:ze("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Iw({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-footer",className:ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Aw({className:t,...e}){return d.jsx(yO,{"data-slot":"dialog-title",className:ze("text-lg leading-none font-semibold",t),...e})}function Dw({className:t,...e}){return d.jsx(wO,{"data-slot":"dialog-description",className:ze("text-muted-foreground text-sm",t),...e})}function EO({accessToken:t}){const[e,n]=x.useState([]),[o,a]=x.useState(!0),[l,u]=x.useState(!1),[f,p]=x.useState(!1),[m,y]=x.useState(""),[v,S]=x.useState(""),[_,k]=x.useState(new Date().toISOString().split("T")[0]),b=x.useRef(null),[C,T]=x.useState(!1),[j,R]=x.useState([]),[A,$]=x.useState(!1);x.useEffect(()=>{H()},[]);const H=async()=>{try{const O={};t&&(O.Authorization=`Bearer ${t}`);const U=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{headers:O});if(U.ok){const z=await U.json();n(z.cadets||[])}}catch(O){console.error("Error fetching cadets:",O),Oe.error("Failed to fetch cadets")}finally{a(!1)}},V=O=>O.split(/\r?\n/).map(z=>z.trim()).filter(Boolean).map(z=>{const E=z.split(",").map(D=>D.trim());return{name:E[0]||"",flight:E[1]||"Unassigned",joinDate:E[2]?new Date(E[2]).toISOString():new Date().toISOString()}}).filter(z=>z.name.length>0),B=async O=>{var D;const U=(D=O.target.files)==null?void 0:D[0];if(!U)return;const z=await U.text(),E=V(z);if(E.length===0){Oe.error("No valid rows found in CSV");return}R(E),T(!0)},ne=async O=>{const U=j;$(!0);try{const z={"Content-Type":"application/json"};t&&(z.Authorization=`Bearer ${t}`);const D=(await Promise.all(U.map(async K=>{try{const te=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{method:"POST",headers:z,body:JSON.stringify({name:K.name,flight:K.flight,joinDate:K.joinDate})});if(!te.ok){const we=await te.json().catch(()=>({error:"unknown"}));return{ok:!1,name:K.name,reason:we.error||te.statusText}}return{ok:!0,name:K.name}}catch(te){return{ok:!1,name:K.name,reason:String(te)}}}))).filter(K=>!K.ok);D.length>0?Oe.error(`Imported with ${D.length} failures`):Oe.success(`Imported ${U.length} cadets`),T(!1),H()}catch(z){console.error("CSV import failed",z),Oe.error("Failed to import CSV")}finally{$(!1)}},le=async(O,U)=>{try{const z={"Content-Type":"application/json"};t&&(z.Authorization=`Bearer ${t}`);const E=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/cadets/${O}`,{method:"PUT",headers:z,body:JSON.stringify({flight:U})});if(E.ok)n(D=>D.map(K=>K.id===O?{...K,flight:U}:K)),Oe.success("Cadet moved");else{const D=await E.json();Oe.error(D.error||"Failed to move cadet")}}catch(z){console.error("Error moving cadet:",z),Oe.error("Failed to move cadet")}},de={CADET:"cadet"};function me({cadet:O}){const[,U]=LN(()=>({type:de.CADET,item:{id:O.id,flight:O.flight}}));return d.jsxs("div",{ref:U,className:"p-3 mb-2 bg-white rounded border flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:O.name}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",new Date(O.joinDate).toLocaleDateString()]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(We,{variant:"ghost",size:"sm",onClick:()=>G(O.id,O.name),children:d.jsx(xf,{className:"size-4 text-red-600"})})})]})}function ce({flight:O,items:U}){const[,z]=HN(()=>({accept:de.CADET,drop:E=>{E.id&&E.flight!==O&&le(E.id,O)}}));return d.jsxs("div",{ref:z,className:"bg-blue-50 rounded p-3 min-h-[200px]",children:[d.jsxs("h4",{className:"font-semibold mb-2",children:[O," (",U.length,")"]}),d.jsx("div",{children:U.sort((E,D)=>E.name.localeCompare(D.name)).map(E=>d.jsx(me,{cadet:E},E.id))})]})}const fe=async O=>{O.preventDefault(),p(!0);try{const U={"Content-Type":"application/json"};t&&(U.Authorization=`Bearer ${t}`);const z=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{method:"POST",headers:U,body:JSON.stringify({name:m,flight:v,joinDate:new Date(_).toISOString()})});if(z.ok)Oe.success("Cadet added successfully!"),y(""),S(""),k(new Date().toISOString().split("T")[0]),u(!1),H();else{const E=await z.json();Oe.error(E.error||"Failed to add cadet")}}catch(U){console.error("Error adding cadet:",U),Oe.error("Failed to add cadet")}finally{p(!1)}},G=async(O,U)=>{if(confirm(`Are you sure you want to remove ${U} from the system?`))try{const z={};t&&(z.Authorization=`Bearer ${t}`);const E=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/cadets/${O}`,{method:"DELETE",headers:z});if(E.ok)Oe.success("Cadet removed"),H();else{const D=await E.json();Oe.error(D.error||"Failed to remove cadet")}}catch(z){console.error("Error deleting cadet:",z),Oe.error("Failed to remove cadet")}},W=e.reduce((O,U)=>(O[U.flight]||(O[U.flight]=[]),O[U.flight].push(U),O),{}),Y=Object.keys(W).sort();return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(rt,{children:[d.jsx(nt,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(st,{children:"Manage Cadets"}),d.jsx(rr,{children:"Add and remove cadets from the system"})]}),d.jsxs(Ow,{open:l,onOpenChange:u,children:[d.jsx(bO,{asChild:!0,children:d.jsxs(We,{children:[d.jsx(wf,{className:"size-4 mr-2"}),"Add Cadet"]})}),d.jsx(Rw,{children:d.jsxs("form",{onSubmit:fe,children:[d.jsxs(Pw,{children:[d.jsx(Aw,{children:"Add New Cadet"}),d.jsx(Dw,{children:"Enter the cadet's information below"})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"cadet-name",children:"Full Name"}),d.jsx(hr,{id:"cadet-name",placeholder:"John Smith",value:m,onChange:O=>y(O.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"cadet-flight",children:"Flight"}),d.jsx(hr,{id:"cadet-flight",placeholder:"e.g., Alpha, Bravo, Charlie",value:v,onChange:O=>S(O.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"cadet-join-date",children:"Join Date"}),d.jsx(hr,{id:"cadet-join-date",type:"date",value:_,onChange:O=>k(O.target.value),required:!0})]})]}),d.jsxs(Iw,{children:[d.jsx(We,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),d.jsxs(We,{type:"submit",disabled:f,children:[d.jsx(vm,{className:"size-4 mr-2"}),f?"Adding...":"Add Cadet"]})]})]})})]}),d.jsx("input",{ref:b,type:"file",accept:".csv",className:"hidden",onChange:B}),d.jsx("div",{className:"ml-3",children:d.jsx(We,{variant:"outline",onClick:()=>{var O;return(O=b.current)==null?void 0:O.click()},children:"Import CSV"})})]})}),d.jsx(ot,{children:o?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading cadets..."}):e.length===0?d.jsxs("div",{className:"text-center py-12 text-gray-500",children:[d.jsx(vm,{className:"size-12 mx-auto mb-4 text-gray-400"}),d.jsx("p",{children:"No cadets added yet"}),d.jsx("p",{className:"text-sm",children:'Click "Add Cadet" to get started'})]}):d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"flex-1 overflow-x-auto",children:d.jsx(dN,{backend:sO,children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Y.map(O=>d.jsx("div",{children:d.jsx(ce,{flight:O,items:W[O]||[]})},O))})})}),d.jsxs("div",{className:"w-80",children:[d.jsx("h4",{className:"text-sm font-semibold mb-2",children:"CSV Import Preview"}),d.jsxs("div",{className:"border rounded p-3",children:[d.jsx("p",{className:"text-xs text-gray-600",children:"Use the 'Import CSV' button to preview rows before importing."}),j.length>0?d.jsxs("div",{className:"mt-2 max-h-48 overflow-y-auto text-sm",children:[j.map((O,U)=>d.jsxs("div",{className:"py-1 border-b last:border-b-0",children:[O.name,"  ",O.flight,"  ",new Date(O.joinDate).toLocaleDateString()]},U)),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsx(We,{size:"sm",onClick:()=>ne(),children:"Confirm Import"}),d.jsx(We,{size:"sm",variant:"outline",onClick:()=>{R([]),T(!1)},children:"Cancel"})]})]}):d.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"No preview loaded"})]})]})]})})]}),d.jsxs(rt,{className:"bg-blue-50 border-blue-200",children:[d.jsx(nt,{children:d.jsx(st,{className:"text-blue-900",children:"Summary"})}),d.jsx(ot,{children:d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:e.length}),d.jsx("p",{className:"text-sm text-blue-700",children:"Total Cadets"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:Y.length}),d.jsx("p",{className:"text-sm text-blue-700",children:"Flights"})]})]})})]})]})}var Rf="Checkbox",[kO]=Hs(Rf),[CO,TO]=kO(Rf),Lw=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:o,checked:a,defaultChecked:l,required:u,disabled:f,value:p="on",onCheckedChange:m,form:y,...v}=t,[S,_]=x.useState(null),k=xt(e,A=>_(A)),b=x.useRef(!1),C=S?y||!!S.closest("form"):!0,[T=!1,j]=Lo({prop:a,defaultProp:l,onChange:m}),R=x.useRef(T);return x.useEffect(()=>{const A=S==null?void 0:S.form;if(A){const $=()=>j(R.current);return A.addEventListener("reset",$),()=>A.removeEventListener("reset",$)}},[S,j]),d.jsxs(CO,{scope:n,state:T,disabled:f,children:[d.jsx(Ue.button,{type:"button",role:"checkbox","aria-checked":hs(T)?"mixed":T,"aria-required":u,"data-state":Fw(T),"data-disabled":f?"":void 0,disabled:f,value:p,...v,ref:k,onKeyDown:Fe(t.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:Fe(t.onClick,A=>{j($=>hs($)?!0:!$),C&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),C&&d.jsx(jO,{control:S,bubbles:!b.current,name:o,value:p,checked:T,required:u,disabled:f,form:y,style:{transform:"translateX(-100%)"},defaultChecked:hs(l)?!1:l})]})});Lw.displayName=Rf;var Mw="CheckboxIndicator",$w=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:o,...a}=t,l=TO(Mw,n);return d.jsx(Uo,{present:o||hs(l.state)||l.state===!0,children:d.jsx(Ue.span,{"data-state":Fw(l.state),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});$w.displayName=Mw;var jO=t=>{const{control:e,checked:n,bubbles:o=!0,defaultChecked:a,...l}=t,u=x.useRef(null),f=ay(n),p=Yv(e);x.useEffect(()=>{const y=u.current,v=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(v,"checked").set;if(f!==n&&_){const k=new Event("click",{bubbles:o});y.indeterminate=hs(n),_.call(y,hs(n)?!1:n),y.dispatchEvent(k)}},[f,n,o]);const m=x.useRef(hs(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,...l,tabIndex:-1,ref:u,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hs(t){return t==="indeterminate"}function Fw(t){return hs(t)?"indeterminate":t?"checked":"unchecked"}var NO=Lw,OO=$w;function RO({className:t,...e}){return d.jsx(NO,{"data-slot":"checkbox",className:ze("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(OO,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:d.jsx(Wy,{className:"size-3.5"})})})}function PO({accessToken:t,userRole:e}){const[n,o]=x.useState([]),[a,l]=x.useState([]),[u,f]=x.useState(!0),[p,m]=x.useState(!1),[y,v]=x.useState({}),[S,_]=x.useState(new Set),[k,b]=x.useState(!1),[C,T]=x.useState(!1),[j,R]=x.useState("all"),[A,$]=x.useState("present"),[H,V]=x.useState([]),[B,ne]=x.useState([]);x.useRef(null);const[le,de]=x.useState(null),[me,ce]=x.useState(""),[fe,G]=x.useState(!1),[W,Y]=x.useState(null),[O,U]=x.useState([]),z=x.useRef(null),[E,D]=x.useState(!1),[K,te]=x.useState([]),[we,se]=x.useState(new Date().toISOString().split("T")[0]),[X,oe]=x.useState(""),[_e,Ee]=x.useState(""),[Pe,Ae]=x.useState("present"),ht=()=>{if(k){_(new Set),b(!1);return}const q=a.filter(ae=>j==="all"||ae.flight===j).map(ae=>ae.id);_(new Set(q)),b(!0)},Nt=q=>{var be;const ae=(be=q.target.files)==null?void 0:be[0];if(!ae)return;const ke=URL.createObjectURL(ae);de(ke),ce(""),U([]),Y(null)},Er=async()=>{var q;if(!le){Y("Please select an image first");return}G(!0),Y(null),ce(""),U([]),te([]);try{const ae="tesseract.js";let ke;try{const Me=await import(ae);ke=Me.createWorker||((q=Me.default)==null?void 0:q.createWorker)||Me}catch(Me){console.warn("tesseract import failed, falling back to tick-detection",Me),await Mr();return}const be=ke({logger:Me=>{}});await be.load(),await be.loadLanguage("eng"),await be.initialize("eng");const{data:{text:Ye}}=await be.recognize(le);await be.terminate(),ce(Ye||"");const Be=Ye.split(/\r?\n/).map(Me=>Me.trim()).filter(Boolean),ut=[],pr=a.map(Me=>({...Me,_name:Me.name.toLowerCase()}));for(const Me of Be){const Ke=Me.toLowerCase(),kr=pr.find(Gt=>Gt._name.includes(Ke)||Ke.includes(Gt._name)||Gt._name.split(" ")[0]===Ke.split(" ")[0]);ut.push({line:Me,cadet:kr})}U(ut);try{await Mr()}catch(Me){console.warn("tick detection after ocr failed",Me)}}catch(ae){console.error("OCR failed",ae);try{await Mr()}catch(ke){console.error("Tick-detection fallback also failed",ke);const be=(ke==null?void 0:ke.message)||String(ke)||"OCR failed. Try a clearer photo or use manual entry.";Y(be.includes("flight")||be.includes("cadets")?be:"OCR failed. Try a clearer photo or use manual entry.")}}finally{G(!1)}},[Ut,Bt]=x.useState(.02),Mr=async()=>{if(!le)throw new Error("No image");if(!a||a.length===0)throw new Error("No cadets loaded to match rows");const q=j==="all"?a:a.filter(ve=>ve.flight===j);if(q.length===0)throw new Error("No cadets for selected flight  choose a flight first");D(!0),te([]);const ae=await new Promise((ve,gt)=>{const dt=new Image;dt.crossOrigin="anonymous",dt.onload=()=>ve(dt),dt.onerror=rn=>gt(new Error("Image load failed")),dt.src=le}),be=Math.min(1,1200/ae.naturalWidth),Ye=Math.max(1,Math.floor(ae.naturalWidth*be)),Be=Math.max(1,Math.floor(ae.naturalHeight*be)),ut=document.createElement("canvas"),pr=ut.getContext("2d");if(!pr)throw new Error("Canvas not available");ut.width=Ye,ut.height=Be,pr.drawImage(ae,0,0,Ye,Be);const Me=ut.width,Ke=ut.height,kr=pr.getImageData(0,0,Me,Ke),Gt=new Float32Array(Me*Ke),sr=[];for(let ve=0;ve<kr.data.length;ve+=4){const gt=kr.data[ve],dt=kr.data[ve+1],rn=kr.data[ve+2],Fr=.299*gt+.587*dt+.114*rn;Gt[ve/4]=Fr,sr.push(Fr)}sr.sort((ve,gt)=>ve-gt);const ws=sr[Math.floor(sr.length/2)]||128,Ie=Math.max(40,Math.min(220,ws*.9)),Xe=new Uint8ClampedArray(Me*Ke);for(let ve=0;ve<Gt.length;ve++)Xe[ve]=Gt[ve]<Ie?1:0;const kt=Math.floor(Me*.6),Ct=new Array(Ke).fill(0);for(let ve=0;ve<Ke;ve++){let gt=0;for(let dt=0;dt<kt;dt++)Xe[ve*Me+dt]&&gt++;Ct[ve]=gt}const tn=Ct.reduce((ve,gt)=>ve+gt,0)/Ct.length,bt=Ct.map(ve=>ve>Math.max(2,tn*.12)),Je=[];let or=!1,Tt=0;for(let ve=0;ve<Ke;ve++)bt[ve]?or||(or=!0,Tt=ve):or&&(or=!1,Je.push({y0:Tt,y1:ve-1}));or&&Je.push({y0:Tt,y1:Ke-1});const Rt=Je.map(ve=>Math.floor((ve.y0+ve.y1)/2));if(Rt.length<Math.max(3,q.length/2)){const ve=Je.length?Je[0].y0:0,gt=Je.length?Je[Je.length-1].y1:Ke-1,dt=q.length,rn=Math.max(8,Math.floor((gt-ve+1)/dt));Rt.length=0;for(let Fr=0;Fr<dt;Fr++)Rt.push(ve+Fr*rn+Math.floor(rn/2))}const Cr=Math.max(0,Math.floor(Me*.55)),Zt=Me-1,En=new Array(Me).fill(0);for(let ve=Cr;ve<=Zt;ve++){let gt=0;for(let dt=0;dt<Ke;dt++)gt+=Xe[dt*Me+ve];En[ve]=gt}let xs=Cr,Qi=-1;for(let ve=Cr;ve<=Zt;ve++)En[ve]>Qi&&(Qi=En[ve],xs=ve);const qo=Math.max(0,xs-Math.floor(Me*.06)),Zl=Math.min(Me,xs+Math.floor(Me*.06)),kn=Math.max(6,Zl-qo+1),Un=[];for(let ve=0;ve<Rt.length&&ve<q.length;ve++){const gt=Rt[ve],dt=Math.max(6,Math.floor(Ke/Rt.length*.6)),rn=Math.max(0,gt-Math.floor(dt/2)),Fr=Math.min(Ke-1,gt+Math.floor(dt/2));let Ko=0,Go=0;for(let Gs=rn;Gs<=Fr;Gs++)for(let Bn=qo;Bn<qo+kn;Bn++)Xe[Gs*Me+Bn]&&Ko++,Go++;const Zi=Go>0?Ko/Go:0,mt=Zi>Ut,ec=Math.min(1,Math.max(0,(Zi-Ut)/(.5-Ut))),Ks=q[ve];Un.push({cadetId:Ks.id,cadetName:Ks.name,present:mt,confidence:ec})}if(Un.length<q.length)for(let ve=Un.length;ve<q.length;ve++){const gt=q[ve];Un.push({cadetId:gt.id,cadetName:gt.name,present:!1,confidence:0})}te(Un),D(!1)},Ot=()=>{const q=new Set(S);v(ae=>{const ke={...ae};return O.forEach(be=>{be.cadet&&(ke[be.cadet.id]="present",q.add(be.cadet.id))}),ke}),_(q),Oe.success(`Applied ${O.filter(ae=>ae.cadet).length} OCR matches`)},bn=q=>{v(ae=>{const ke={...ae};return a.forEach(be=>{(S.size===0||S.has(be.id))&&(ke[be.id]=q)}),ke})},en=async()=>{const q=a.filter(ae=>(S.size?S.has(ae.id):!0)&&(j==="all"||ae.flight===j));if(q.length===0){Oe.error("No cadets selected for bulk save");return}T(!0),V([]);try{const ae={"Content-Type":"application/json"};t&&(ae.Authorization=`Bearer ${t}`);const ke=q.map(Be=>({cadetName:Be.name,flight:Be.flight,date:new Date(we).toISOString(),status:y[Be.id]||"present"})),Ye=(await Promise.all(ke.map(async Be=>{try{const ut=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/attendance`,{method:"POST",headers:ae,body:JSON.stringify(Be)});if(!ut.ok){const pr=await ut.json().catch(()=>({error:"unknown"}));return{ok:!1,cadetName:Be.cadetName,reason:pr.error||ut.statusText||"Failed",entry:Be}}return{ok:!0,cadetName:Be.cadetName}}catch(ut){return{ok:!1,cadetName:Be.cadetName,reason:String(ut),entry:Be}}}))).filter(Be=>!Be.ok);Ye.length>0?(V(Ye.map(Be=>({cadetName:Be.cadetName,reason:Be.reason}))),ne(Ye.map(Be=>Be.entry)),Oe.error(`Saved ${ke.length-Ye.length} succeeded, ${Ye.length} failed`)):(ne([]),Oe.success(`Saved ${ke.length} attendance records`)),_(new Set),b(!1),pt()}catch(ae){console.error("Bulk save error:",ae),Oe.error("Failed to save attendance in bulk")}finally{T(!1)}};x.useEffect(()=>{pt(),$r()},[]);const pt=async()=>{try{const q={};t&&(q.Authorization=`Bearer ${t}`);const ae=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/attendance`,{headers:q});if(ae.ok){const ke=await ae.json();o(ke.attendance||[])}}catch(q){console.error("Error fetching attendance:",q),Oe.error("Failed to fetch attendance")}finally{f(!1)}},$r=async()=>{try{const q={};t&&(q.Authorization=`Bearer ${t}`);const ae=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{headers:q});if(ae.ok){const be=(await ae.json()).cadets||[];l(be),v(Ye=>{const Be={...Ye};return be.forEach(ut=>{Be[ut.id]||(Be[ut.id]="present")}),Be})}}catch(q){console.error("Error fetching cadets:",q)}},Ws=async q=>{q.preventDefault(),m(!0);try{const ae={"Content-Type":"application/json"};t&&(ae.Authorization=`Bearer ${t}`);const ke=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/attendance`,{method:"POST",headers:ae,body:JSON.stringify({cadetName:X,flight:_e,date:new Date(we).toISOString(),status:Pe})});if(ke.ok)Oe.success("Attendance recorded successfully!"),oe(""),Ee(""),Ae("present"),pt();else{const be=await ke.json();Oe.error(be.error||"Failed to record attendance")}}catch(ae){console.error("Error submitting attendance:",ae),Oe.error("Failed to record attendance")}finally{m(!1)}},qs=async q=>{if(confirm("Are you sure you want to delete this attendance record?"))try{const ae={};t&&(ae.Authorization=`Bearer ${t}`);const ke=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/attendance/${q}`,{method:"DELETE",headers:ae});if(ke.ok)Oe.success("Attendance record deleted"),pt();else{const be=await ke.json();Oe.error(be.error||"Failed to delete attendance")}}catch(ae){console.error("Error deleting attendance:",ae),Oe.error("Failed to delete attendance")}},Sn=e==="staff"||e==="snco",Fn=Array.from(new Set(a.map(q=>q.flight))).sort(),_n=q=>{switch(q){case"present":return"default";case"authorised_absence":return"secondary";case"absent":return"destructive";default:return"outline"}},zn=q=>{switch(q){case"present":return"Present Correctly Dressed";case"authorised_absence":return"Authorised Absence";case"absent":return"Absent";default:return q}};return d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsxs(st,{className:"flex items-center gap-2",children:[d.jsx($d,{className:"size-5"}),"Bulk Attendance"]}),d.jsx(rr,{children:"Quickly mark attendance for many cadets  select, set status, then 'Save All'"})]}),d.jsx(ot,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx(Ge,{children:"Date"}),d.jsx(hr,{type:"date",value:we,onChange:q=>se(q.target.value)}),d.jsx(Ge,{children:"Flight"}),d.jsxs(dn,{value:j,onValueChange:q=>R(q),children:[d.jsx(hn,{id:"bulk-flight",children:d.jsx(fn,{})}),d.jsxs(pn,{children:[d.jsx(Et,{value:"all",children:"All Flights"}),Fn.map(q=>d.jsx(Et,{value:q,children:q},q))]})]}),d.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[d.jsxs("button",{className:"btn-ghost text-sm",onClick:ht,type:"button",children:[d.jsx(RO,{checked:k,onCheckedChange:ht}),d.jsx("span",{className:"ml-2",children:"Select All"})]}),d.jsxs(dn,{value:A,onValueChange:q=>$(q),children:[d.jsx(hn,{id:"bulk-status",children:d.jsx(fn,{})}),d.jsxs(pn,{children:[d.jsx(Et,{value:"present",children:"Present"}),d.jsx(Et,{value:"authorised_absence",children:"Authorised Absence"}),d.jsx(Et,{value:"absent",children:"Absent"})]})]}),d.jsx(We,{variant:"outline",size:"sm",onClick:()=>bn(A),children:"Set Selected"}),d.jsx(We,{onClick:en,disabled:C,children:C?"Saving...":"Save All"})]})]}),d.jsxs("div",{className:"mt-4 border-t pt-4",children:[d.jsx(Ge,{children:"Photo Register (OCR)"}),d.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[d.jsx("input",{ref:z,type:"file",accept:"image/*",className:"hidden",onChange:Nt}),d.jsx(We,{variant:"outline",onClick:()=>{var q;return(q=z.current)==null?void 0:q.click()},children:"Choose Photo"}),d.jsx(We,{onClick:Er,disabled:fe||E||!le,children:fe||E?"Scanning...":"Run OCR"}),d.jsx(We,{variant:"ghost",onClick:()=>{de(null),ce(""),U([]),te([]),Y(null),D(!1)},children:"Clear"})]}),j==="all"&&d.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Tip: Select a flight in the filter before scanning for best results (maps rows to cadets automatically)."}),d.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Sensitivity"}),d.jsx("input",{type:"range",min:"0.005",max:"0.08",step:"0.005",value:Ut,onChange:q=>Bt(Number(q.target.value))}),d.jsxs("div",{className:"text-xs text-gray-500",children:[(Ut*100).toFixed(1),"%"]})]}),le&&d.jsx("div",{className:"mt-3",children:d.jsx("img",{src:le,className:"max-h-48 object-contain rounded border",alt:"OCR upload preview"})}),W&&d.jsx("div",{className:"text-sm text-red-600 mt-2",children:W}),me&&d.jsxs("div",{className:"mt-3 space-y-2",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"Parsed lines (click to accept match):"}),d.jsx("div",{className:"grid gap-2",children:O.map((q,ae)=>d.jsxs("div",{className:"p-2 border rounded flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium",children:q.line}),d.jsx("div",{className:"text-xs text-gray-500",children:q.cadet?`Matched: ${q.cadet.name}`:"No match"})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(We,{size:"sm",variant:"outline",onClick:()=>{q.cadet?(v(ke=>({...ke,[q.cadet.id]:"present"})),_(ke=>new Set(ke).add(q.cadet.id)),Oe.success(`Accepted ${q.cadet.name}`)):Oe.error("No matched cadet for this line")},children:"Accept"})})]},ae))}),d.jsx("div",{className:"mt-3",children:d.jsx(We,{onClick:Ot,disabled:O.filter(q=>q.cadet).length===0,children:"Apply Matches to Bulk"})})]}),K.length>0&&d.jsxs("div",{className:"mt-3 space-y-2",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"Detected ticks (preview):"}),d.jsx("div",{className:"grid gap-2",children:K.map((q,ae)=>d.jsxs("div",{className:"p-2 border rounded flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium",children:q.cadetName}),d.jsxs("div",{className:"text-xs text-gray-500",children:[q.present?"Detected: Present":"Detected: Not present","  Confidence: ",(q.confidence*100).toFixed(0),"%"]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(We,{size:"sm",variant:q.present?"default":"outline",onClick:()=>{te(ke=>ke.map((be,Ye)=>Ye===ae?{...be,present:!be.present}:be))},children:q.present?"Present":"Mark Present"})})]},ae))}),d.jsxs("div",{className:"mt-3 flex gap-2",children:[d.jsx(We,{onClick:()=>{const q=new Set(S);v(ae=>{const ke={...ae};return K.forEach(be=>{be.cadetId&&(ke[be.cadetId]=be.present?"present":"absent",be.present?q.add(be.cadetId):q.delete(be.cadetId))}),ke}),_(q),Oe.success(`Applied ${K.filter(ae=>ae.present).length} detected presents`)},children:"Apply Detections to Bulk"}),d.jsx(We,{variant:"outline",onClick:()=>te([]),children:"Clear Detections"})]})]}),H.length>0&&d.jsxs("div",{className:"mt-3 text-sm text-red-600",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:["Failed to save ",H.length," records:"]}),d.jsx("div",{children:d.jsx(We,{size:"sm",variant:"outline",onClick:async()=>{if(B.length!==0){T(!0);try{const q={"Content-Type":"application/json"};t&&(q.Authorization=`Bearer ${t}`);const ke=(await Promise.all(B.map(async be=>{try{const Ye=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/attendance`,{method:"POST",headers:q,body:JSON.stringify(be)});if(!Ye.ok){const Be=await Ye.json().catch(()=>({error:"unknown"}));return{ok:!1,name:be.cadetName,reason:Be.error||Ye.statusText}}return{ok:!0,name:be.cadetName}}catch(Ye){return{ok:!1,name:be.cadetName,reason:String(Ye)}}}))).filter(be=>!be.ok);ke.length>0?(V(ke.map(be=>({cadetName:be.name,reason:be.reason}))),ne(ke.map(be=>be.entry)),Oe.error(`Retry completed: ${ke.length} failures remain`)):(V([]),ne([]),Oe.success("All failed entries retried successfully")),pt()}catch(q){console.error("Retry failed",q),Oe.error("Retry failed")}finally{T(!1)}}},children:"Retry Failed"})})]}),d.jsx("ul",{className:"list-disc pl-5 mt-1",children:H.map((q,ae)=>d.jsxs("li",{children:[q.cadetName,": ",q.reason||"Unknown"]},ae))})]})]})]})})]}),d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsxs(st,{className:"flex items-center gap-2",children:[d.jsx(Hy,{className:"size-5"}),"Record Attendance"]}),d.jsx(rr,{children:"Mark cadet attendance for a specific date"})]}),d.jsx(ot,{children:d.jsxs("form",{onSubmit:Ws,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"attendance-date",children:"Date"}),d.jsx(hr,{id:"attendance-date",type:"date",value:we,onChange:q=>se(q.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"attendance-cadet",children:"Cadet Name"}),d.jsxs(dn,{value:X,onValueChange:q=>{oe(q);const ae=a.find(ke=>ke.name===q);ae&&Ee(ae.flight)},children:[d.jsx(hn,{id:"attendance-cadet",children:d.jsx(fn,{placeholder:"Select a cadet"})}),d.jsx(pn,{children:a.map(q=>d.jsxs(Et,{value:q.name,children:[q.name," (",q.flight,")"]},q.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"attendance-flight",children:"Flight"}),d.jsxs(dn,{value:_e,onValueChange:Ee,children:[d.jsx(hn,{id:"attendance-flight",children:d.jsx(fn,{placeholder:"Select flight"})}),d.jsx(pn,{children:Fn.map(q=>d.jsx(Et,{value:q,children:q},q))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"attendance-status",children:"Status"}),d.jsxs(dn,{value:Pe,onValueChange:q=>Ae(q),children:[d.jsx(hn,{id:"attendance-status",children:d.jsx(fn,{})}),d.jsxs(pn,{children:[d.jsx(Et,{value:"present",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($d,{className:"size-4 text-green-600"}),"Present Correctly Dressed"]})}),d.jsx(Et,{value:"authorised_absence",children:"Authorised Absence"}),d.jsx(Et,{value:"absent",children:"Absent"})]})]})]}),d.jsxs(We,{type:"submit",className:"w-full",disabled:p,children:[d.jsx(wf,{className:"size-4 mr-2"}),p?"Recording...":"Record Attendance"]})]})})]}),d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsx(st,{children:"Recent Attendance"}),d.jsx(rr,{children:"Last 15 attendance records"})]}),d.jsx(ot,{children:u?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):n.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No attendance recorded yet"}):d.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:n.slice(0,15).map(q=>d.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("p",{className:"font-medium",children:q.cadetName}),d.jsx(Kt,{variant:"outline",className:"text-xs",children:q.flight})]}),d.jsx("p",{className:"text-sm text-gray-600",children:new Date(q.date).toLocaleDateString()}),d.jsx(Kt,{variant:_n(q.status),className:"mt-1",children:zn(q.status)})]}),Sn&&d.jsx(We,{variant:"ghost",size:"sm",onClick:()=>qs(q.id),children:d.jsx(xf,{className:"size-4 text-red-600"})})]})},q.id))})})]})]})}function IO({accessToken:t}){const[e,n]=x.useState([]),[o,a]=x.useState(!0),[l,u]=x.useState({totalChecks:0,passed:0,warnings:0,failed:0});x.useEffect(()=>{f();const y=setInterval(f,3e4);return()=>clearInterval(y)},[]);const f=async()=>{try{const y={};t&&(y.Authorization=`Bearer ${t}`);const v=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/integrity-check`,{headers:y});if(v.ok){const S=await v.json();n(S.checks||[]),u(S.summary||{totalChecks:0,passed:0,warnings:0,failed:0})}}catch(y){console.error("Error performing integrity checks:",y),Oe.error("Failed to perform integrity checks")}finally{a(!1)}},p=y=>{switch(y){case"pass":return d.jsx(Ai,{className:"size-5 text-green-600"});case"warning":return d.jsx(gm,{className:"size-5 text-yellow-600"});case"fail":return d.jsx(Di,{className:"size-5 text-red-600"});default:return null}},m=y=>{switch(y){case"pass":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"fail":return"bg-red-50 border-red-200";default:return"bg-gray-50"}};return o?d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-600",children:"Running integrity checks..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[d.jsxs(rt,{className:"bg-gradient-to-br from-blue-50 to-white border-blue-200",children:[d.jsx(nt,{className:"pb-3",children:d.jsxs(st,{className:"text-sm flex items-center gap-2",children:[d.jsx(Ky,{className:"size-4 text-blue-600"}),"Total Checks"]})}),d.jsx(ot,{children:d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:l.totalChecks})})]}),d.jsxs(rt,{className:"bg-gradient-to-br from-green-50 to-white border-green-200",children:[d.jsx(nt,{className:"pb-3",children:d.jsxs(st,{className:"text-sm flex items-center gap-2",children:[d.jsx(Ai,{className:"size-4 text-green-600"}),"Passed"]})}),d.jsx(ot,{children:d.jsx("p",{className:"text-3xl font-bold text-green-900",children:l.passed})})]}),d.jsxs(rt,{className:"bg-gradient-to-br from-yellow-50 to-white border-yellow-200",children:[d.jsx(nt,{className:"pb-3",children:d.jsxs(st,{className:"text-sm flex items-center gap-2",children:[d.jsx(gm,{className:"size-4 text-yellow-600"}),"Warnings"]})}),d.jsx(ot,{children:d.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:l.warnings})})]}),d.jsxs(rt,{className:"bg-gradient-to-br from-red-50 to-white border-red-200",children:[d.jsx(nt,{className:"pb-3",children:d.jsxs(st,{className:"text-sm flex items-center gap-2",children:[d.jsx(Di,{className:"size-4 text-red-600"}),"Failed"]})}),d.jsx(ot,{children:d.jsx("p",{className:"text-3xl font-bold text-red-900",children:l.failed})})]})]}),l.failed===0&&l.warnings===0&&l.passed>0&&d.jsxs(Pl,{className:"bg-green-50 border-green-200",children:[d.jsx(Ai,{className:"size-4 text-green-600"}),d.jsx(bm,{className:"text-green-900",children:"All Systems Operational"}),d.jsx(Il,{className:"text-green-700",children:"All data integrity checks passed successfully. Your system is healthy."})]}),l.failed>0&&d.jsxs(Pl,{variant:"destructive",children:[d.jsx(Di,{className:"size-4"}),d.jsx(bm,{children:"Critical Issues Detected"}),d.jsxs(Il,{children:[l.failed," critical issue",l.failed>1?"s":""," found. Please review and address immediately."]})]}),d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsx(st,{children:"Detailed Integrity Checks"}),d.jsx(rr,{children:"Comprehensive validation of all system data"})]}),d.jsx(ot,{children:e.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No checks performed yet"}):d.jsx("div",{className:"space-y-3",children:e.map((y,v)=>d.jsx("div",{className:`p-4 border rounded-lg ${m(y.status)}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[p(y.status),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h4",{className:"font-medium",children:y.name}),d.jsx(Kt,{variant:y.status==="pass"?"default":y.status==="warning"?"secondary":"destructive",children:y.status.toUpperCase()})]}),d.jsx("p",{className:"text-sm text-gray-700",children:y.message}),y.details&&d.jsx("p",{className:"text-xs text-gray-600 mt-2 font-mono bg-white/50 p-2 rounded",children:y.details})]})]})},v))})})]})]})}function AO({accessToken:t,userRole:e}){const[n,o]=x.useState([]),[a,l]=x.useState([]),[u,f]=x.useState([]),[p,m]=x.useState(!0),[y,v]=x.useState(""),[S,_]=x.useState(""),[k,b]=x.useState("all"),[C,T]=x.useState("all"),[j,R]=x.useState(null),[A,$]=x.useState({points:"",reason:""});x.useEffect(()=>{H()},[]);const H=async()=>{m(!0);try{await Promise.all([V(),B(),ne()])}finally{m(!1)}},V=async()=>{try{const E={};t&&(E.Authorization=`Bearer ${t}`);const D=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/points`,{headers:E});if(D.ok){const K=await D.json();o(K.points||[])}}catch(E){console.error("Error fetching points:",E)}},B=async()=>{try{const E={};t&&(E.Authorization=`Bearer ${t}`);const D=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/attendance`,{headers:E});if(D.ok){const K=await D.json();l(K.attendance||[])}}catch(E){console.error("Error fetching attendance:",E)}},ne=async()=>{try{const E={};t&&(E.Authorization=`Bearer ${t}`);const D=await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/cadets`,{headers:E});if(D.ok){const K=await D.json();f(K.cadets||[])}}catch(E){console.error("Error fetching cadets:",E)}},le=async()=>{if(j)try{const E={"Content-Type":"application/json"};t&&(E.Authorization=`Bearer ${t}`),(await fetch(`https://${lt}.supabase.co/functions/v1/make-server-73a3871f/points/${j.id}`,{method:"PUT",headers:E,body:JSON.stringify({points:parseFloat(A.points),reason:A.reason})})).ok?(Oe.success("Point updated successfully"),R(null),V()):Oe.error("Failed to update point")}catch(E){console.error("Error updating point:",E),Oe.error("Failed to update point")}},de=E=>{R(E),$({points:E.points.toString(),reason:E.reason})},me=E=>E.filter(D=>{const K=new Date(D.date);return!(y&&K<new Date(y)||S&&K>new Date(S)||k!=="all"&&D.flight!==k||C!=="all"&&D.cadetName!==C)}),ce=me(n),fe=me(a),G=(E,D,K)=>{const te=[K.join(","),...E.map(oe=>K.map(_e=>{const Ee=oe[_e]??"",Pe=String(Ee).replace(/"/g,'""');return Pe.includes(",")?`"${Pe}"`:Pe}).join(","))].join(`
`),we=new Blob([te],{type:"text/csv;charset=utf-8;"}),se=document.createElement("a"),X=URL.createObjectURL(we);se.setAttribute("href",X),se.setAttribute("download",`${D}_${new Date().toISOString().split("T")[0]}.csv`),se.style.visibility="hidden",document.body.appendChild(se),se.click(),document.body.removeChild(se),Oe.success("CSV exported successfully!")},W=()=>{G(ce,"points_report",["cadetName","flight","points","reason","type","date","givenBy"])},Y=()=>{G(fe,"attendance_report",["cadetName","flight","status","date","submittedBy"])},O=Array.from(new Set(u.map(E=>E.flight))).sort(),U=u.map(E=>E.name).sort(),z=e==="staff"||e==="snco";return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(rt,{children:[d.jsxs(nt,{children:[d.jsxs(st,{className:"flex items-center gap-2",children:[d.jsx(YC,{className:"size-5"}),"Filters"]}),d.jsx(rr,{children:"Filter data by date range, flight, or cadet"})]}),d.jsxs(ot,{children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"date-from",children:"From Date"}),d.jsx(hr,{id:"date-from",type:"date",value:y,onChange:E=>v(E.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"date-to",children:"To Date"}),d.jsx(hr,{id:"date-to",type:"date",value:S,onChange:E=>_(E.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"filter-flight",children:"Flight"}),d.jsxs(dn,{value:k,onValueChange:b,children:[d.jsx(hn,{id:"filter-flight",children:d.jsx(fn,{})}),d.jsxs(pn,{children:[d.jsx(Et,{value:"all",children:"All Flights"}),O.map(E=>d.jsx(Et,{value:E,children:E},E))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"filter-cadet",children:"Cadet"}),d.jsxs(dn,{value:C,onValueChange:T,children:[d.jsx(hn,{id:"filter-cadet",children:d.jsx(fn,{})}),d.jsxs(pn,{children:[d.jsx(Et,{value:"all",children:"All Cadets"}),U.map(E=>d.jsx(Et,{value:E,children:E},E))]})]})]})]}),(y||S||k!=="all"||C!=="all")&&d.jsx("div",{className:"mt-4",children:d.jsx(We,{variant:"outline",size:"sm",onClick:()=>{v(""),_(""),b("all"),T("all")},children:"Clear Filters"})})]})]}),d.jsxs($l,{defaultValue:"points",className:"space-y-6",children:[d.jsxs(Fl,{className:"grid w-full grid-cols-2",children:[d.jsx(Ar,{value:"points",children:"Points Records"}),d.jsx(Ar,{value:"attendance",children:"Attendance Records"})]}),d.jsx(Dr,{value:"points",children:d.jsxs(rt,{children:[d.jsx(nt,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(st,{children:"Points Records"}),d.jsxs(rr,{children:[ce.length," record(s) found"]})]}),d.jsxs(We,{onClick:W,children:[d.jsx(pm,{className:"size-4 mr-2"}),"Export CSV"]})]})}),d.jsx(ot,{children:p?d.jsx("div",{className:"text-center py-8",children:"Loading..."}):ce.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No records found"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Wi,{children:[d.jsx(qi,{children:d.jsxs(mn,{children:[d.jsx(et,{children:"Date"}),d.jsx(et,{children:"Cadet"}),d.jsx(et,{children:"Flight"}),d.jsx(et,{children:"Type"}),d.jsx(et,{children:"Points"}),d.jsx(et,{children:"Reason"}),d.jsx(et,{children:"Given By"}),z&&d.jsx(et,{children:"Actions"})]})}),d.jsx(Ki,{children:ce.map(E=>d.jsxs(mn,{children:[d.jsx(tt,{children:new Date(E.date).toLocaleDateString()}),d.jsx(tt,{className:"font-medium",children:E.cadetName}),d.jsx(tt,{children:d.jsx(Kt,{variant:"outline",children:E.flight})}),d.jsx(tt,{children:d.jsx(Kt,{variant:"outline",children:E.type})}),d.jsx(tt,{children:d.jsxs(Kt,{variant:E.points>=0?"default":"destructive",children:[E.points>=0?"+":"",E.points]})}),d.jsx(tt,{className:"max-w-xs truncate",children:E.reason}),d.jsx(tt,{className:"text-sm text-gray-600",children:E.givenBy}),z&&d.jsx(tt,{children:d.jsx(We,{variant:"ghost",size:"sm",onClick:()=>de(E),children:d.jsx(eT,{className:"size-4"})})})]},E.id))})]})})})]})}),d.jsx(Dr,{value:"attendance",children:d.jsxs(rt,{children:[d.jsx(nt,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(st,{children:"Attendance Records"}),d.jsxs(rr,{children:[fe.length," record(s) found"]})]}),d.jsxs(We,{onClick:Y,children:[d.jsx(pm,{className:"size-4 mr-2"}),"Export CSV"]})]})}),d.jsx(ot,{children:p?d.jsx("div",{className:"text-center py-8",children:"Loading..."}):fe.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No records found"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Wi,{children:[d.jsx(qi,{children:d.jsxs(mn,{children:[d.jsx(et,{children:"Date"}),d.jsx(et,{children:"Cadet"}),d.jsx(et,{children:"Flight"}),d.jsx(et,{children:"Status"}),d.jsx(et,{children:"Submitted By"})]})}),d.jsx(Ki,{children:fe.map(E=>d.jsxs(mn,{children:[d.jsx(tt,{children:new Date(E.date).toLocaleDateString()}),d.jsx(tt,{className:"font-medium",children:E.cadetName}),d.jsx(tt,{children:d.jsx(Kt,{variant:"outline",children:E.flight})}),d.jsx(tt,{children:d.jsx(Kt,{variant:E.status==="present"?"default":E.status==="authorised_absence"?"secondary":"destructive",children:E.status==="present"?"Present":E.status==="authorised_absence"?"Auth. Absence":"Absent"})}),d.jsx(tt,{className:"text-sm text-gray-600",children:E.submittedBy})]},E.id))})]})})})]})})]}),d.jsx(Ow,{open:j!==null,onOpenChange:E=>!E&&R(null),children:d.jsxs(Rw,{children:[d.jsxs(Pw,{children:[d.jsx(Aw,{children:"Edit Point Entry"}),d.jsx(Dw,{children:"Make changes to this point record"})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ge,{children:["Cadet: ",j==null?void 0:j.cadetName]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",j&&new Date(j.date).toLocaleDateString()]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"edit-points",children:"Points"}),d.jsx(hr,{id:"edit-points",type:"number",step:"0.5",value:A.points,onChange:E=>$({...A,points:E.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ge,{htmlFor:"edit-reason",children:"Reason"}),d.jsx(Fd,{id:"edit-reason",value:A.reason,onChange:E=>$({...A,reason:E.target.value}),rows:3})]})]}),d.jsxs(Iw,{children:[d.jsxs(We,{variant:"outline",onClick:()=>R(null),children:[d.jsx(Jy,{className:"size-4 mr-2"}),"Cancel"]}),d.jsxs(We,{onClick:le,children:[d.jsx(nT,{className:"size-4 mr-2"}),"Save Changes"]})]})]})})]})}function DO({user:t,accessToken:e,onLogout:n}){var f,p;const o=((f=t==null?void 0:t.user_metadata)==null?void 0:f.role)||"cadet",a=((p=t==null?void 0:t.user_metadata)==null?void 0:p.name)||(t==null?void 0:t.email)||"User",l=o==="pointgiver"||o==="snco"||o==="staff",u=o==="snco"||o==="staff";return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[d.jsx("header",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Rl,{className:"size-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"RAF Air Cadet Squadron"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Flight Points System"})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:a}),d.jsx("p",{className:"text-xs text-gray-500 capitalize",children:o})]}),d.jsxs(We,{variant:"outline",size:"sm",onClick:n,children:[d.jsx(QC,{className:"size-4 mr-2"}),"Logout"]})]})]})})}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs($l,{defaultValue:"leaderboards",className:"space-y-6",children:[d.jsx(Dr,{value:"leaderboards",children:d.jsx(GT,{accessToken:e})}),l&&d.jsxs(d.Fragment,{children:[d.jsx(Dr,{value:"points",children:d.jsx(qT,{accessToken:e,userRole:o})}),d.jsx(Dr,{value:"attendance",children:d.jsx(PO,{accessToken:e,userRole:o})})]}),u&&d.jsxs(d.Fragment,{children:[d.jsx(Dr,{value:"cadets",children:d.jsx(EO,{accessToken:e})}),d.jsx(Dr,{value:"reports",children:d.jsx(AO,{accessToken:e,userRole:o})}),d.jsx(Dr,{value:"integrity",children:d.jsx(IO,{accessToken:e})})]}),d.jsx("div",{className:"flex justify-center mt-6",children:d.jsxs(Fl,{className:"flex items-center gap-3",children:[d.jsxs(Ar,{value:"leaderboards",children:[d.jsx(Gy,{className:"size-4 mr-2"}),"Leaderboards"]}),l&&d.jsxs(d.Fragment,{children:[d.jsxs(Ar,{value:"points",children:[d.jsx(Rl,{className:"size-4 mr-2"}),"Points"]}),d.jsxs(Ar,{value:"attendance",children:[d.jsx(Hy,{className:"size-4 mr-2"}),"Attendance"]})]}),u&&d.jsxs(d.Fragment,{children:[d.jsxs(Ar,{value:"cadets",children:[d.jsx(fT,{className:"size-4 mr-2"}),"Cadets"]}),d.jsxs(Ar,{value:"reports",children:[d.jsx(GC,{className:"size-4 mr-2"}),"Reports"]}),d.jsxs(Ar,{value:"integrity",children:[d.jsx(Ky,{className:"size-4 mr-2"}),"Integrity"]})]})]})})]})})]})}var LO=(t,e,n,o,a,l,u,f)=>{let p=document.documentElement,m=["light","dark"];function y(_){(Array.isArray(t)?t:[t]).forEach(k=>{let b=k==="class",C=b&&l?a.map(T=>l[T]||T):a;b?(p.classList.remove(...C),p.classList.add(l&&l[_]?l[_]:_)):p.setAttribute(k,_)}),v(_)}function v(_){f&&m.includes(_)&&(p.style.colorScheme=_)}function S(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(o)y(o);else try{let _=localStorage.getItem(e)||n,k=u&&_==="system"?S():_;y(k)}catch{}},MO=x.createContext(void 0),$O={setTheme:t=>{},themes:[]},FO=()=>{var t;return(t=x.useContext(MO))!=null?t:$O};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:o,enableColorScheme:a,defaultTheme:l,value:u,themes:f,nonce:p,scriptProps:m})=>{let y=JSON.stringify([n,e,l,t,f,u,o,a]).slice(1,-1);return x.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${LO.toString()})(${y})`}})});const zO=({...t})=>{const{theme:e="system"}=FO();return d.jsx(HT,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},Lm=tv(`https://${lt}.supabase.co`,Zd);function UO(){const[t,e]=x.useState(null),[n,o]=x.useState(null),[a,l]=x.useState(!0);x.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{session:m},error:y}=await Lm.auth.getSession();if(y){console.error("Session error:",y),l(!1);return}m&&(e(m.access_token),o(m.user))}catch(m){console.error("Error checking session:",m)}finally{l(!1)}},f=(m,y)=>{e(m),o(y)},p=async()=>{try{t&&await Lm.auth.signOut()}catch(m){console.error("Error signing out:",m)}finally{e(null),o(null)}};return a?d.jsx("div",{className:"size-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:d.jsx("div",{className:"text-gray-600",children:"Loading..."})}):d.jsxs(d.Fragment,{children:[n?d.jsx(DO,{user:n,accessToken:t,onLogout:p}):d.jsx(mT,{onLogin:f}),d.jsx(zO,{})]})}Ax.createRoot(document.getElementById("root")).render(d.jsx(UO,{}));
